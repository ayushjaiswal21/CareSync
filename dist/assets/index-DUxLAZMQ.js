import{r as I,L as Bt,u as qA,R as Rp,O as GA,a as lw,B as KA,b as YA,c as tn,N as sc}from"./router-B7TuDij5.js";import{r as Tg,a as XA,g as cw}from"./vendor-DJG_os-6.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=t(a);fetch(a.href,c)}})();var $m={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx;function QA(){if(cx)return Zl;cx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var f in a)f!=="key"&&(c[f]=a[f])}else c=a;return a=c.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:c}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var ux;function uw(){return ux||(ux=1,$m.exports=QA()),$m.exports}var m=uw(),Wm={exports:{}},Jl={},Zm={exports:{}},Jm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function $A(){return hx||(hx=1,function(n){function e(Y,J){var ie=Y.length;Y.push(J);e:for(;0<ie;){var me=ie-1>>>1,ve=Y[me];if(0<a(ve,J))Y[me]=J,Y[ie]=ve,ie=me;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var J=Y[0],ie=Y.pop();if(ie!==J){Y[0]=ie;e:for(var me=0,ve=Y.length,We=ve>>>1;me<We;){var Se=2*(me+1)-1,de=Y[Se],Ue=Se+1,st=Y[Ue];if(0>a(de,ie))Ue<ve&&0>a(st,de)?(Y[me]=st,Y[Ue]=ie,me=Ue):(Y[me]=de,Y[Se]=ie,me=Se);else if(Ue<ve&&0>a(st,ie))Y[me]=st,Y[Ue]=ie,me=Ue;else break e}}return J}function a(Y,J){var ie=Y.sortIndex-J.sortIndex;return ie!==0?ie:Y.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var g=[],y=[],x=1,_=null,T=3,C=!1,V=!1,U=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ae(Y){for(var J=t(y);J!==null;){if(J.callback===null)i(y);else if(J.startTime<=Y)i(y),J.sortIndex=J.expirationTime,e(g,J);else break;J=t(y)}}function re(Y){if(U=!1,ae(Y),!V)if(t(g)!==null)V=!0,oe||(oe=!0,O());else{var J=t(y);J!==null&&Ee(re,J.startTime-Y)}}var oe=!1,P=-1,E=5,A=-1;function N(){return B?!0:!(n.unstable_now()-A<E)}function D(){if(B=!1,oe){var Y=n.unstable_now();A=Y;var J=!0;try{e:{V=!1,U&&(U=!1,$(P),P=-1),C=!0;var ie=T;try{t:{for(ae(Y),_=t(g);_!==null&&!(_.expirationTime>Y&&N());){var me=_.callback;if(typeof me=="function"){_.callback=null,T=_.priorityLevel;var ve=me(_.expirationTime<=Y);if(Y=n.unstable_now(),typeof ve=="function"){_.callback=ve,ae(Y),J=!0;break t}_===t(g)&&i(g),ae(Y)}else i(g);_=t(g)}if(_!==null)J=!0;else{var We=t(y);We!==null&&Ee(re,We.startTime-Y),J=!1}}break e}finally{_=null,T=ie,C=!1}J=void 0}}finally{J?O():oe=!1}}}var O;if(typeof Q=="function")O=function(){Q(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Ie=j.port2;j.port1.onmessage=D,O=function(){Ie.postMessage(null)}}else O=function(){K(D,0)};function Ee(Y,J){P=K(function(){Y(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var J=3;break;default:J=T}var ie=T;T=J;try{return Y()}finally{T=ie}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ie=T;T=Y;try{return J()}finally{T=ie}},n.unstable_scheduleCallback=function(Y,J,ie){var me=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,Y){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ie+ve,Y={id:x++,callback:J,priorityLevel:Y,startTime:ie,expirationTime:ve,sortIndex:-1},ie>me?(Y.sortIndex=ie,e(y,Y),t(g)===null&&Y===t(y)&&(U?($(P),P=-1):U=!0,Ee(re,ie-me))):(Y.sortIndex=ve,e(g,Y),V||C||(V=!0,oe||(oe=!0,O()))),Y},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Y){var J=T;return function(){var ie=T;T=J;try{return Y.apply(this,arguments)}finally{T=ie}}}}(Jm)),Jm}var dx;function WA(){return dx||(dx=1,Zm.exports=$A()),Zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function ZA(){if(fx)return Jl;fx=1;var n=WA(),e=Tg(),t=XA();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(c(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=c(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,l=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(l=d.return,l!==null){o=l;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return f(d),s;if(p===l)return f(d),r;p=p.sibling}throw Error(i(188))}if(o.return!==l.return)o=d,l=p;else{for(var w=!1,S=d.child;S;){if(S===o){w=!0,o=d,l=p;break}if(S===l){w=!0,l=d,o=p;break}S=S.sibling}if(!w){for(S=p.child;S;){if(S===o){w=!0,o=p,l=d;break}if(S===l){w=!0,l=p,o=d;break}S=S.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==l)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function O(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function Ie(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case re:return"Suspense";case oe:return"SuspenseList";case A:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case Q:return(s.displayName||"Context")+".Provider";case $:return(s._context.displayName||"Context")+".Consumer";case ae:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return r=s.displayName||null,r!==null?r:Ie(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return Ie(s(r))}catch{}}return null}var Ee=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},me=[],ve=-1;function We(s){return{current:s}}function Se(s){0>ve||(s.current=me[ve],me[ve]=null,ve--)}function de(s,r){ve++,me[ve]=s.current,s.current=r}var Ue=We(null),st=We(null),lt=We(null),Wt=We(null);function Zt(s,r){switch(de(lt,r),de(st,s),de(Ue,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?k1(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=k1(r),s=L1(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Se(Ue),de(Ue,s)}function jt(){Se(Ue),Se(st),Se(lt)}function mn(s){s.memoizedState!==null&&de(Wt,s);var r=Ue.current,o=L1(r,s.type);r!==o&&(de(st,s),de(Ue,o))}function ln(s){st.current===s&&(Se(Ue),Se(st)),Wt.current===s&&(Se(Wt),Yl._currentValue=ie)}var Qn=Object.prototype.hasOwnProperty,Vt=n.unstable_scheduleCallback,bn=n.unstable_cancelCallback,ls=n.unstable_shouldYield,nu=n.unstable_requestPaint,In=n.unstable_now,Qd=n.unstable_getCurrentPriorityLevel,Go=n.unstable_ImmediatePriority,ma=n.unstable_UserBlockingPriority,fr=n.unstable_NormalPriority,$d=n.unstable_LowPriority,pa=n.unstable_IdlePriority,Ko=n.log,su=n.unstable_setDisableYieldValue,ct=null,He=null;function _n(s){if(typeof Ko=="function"&&su(s),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ct,s)}catch{}}var Jt=Math.clz32?Math.clz32:mr,iu=Math.log,Wd=Math.LN2;function mr(s){return s>>>=0,s===0?32:31-(iu(s)/Wd|0)|0}var pr=256,gr=4194304;function $n(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ga(s,r,o){var l=s.pendingLanes;if(l===0)return 0;var d=0,p=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?d=$n(l):(w&=S,w!==0?d=$n(w):o||(o=S&~s,o!==0&&(d=$n(o))))):(S=l&~p,S!==0?d=$n(S):w!==0?d=$n(w):o||(o=l&~s,o!==0&&(d=$n(o)))),d===0?0:r!==0&&r!==d&&(r&p)===0&&(p=d&-d,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:d}function yr(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Yo(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var s=pr;return pr<<=1,(pr&4194048)===0&&(pr=256),s}function Qo(){var s=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),s}function ks(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Ls(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $o(s,r,o,l,d,p){var w=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,M=s.expirationTimes,H=s.hiddenUpdates;for(o=w&~o;0<o;){var W=31-Jt(o),ee=1<<W;S[W]=0,M[W]=-1;var q=H[W];if(q!==null)for(H[W]=null,W=0;W<q.length;W++){var G=q[W];G!==null&&(G.lane&=-536870913)}o&=~ee}l!==0&&cs(s,l,0),p!==0&&d===0&&s.tag!==0&&(s.suspendedLanes|=p&~(w&~r))}function cs(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var l=31-Jt(r);s.entangledLanes|=r,s.entanglements[l]=s.entanglements[l]|1073741824|o&4194090}function Wo(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var l=31-Jt(o),d=1<<l;d&r|s[l]&r&&(s[l]|=r),o&=~d}}function xi(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ya(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function bi(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:sx(s.type))}function ru(s,r){var o=J.p;try{return J.p=s,r()}finally{J.p=o}}var et=Math.random().toString(36).slice(2),St="__reactFiber$"+et,vt="__reactProps$"+et,Dn="__reactContainer$"+et,Zo="__reactEvents$"+et,Zd="__reactListeners$"+et,_i="__reactHandles$"+et,au="__reactResources$"+et,vr="__reactMarker$"+et;function wi(s){delete s[St],delete s[vt],delete s[Zo],delete s[Zd],delete s[_i]}function Us(s){var r=s[St];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Dn]||o[St]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=F1(s);s!==null;){if(o=s[St])return o;s=F1(s)}return r}s=o,o=s.parentNode}return null}function us(s){if(s=s[St]||s[Dn]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function hs(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function cn(s){var r=s[au];return r||(r=s[au]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ft(s){s[vr]=!0}var Jo=new Set,va={};function Wn(s,r){Bs(s,r),Bs(s+"Capture",r)}function Bs(s,r){for(va[s]=r,s=0;s<r.length;s++)Jo.add(r[s])}var ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lu={},xr={};function cu(s){return Qn.call(xr,s)?!0:Qn.call(lu,s)?!1:ou.test(s)?xr[s]=!0:(lu[s]=!0,!1)}function Ti(s,r,o){if(cu(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function ds(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Ft(s,r,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+l)}}var br,uu;function zs(s){if(br===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);br=r&&r[1]||"",uu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+br+s+uu}var xa=!1;function ba(s,r){if(!s||xa)return"";xa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var q=G}Reflect.construct(s,[],ee)}else{try{ee.call()}catch(G){q=G}s.call(ee.prototype)}}else{try{throw Error()}catch(G){q=G}(ee=s())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),w=p[0],S=p[1];if(w&&S){var M=w.split(`
`),H=S.split(`
`);for(d=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===M.length||d===H.length)for(l=M.length-1,d=H.length-1;1<=l&&0<=d&&M[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(M[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||M[l]!==H[d]){var W=`
`+M[l].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=l&&0<=d);break}}}finally{xa=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?zs(o):""}function el(s){switch(s.tag){case 26:case 27:case 5:return zs(s.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 15:return ba(s.type,!1);case 11:return ba(s.type.render,!1);case 1:return ba(s.type,!0);case 31:return zs("Activity");default:return""}}function _a(s){try{var r="";do r+=el(s),s=s.return;while(s);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function un(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function tl(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jd(s){var r=tl(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),l=""+s[r];if(!s.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return d.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(s,r,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function wa(s){s._valueTracker||(s._valueTracker=Jd(s))}function nl(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return s&&(l=tl(s)?s.checked?"true":"false":s.value),s=l,s!==o?(r.setValue(s),!0):!1}function _r(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ef=/[\n"\\]/g;function xt(s){return s.replace(ef,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wn(s,r,o,l,d,p,w,S){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),r!=null?w==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+un(r)):s.value!==""+un(r)&&(s.value=""+un(r)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),r!=null?Ei(s,w,un(r)):o!=null?Ei(s,w,un(o)):l!=null&&s.removeAttribute("value"),d==null&&p!=null&&(s.defaultChecked=!!p),d!=null&&(s.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+un(S):s.removeAttribute("name")}function wr(s,r,o,l,d,p,w,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+un(o):"",r=r!=null?""+un(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,s.checked=S?s.checked:!!l,s.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function Ei(s,r,o){r==="number"&&_r(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Fs(s,r,o,l){if(s=s.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<s.length;o++)d=r.hasOwnProperty("$"+s[o].value),s[o].selected!==d&&(s[o].selected=d),d&&l&&(s[o].defaultSelected=!0)}else{for(o=""+un(o),r=null,d=0;d<s.length;d++){if(s[d].value===o){s[d].selected=!0,l&&(s[d].defaultSelected=!0);return}r!==null||s[d].disabled||(r=s[d])}r!==null&&(r.selected=!0)}}function Ke(s,r,o){if(r!=null&&(r=""+un(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+un(o):""}function Tr(s,r,o,l){if(r==null){if(l!=null){if(o!=null)throw Error(i(92));if(Ee(l)){if(1<l.length)throw Error(i(93));l=l[0]}o=l}o==null&&(o=""),r=o}o=un(r),s.defaultValue=o,l=s.textContent,l===o&&l!==""&&l!==null&&(s.value=l)}function jn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Er=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hu(s,r,o){var l=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":l?s.setProperty(r,o):typeof o!="number"||o===0||Er.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function sl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&o[d]!==l&&hu(s,d,l)}else for(var p in r)r.hasOwnProperty(p)&&hu(s,p,r[p])}function il(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(s){return nf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Hs=null;function Vn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qs=null,Gs=null;function rl(s){var r=us(s);if(r&&(s=r.stateNode)){var o=s[vt]||null;e:switch(s=r.stateNode,r.type){case"input":if(wn(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==s&&l.form===s.form){var d=l[vt]||null;if(!d)throw Error(i(90));wn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)l=o[r],l.form===s.form&&nl(l)}break e;case"textarea":Ke(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Fs(s,!!o.multiple,r,!1)}}}var fs=!1;function du(s,r,o){if(fs)return s(r,o);fs=!0;try{var l=s(r);return l}finally{if(fs=!1,(qs!==null||Gs!==null)&&(rh(),qs&&(r=qs,s=Gs,Gs=qs=null,rl(r),s)))for(r=0;r<s.length;r++)rl(s[r])}}function Sr(s,r){var o=s.stateNode;if(o===null)return null;var l=o[vt]||null;if(l===null)return null;o=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(s=s.type,l=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!l;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Zn)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Mn=!1}var ms=null,Si=null,Ks=null;function al(){if(Ks)return Ks;var s,r=Si,o=r.length,l,d="value"in ms?ms.value:ms.textContent,p=d.length;for(s=0;s<o&&r[s]===d[s];s++);var w=o-s;for(l=1;l<=w&&r[o-l]===d[p-l];l++);return Ks=d.slice(s,1<l?1-l:void 0)}function ps(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function gs(){return!0}function ol(){return!1}function Mt(s){function r(o,l,d,p,w){this._reactName=o,this._targetInst=d,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?gs:ol,this.isPropagationStopped=ol,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),r}var ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Mt(ze),Rr=x({},ze,{view:0,detail:0}),fu=Mt(Rr),Sa,Aa,ys,Nr=x({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ys&&(ys&&s.type==="mousemove"?(Sa=s.screenX-ys.screenX,Aa=s.screenY-ys.screenY):Aa=Sa=0,ys=s),Sa)},movementY:function(s){return"movementY"in s?s.movementY:Aa}}),Pn=Mt(Nr),mu=x({},Nr,{dataTransfer:0}),sf=Mt(mu),Cr=x({},Rr,{relatedTarget:0}),Ra=Mt(Cr),ll=x({},ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=Mt(ll),pu=x({},ze,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ca=Mt(pu),rf=x({},ze,{data:0}),cl=Mt(rf),Ir={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=yu[s])?!!r[s]:!1}function Dr(){return ul}var vu=x({},Rr,{key:function(s){if(s.key){var r=Ir[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ps(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(s){return s.type==="keypress"?ps(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ps(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ia=Mt(vu),xu=x({},Nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Mt(xu),Ys=x({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),bu=Mt(Ys),_u=x({},ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),wu=Mt(_u),Tu=x({},Nr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=Mt(Tu),hn=x({},ze,{newState:0,oldState:0}),Eu=Mt(hn),Su=[9,13,27,32],vs=Zn&&"CompositionEvent"in window,h=null;Zn&&"documentMode"in document&&(h=document.documentMode);var v=Zn&&"TextEvent"in window&&!h,b=Zn&&(!vs||h&&8<h&&11>=h),R=" ",z=!1;function X(s,r){switch(s){case"keyup":return Su.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Me=!1;function At(s,r){switch(s){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(z=!0,R);case"textInput":return s=r.data,s===R&&z?null:s;default:return null}}function Pe(s,r){if(Me)return s==="compositionend"||!vs&&X(s,r)?(s=al(),Ks=Si=ms=null,Me=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Pt[s.type]:r==="textarea"}function Xs(s,r,o,l){qs?Gs?Gs.push(l):Gs=[l]:qs=l,r=hh(r,"onChange"),0<r.length&&(o=new Ea("onChange","change",null,o,l),s.push({event:o,listeners:r}))}var Ht=null,xs=null;function dl(s){j1(s,0)}function Au(s){var r=hs(s);if(nl(r))return s}function J0(s,r){if(s==="change")return r}var ey=!1;if(Zn){var af;if(Zn){var of="oninput"in document;if(!of){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),of=typeof ty.oninput=="function"}af=of}else af=!1;ey=af&&(!document.documentMode||9<document.documentMode)}function ny(){Ht&&(Ht.detachEvent("onpropertychange",sy),xs=Ht=null)}function sy(s){if(s.propertyName==="value"&&Au(xs)){var r=[];Xs(r,xs,s,Vn(s)),du(dl,r)}}function bS(s,r,o){s==="focusin"?(ny(),Ht=r,xs=o,Ht.attachEvent("onpropertychange",sy)):s==="focusout"&&ny()}function _S(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Au(xs)}function wS(s,r){if(s==="click")return Au(r)}function TS(s,r){if(s==="input"||s==="change")return Au(r)}function ES(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Tn=typeof Object.is=="function"?Object.is:ES;function fl(s,r){if(Tn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var d=o[l];if(!Qn.call(r,d)||!Tn(s[d],r[d]))return!1}return!0}function iy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ry(s,r){var o=iy(s);s=0;for(var l;o;){if(o.nodeType===3){if(l=s+o.textContent.length,s<=r&&l>=r)return{node:o,offset:r-s};s=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=iy(o)}}function ay(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?ay(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function oy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=_r(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=_r(s.document)}return r}function lf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var SS=Zn&&"documentMode"in document&&11>=document.documentMode,ja=null,cf=null,ml=null,uf=!1;function ly(s,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;uf||ja==null||ja!==_r(l)||(l=ja,"selectionStart"in l&&lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&fl(ml,l)||(ml=l,l=hh(cf,"onSelect"),0<l.length&&(r=new Ea("onSelect","select",null,r,o),s.push({event:r,listeners:l}),r.target=ja)))}function jr(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Va={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},hf={},cy={};Zn&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Vr(s){if(hf[s])return hf[s];if(!Va[s])return s;var r=Va[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in cy)return hf[s]=r[o];return s}var uy=Vr("animationend"),hy=Vr("animationiteration"),dy=Vr("animationstart"),AS=Vr("transitionrun"),RS=Vr("transitionstart"),NS=Vr("transitioncancel"),fy=Vr("transitionend"),my=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function Jn(s,r){my.set(s,r),Wn(r,[s])}var py=new WeakMap;function On(s,r){if(typeof s=="object"&&s!==null){var o=py.get(s);return o!==void 0?o:(r={value:s,source:r,stack:_a(r)},py.set(s,r),r)}return{value:s,source:r,stack:_a(r)}}var kn=[],Ma=0,ff=0;function Ru(){for(var s=Ma,r=ff=Ma=0;r<s;){var o=kn[r];kn[r++]=null;var l=kn[r];kn[r++]=null;var d=kn[r];kn[r++]=null;var p=kn[r];if(kn[r++]=null,l!==null&&d!==null){var w=l.pending;w===null?d.next=d:(d.next=w.next,w.next=d),l.pending=d}p!==0&&gy(o,d,p)}}function Nu(s,r,o,l){kn[Ma++]=s,kn[Ma++]=r,kn[Ma++]=o,kn[Ma++]=l,ff|=l,s.lanes|=l,s=s.alternate,s!==null&&(s.lanes|=l)}function mf(s,r,o,l){return Nu(s,r,o,l),Cu(s)}function Pa(s,r){return Nu(s,null,null,r),Cu(s)}function gy(s,r,o){s.lanes|=o;var l=s.alternate;l!==null&&(l.lanes|=o);for(var d=!1,p=s.return;p!==null;)p.childLanes|=o,l=p.alternate,l!==null&&(l.childLanes|=o),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(d=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,d&&r!==null&&(d=31-Jt(o),s=p.hiddenUpdates,l=s[d],l===null?s[d]=[r]:l.push(r),r.lane=o|536870912),p):null}function Cu(s){if(50<Ul)throw Ul=0,bm=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Oa={};function CS(s,r,o,l){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(s,r,o,l){return new CS(s,r,o,l)}function pf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qs(s,r){var o=s.alternate;return o===null?(o=En(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function yy(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Iu(s,r,o,l,d,p){var w=0;if(l=s,typeof s=="function")pf(s)&&(w=1);else if(typeof s=="string")w=DA(s,o,Ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case A:return s=En(31,o,r,d),s.elementType=A,s.lanes=p,s;case V:return Mr(o.children,d,p,r);case U:w=8,d|=24;break;case B:return s=En(12,o,r,d|2),s.elementType=B,s.lanes=p,s;case re:return s=En(13,o,r,d),s.elementType=re,s.lanes=p,s;case oe:return s=En(19,o,r,d),s.elementType=oe,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:case Q:w=10;break e;case $:w=9;break e;case ae:w=11;break e;case P:w=14;break e;case E:w=16,l=null;break e}w=29,o=Error(i(130,s===null?"null":typeof s,"")),l=null}return r=En(w,o,r,d),r.elementType=s,r.type=l,r.lanes=p,r}function Mr(s,r,o,l){return s=En(7,s,l,r),s.lanes=o,s}function gf(s,r,o){return s=En(6,s,null,r),s.lanes=o,s}function yf(s,r,o){return r=En(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var ka=[],La=0,Du=null,ju=0,Ln=[],Un=0,Pr=null,$s=1,Ws="";function Or(s,r){ka[La++]=ju,ka[La++]=Du,Du=s,ju=r}function vy(s,r,o){Ln[Un++]=$s,Ln[Un++]=Ws,Ln[Un++]=Pr,Pr=s;var l=$s;s=Ws;var d=32-Jt(l)-1;l&=~(1<<d),o+=1;var p=32-Jt(r)+d;if(30<p){var w=d-d%5;p=(l&(1<<w)-1).toString(32),l>>=w,d-=w,$s=1<<32-Jt(r)+d|o<<d|l,Ws=p+s}else $s=1<<p|o<<d|l,Ws=s}function vf(s){s.return!==null&&(Or(s,1),vy(s,1,0))}function xf(s){for(;s===Du;)Du=ka[--La],ka[La]=null,ju=ka[--La],ka[La]=null;for(;s===Pr;)Pr=Ln[--Un],Ln[Un]=null,Ws=Ln[--Un],Ln[Un]=null,$s=Ln[--Un],Ln[Un]=null}var dn=null,ut=null,Be=!1,kr=null,bs=!1,bf=Error(i(519));function Lr(s){var r=Error(i(418,""));throw yl(On(r,s)),bf}function xy(s){var r=s.stateNode,o=s.type,l=s.memoizedProps;switch(r[St]=s,r[vt]=l,o){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(o=0;o<zl.length;o++)Ce(zl[o],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Ce("invalid",r),wr(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),wa(r);break;case"select":Ce("invalid",r);break;case"textarea":Ce("invalid",r),Tr(r,l.value,l.defaultValue,l.children),wa(r)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||l.suppressHydrationWarning===!0||O1(r.textContent,o)?(l.popover!=null&&(Ce("beforetoggle",r),Ce("toggle",r)),l.onScroll!=null&&Ce("scroll",r),l.onScrollEnd!=null&&Ce("scrollend",r),l.onClick!=null&&(r.onclick=dh),r=!0):r=!1,r||Lr(s)}function by(s){for(dn=s.return;dn;)switch(dn.tag){case 5:case 13:bs=!1;return;case 27:case 3:bs=!0;return;default:dn=dn.return}}function pl(s){if(s!==dn)return!1;if(!Be)return by(s),Be=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Om(s.type,s.memoizedProps)),o=!o),o&&ut&&Lr(s),by(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(o=s.data,o==="/$"){if(r===0){ut=ts(s.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;s=s.nextSibling}ut=null}}else r===27?(r=ut,zi(s.type)?(s=Bm,Bm=null,ut=s):ut=r):ut=dn?ts(s.stateNode.nextSibling):null;return!0}function gl(){ut=dn=null,Be=!1}function _y(){var s=kr;return s!==null&&(yn===null?yn=s:yn.push.apply(yn,s),kr=null),s}function yl(s){kr===null?kr=[s]:kr.push(s)}var _f=We(null),Ur=null,Zs=null;function Ai(s,r,o){de(_f,r._currentValue),r._currentValue=o}function Js(s){s._currentValue=_f.current,Se(_f)}function wf(s,r,o){for(;s!==null;){var l=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),s===o)break;s=s.return}}function Tf(s,r,o,l){var d=s.child;for(d!==null&&(d.return=s);d!==null;){var p=d.dependencies;if(p!==null){var w=d.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=d;for(var M=0;M<r.length;M++)if(S.context===r[M]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),wf(p.return,o,s),l||(w=null);break e}p=S.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(i(341));w.lanes|=o,p=w.alternate,p!==null&&(p.lanes|=o),wf(w,o,s),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===s){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function vl(s,r,o,l){s=null;for(var d=r,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=d.type;Tn(d.pendingProps.value,w.value)||(s!==null?s.push(S):s=[S])}}else if(d===Wt.current){if(w=d.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(s!==null?s.push(Yl):s=[Yl])}d=d.return}s!==null&&Tf(r,s,o,l),r.flags|=262144}function Vu(s){for(s=s.firstContext;s!==null;){if(!Tn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Br(s){Ur=s,Zs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function en(s){return wy(Ur,s)}function Mu(s,r){return Ur===null&&Br(s),wy(s,r)}function wy(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Zs===null){if(s===null)throw Error(i(308));Zs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Zs=Zs.next=r;return o}var IS=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,l){s.push(l)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},DS=n.unstable_scheduleCallback,jS=n.unstable_NormalPriority,Nt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new IS,data:new Map,refCount:0}}function xl(s){s.refCount--,s.refCount===0&&DS(jS,function(){s.controller.abort()})}var bl=null,Sf=0,Ua=0,Ba=null;function VS(s,r){if(bl===null){var o=bl=[];Sf=0,Ua=Rm(),Ba={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Sf++,r.then(Ty,Ty),r}function Ty(){if(--Sf===0&&bl!==null){Ba!==null&&(Ba.status="fulfilled");var s=bl;bl=null,Ua=0,Ba=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function MS(s,r){var o=[],l={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return s.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),l}var Ey=Y.S;Y.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&VS(s,r),Ey!==null&&Ey(s,r)};var zr=We(null);function Af(){var s=zr.current;return s!==null?s:Ze.pooledCache}function Pu(s,r){r===null?de(zr,zr.current):de(zr,r.pool)}function Sy(){var s=Af();return s===null?null:{parent:Nt._currentValue,pool:s}}var _l=Error(i(460)),Ay=Error(i(474)),Ou=Error(i(542)),Rf={then:function(){}};function Ry(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ku(){}function Ny(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(ku,ku),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Iy(s),s;default:if(typeof r.status=="string")r.then(ku,ku);else{if(s=Ze,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Iy(s),s}throw wl=r,_l}}var wl=null;function Cy(){if(wl===null)throw Error(i(459));var s=wl;return wl=null,s}function Iy(s){if(s===_l||s===Ou)throw Error(i(483))}var Ri=!1;function Nf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cf(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ni(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ci(s,r,o){var l=s.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=Cu(s),gy(s,null,o),r}return Nu(s,l,r,o),Cu(s)}function Tl(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var l=r.lanes;l&=s.pendingLanes,o|=l,r.lanes=o,Wo(s,o)}}function If(s,r){var o=s.updateQueue,l=s.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=w:p=p.next=w,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Df=!1;function El(){if(Df){var s=Ba;if(s!==null)throw s}}function Sl(s,r,o,l){Df=!1;var d=s.updateQueue;Ri=!1;var p=d.firstBaseUpdate,w=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var M=S,H=M.next;M.next=null,w===null?p=H:w.next=H,w=M;var W=s.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==w&&(S===null?W.firstBaseUpdate=H:S.next=H,W.lastBaseUpdate=M))}if(p!==null){var ee=d.baseState;w=0,W=H=M=null,S=p;do{var q=S.lane&-536870913,G=q!==S.lane;if(G?(Oe&q)===q:(l&q)===q){q!==0&&q===Ua&&(Df=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var xe=s,pe=S;q=r;var Qe=o;switch(pe.tag){case 1:if(xe=pe.payload,typeof xe=="function"){ee=xe.call(Qe,ee,q);break e}ee=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=pe.payload,q=typeof xe=="function"?xe.call(Qe,ee,q):xe,q==null)break e;ee=x({},ee,q);break e;case 2:Ri=!0}}q=S.callback,q!==null&&(s.flags|=64,G&&(s.flags|=8192),G=d.callbacks,G===null?d.callbacks=[q]:G.push(q))}else G={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(H=W=G,M=ee):W=W.next=G,w|=q;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;G=S,S=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);W===null&&(M=ee),d.baseState=M,d.firstBaseUpdate=H,d.lastBaseUpdate=W,p===null&&(d.shared.lanes=0),ki|=w,s.lanes=w,s.memoizedState=ee}}function Dy(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function jy(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Dy(o[s],r)}var za=We(null),Lu=We(0);function Vy(s,r){s=ai,de(Lu,s),de(za,r),ai=s|r.baseLanes}function jf(){de(Lu,ai),de(za,za.current)}function Vf(){ai=Lu.current,Se(za),Se(Lu)}var Ii=0,Ae=null,Ye=null,bt=null,Uu=!1,Fa=!1,Fr=!1,Bu=0,Al=0,Ha=null,PS=0;function mt(){throw Error(i(321))}function Mf(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Tn(s[o],r[o]))return!1;return!0}function Pf(s,r,o,l,d,p){return Ii=p,Ae=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=s===null||s.memoizedState===null?gv:yv,Fr=!1,p=o(l,d),Fr=!1,Fa&&(p=Py(r,o,l,d)),My(s),p}function My(s){Y.H=Ku;var r=Ye!==null&&Ye.next!==null;if(Ii=0,bt=Ye=Ae=null,Uu=!1,Al=0,Ha=null,r)throw Error(i(300));s===null||Ot||(s=s.dependencies,s!==null&&Vu(s)&&(Ot=!0))}function Py(s,r,o,l){Ae=s;var d=0;do{if(Fa&&(Ha=null),Al=0,Fa=!1,25<=d)throw Error(i(301));if(d+=1,bt=Ye=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=FS,p=r(o,l)}while(Fa);return p}function OS(){var s=Y.H,r=s.useState()[0];return r=typeof r.then=="function"?Rl(r):r,s=s.useState()[0],(Ye!==null?Ye.memoizedState:null)!==s&&(Ae.flags|=1024),r}function Of(){var s=Bu!==0;return Bu=0,s}function kf(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Lf(s){if(Uu){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Uu=!1}Ii=0,bt=Ye=Ae=null,Fa=!1,Al=Bu=0,Ha=null}function pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ae.memoizedState=bt=s:bt=bt.next=s,bt}function _t(){if(Ye===null){var s=Ae.alternate;s=s!==null?s.memoizedState:null}else s=Ye.next;var r=bt===null?Ae.memoizedState:bt.next;if(r!==null)bt=r,Ye=s;else{if(s===null)throw Ae.alternate===null?Error(i(467)):Error(i(310));Ye=s,s={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},bt===null?Ae.memoizedState=bt=s:bt=bt.next=s}return bt}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(s){var r=Al;return Al+=1,Ha===null&&(Ha=[]),s=Ny(Ha,s,r),r=Ae,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?gv:yv),s}function zu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Rl(s);if(s.$$typeof===Q)return en(s)}throw Error(i(438,String(s)))}function Bf(s){var r=null,o=Ae.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Uf(),Ae.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),l=0;l<s;l++)o[l]=N;return r.index++,o}function ei(s,r){return typeof r=="function"?r(s):r}function Fu(s){var r=_t();return zf(r,Ye,s)}function zf(s,r,o){var l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var d=s.baseQueue,p=l.pending;if(p!==null){if(d!==null){var w=d.next;d.next=p.next,p.next=w}r.baseQueue=d=p,l.pending=null}if(p=s.baseState,d===null)s.memoizedState=p;else{r=d.next;var S=w=null,M=null,H=r,W=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Oe&ee)===ee:(Ii&ee)===ee){var q=H.revertLane;if(q===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Ua&&(W=!0);else if((Ii&q)===q){H=H.next,q===Ua&&(W=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(S=M=ee,w=p):M=M.next=ee,Ae.lanes|=q,ki|=q;ee=H.action,Fr&&o(p,ee),p=H.hasEagerState?H.eagerState:o(p,ee)}else q={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(S=M=q,w=p):M=M.next=q,Ae.lanes|=ee,ki|=ee;H=H.next}while(H!==null&&H!==r);if(M===null?w=p:M.next=S,!Tn(p,s.memoizedState)&&(Ot=!0,W&&(o=Ba,o!==null)))throw o;s.memoizedState=p,s.baseState=w,s.baseQueue=M,l.lastRenderedState=p}return d===null&&(l.lanes=0),[s.memoizedState,l.dispatch]}function Ff(s){var r=_t(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var l=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do p=s(p,w.action),w=w.next;while(w!==d);Tn(p,r.memoizedState)||(Ot=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,l]}function Oy(s,r,o){var l=Ae,d=_t(),p=Be;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=r();var w=!Tn((Ye||d).memoizedState,o);w&&(d.memoizedState=o,Ot=!0),d=d.queue;var S=Uy.bind(null,l,d,s);if(Nl(2048,8,S,[s]),d.getSnapshot!==r||w||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,qa(9,Hu(),Ly.bind(null,l,d,o,r),null),Ze===null)throw Error(i(349));p||(Ii&124)!==0||ky(l,r,o)}return o}function ky(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Ae.updateQueue,r===null?(r=Uf(),Ae.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Ly(s,r,o,l){r.value=o,r.getSnapshot=l,By(r)&&zy(s)}function Uy(s,r,o){return o(function(){By(r)&&zy(s)})}function By(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Tn(s,o)}catch{return!0}}function zy(s){var r=Pa(s,2);r!==null&&Cn(r,s,2)}function Hf(s){var r=pn();if(typeof s=="function"){var o=s;if(s=o(),Fr){_n(!0);try{o()}finally{_n(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:s},r}function Fy(s,r,o,l){return s.baseState=o,zf(s,Ye,typeof l=="function"?l:ei)}function kS(s,r,o,l,d){if(Gu(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:d,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};Y.T!==null?o(!0):p.isTransition=!1,l(p),o=r.pending,o===null?(p.next=r.pending=p,Hy(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Hy(s,r){var o=r.action,l=r.payload,d=s.state;if(r.isTransition){var p=Y.T,w={};Y.T=w;try{var S=o(d,l),M=Y.S;M!==null&&M(w,S),qy(s,r,S)}catch(H){qf(s,r,H)}finally{Y.T=p}}else try{p=o(d,l),qy(s,r,p)}catch(H){qf(s,r,H)}}function qy(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){Gy(s,r,l)},function(l){return qf(s,r,l)}):Gy(s,r,o)}function Gy(s,r,o){r.status="fulfilled",r.value=o,Ky(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Hy(s,o)))}function qf(s,r,o){var l=s.pending;if(s.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=o,Ky(r),r=r.next;while(r!==l)}s.action=null}function Ky(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Yy(s,r){return r}function Xy(s,r){if(Be){var o=Ze.formState;if(o!==null){e:{var l=Ae;if(Be){if(ut){t:{for(var d=ut,p=bs;d.nodeType!==8;){if(!p){d=null;break t}if(d=ts(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){ut=ts(d.nextSibling),l=d.data==="F!";break e}}Lr(l)}l=!1}l&&(r=o[0])}}return o=pn(),o.memoizedState=o.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yy,lastRenderedState:r},o.queue=l,o=fv.bind(null,Ae,l),l.dispatch=o,l=Hf(!1),p=Qf.bind(null,Ae,!1,l.queue),l=pn(),d={state:r,dispatch:null,action:s,pending:null},l.queue=d,o=kS.bind(null,Ae,d,p,o),d.dispatch=o,l.memoizedState=s,[r,o,!1]}function Qy(s){var r=_t();return $y(r,Ye,s)}function $y(s,r,o){if(r=zf(s,r,Yy)[0],s=Fu(ei)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Rl(r)}catch(w){throw w===_l?Ou:w}else l=r;r=_t();var d=r.queue,p=d.dispatch;return o!==r.memoizedState&&(Ae.flags|=2048,qa(9,Hu(),LS.bind(null,d,o),null)),[l,p,s]}function LS(s,r){s.action=r}function Wy(s){var r=_t(),o=Ye;if(o!==null)return $y(r,o,s);_t(),r=r.memoizedState,o=_t();var l=o.queue.dispatch;return o.memoizedState=s,[r,l,!1]}function qa(s,r,o,l){return s={tag:s,create:o,deps:l,inst:r,next:null},r=Ae.updateQueue,r===null&&(r=Uf(),Ae.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(l=o.next,o.next=s,s.next=l,r.lastEffect=s),s}function Hu(){return{destroy:void 0,resource:void 0}}function Zy(){return _t().memoizedState}function qu(s,r,o,l){var d=pn();l=l===void 0?null:l,Ae.flags|=s,d.memoizedState=qa(1|r,Hu(),o,l)}function Nl(s,r,o,l){var d=_t();l=l===void 0?null:l;var p=d.memoizedState.inst;Ye!==null&&l!==null&&Mf(l,Ye.memoizedState.deps)?d.memoizedState=qa(r,p,o,l):(Ae.flags|=s,d.memoizedState=qa(1|r,p,o,l))}function Jy(s,r){qu(8390656,8,s,r)}function ev(s,r){Nl(2048,8,s,r)}function tv(s,r){return Nl(4,2,s,r)}function nv(s,r){return Nl(4,4,s,r)}function sv(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function iv(s,r,o){o=o!=null?o.concat([s]):null,Nl(4,4,sv.bind(null,r,s),o)}function Gf(){}function rv(s,r){var o=_t();r=r===void 0?null:r;var l=o.memoizedState;return r!==null&&Mf(r,l[1])?l[0]:(o.memoizedState=[s,r],s)}function av(s,r){var o=_t();r=r===void 0?null:r;var l=o.memoizedState;if(r!==null&&Mf(r,l[1]))return l[0];if(l=s(),Fr){_n(!0);try{s()}finally{_n(!1)}}return o.memoizedState=[l,r],l}function Kf(s,r,o){return o===void 0||(Ii&1073741824)!==0?s.memoizedState=r:(s.memoizedState=o,s=c1(),Ae.lanes|=s,ki|=s,o)}function ov(s,r,o,l){return Tn(o,r)?o:za.current!==null?(s=Kf(s,o,l),Tn(s,r)||(Ot=!0),s):(Ii&42)===0?(Ot=!0,s.memoizedState=o):(s=c1(),Ae.lanes|=s,ki|=s,r)}function lv(s,r,o,l,d){var p=J.p;J.p=p!==0&&8>p?p:8;var w=Y.T,S={};Y.T=S,Qf(s,!1,r,o);try{var M=d(),H=Y.S;if(H!==null&&H(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=MS(M,l);Cl(s,r,W,Nn(s))}else Cl(s,r,l,Nn(s))}catch(ee){Cl(s,r,{then:function(){},status:"rejected",reason:ee},Nn())}finally{J.p=p,Y.T=w}}function US(){}function Yf(s,r,o,l){if(s.tag!==5)throw Error(i(476));var d=cv(s).queue;lv(s,d,r,ie,o===null?US:function(){return uv(s),o(l)})}function cv(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:ie},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function uv(s){var r=cv(s).next.queue;Cl(s,r,{},Nn())}function Xf(){return en(Yl)}function hv(){return _t().memoizedState}function dv(){return _t().memoizedState}function BS(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Nn();s=Ni(o);var l=Ci(r,s,o);l!==null&&(Cn(l,r,o),Tl(l,r,o)),r={cache:Ef()},s.payload=r;return}r=r.return}}function zS(s,r,o){var l=Nn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(s)?mv(r,o):(o=mf(s,r,o,l),o!==null&&(Cn(o,s,l),pv(o,r,l)))}function fv(s,r,o){var l=Nn();Cl(s,r,o,l)}function Cl(s,r,o,l){var d={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gu(s))mv(r,d);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var w=r.lastRenderedState,S=p(w,o);if(d.hasEagerState=!0,d.eagerState=S,Tn(S,w))return Nu(s,r,d,0),Ze===null&&Ru(),!1}catch{}finally{}if(o=mf(s,r,d,l),o!==null)return Cn(o,s,l),pv(o,r,l),!0}return!1}function Qf(s,r,o,l){if(l={lane:2,revertLane:Rm(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(s)){if(r)throw Error(i(479))}else r=mf(s,o,l,2),r!==null&&Cn(r,s,2)}function Gu(s){var r=s.alternate;return s===Ae||r!==null&&r===Ae}function mv(s,r){Fa=Uu=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function pv(s,r,o){if((o&4194048)!==0){var l=r.lanes;l&=s.pendingLanes,o|=l,r.lanes=o,Wo(s,o)}}var Ku={readContext:en,use:zu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},gv={readContext:en,use:zu,useCallback:function(s,r){return pn().memoizedState=[s,r===void 0?null:r],s},useContext:en,useEffect:Jy,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,qu(4194308,4,sv.bind(null,r,s),o)},useLayoutEffect:function(s,r){return qu(4194308,4,s,r)},useInsertionEffect:function(s,r){qu(4,2,s,r)},useMemo:function(s,r){var o=pn();r=r===void 0?null:r;var l=s();if(Fr){_n(!0);try{s()}finally{_n(!1)}}return o.memoizedState=[l,r],l},useReducer:function(s,r,o){var l=pn();if(o!==void 0){var d=o(r);if(Fr){_n(!0);try{o(r)}finally{_n(!1)}}}else d=r;return l.memoizedState=l.baseState=d,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},l.queue=s,s=s.dispatch=zS.bind(null,Ae,s),[l.memoizedState,s]},useRef:function(s){var r=pn();return s={current:s},r.memoizedState=s},useState:function(s){s=Hf(s);var r=s.queue,o=fv.bind(null,Ae,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Gf,useDeferredValue:function(s,r){var o=pn();return Kf(o,s,r)},useTransition:function(){var s=Hf(!1);return s=lv.bind(null,Ae,s.queue,!0,!1),pn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var l=Ae,d=pn();if(Be){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),Ze===null)throw Error(i(349));(Oe&124)!==0||ky(l,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,Jy(Uy.bind(null,l,p,s),[s]),l.flags|=2048,qa(9,Hu(),Ly.bind(null,l,p,o,r),null),o},useId:function(){var s=pn(),r=Ze.identifierPrefix;if(Be){var o=Ws,l=$s;o=(l&~(1<<32-Jt(l)-1)).toString(32)+o,r=""+r+"R"+o,o=Bu++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=PS++,r=""+r+"r"+o.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:Xf,useFormState:Xy,useActionState:Xy,useOptimistic:function(s){var r=pn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Qf.bind(null,Ae,!0,o),o.dispatch=r,[s,r]},useMemoCache:Bf,useCacheRefresh:function(){return pn().memoizedState=BS.bind(null,Ae)}},yv={readContext:en,use:zu,useCallback:rv,useContext:en,useEffect:ev,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:av,useReducer:Fu,useRef:Zy,useState:function(){return Fu(ei)},useDebugValue:Gf,useDeferredValue:function(s,r){var o=_t();return ov(o,Ye.memoizedState,s,r)},useTransition:function(){var s=Fu(ei)[0],r=_t().memoizedState;return[typeof s=="boolean"?s:Rl(s),r]},useSyncExternalStore:Oy,useId:hv,useHostTransitionStatus:Xf,useFormState:Qy,useActionState:Qy,useOptimistic:function(s,r){var o=_t();return Fy(o,Ye,s,r)},useMemoCache:Bf,useCacheRefresh:dv},FS={readContext:en,use:zu,useCallback:rv,useContext:en,useEffect:ev,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:av,useReducer:Ff,useRef:Zy,useState:function(){return Ff(ei)},useDebugValue:Gf,useDeferredValue:function(s,r){var o=_t();return Ye===null?Kf(o,s,r):ov(o,Ye.memoizedState,s,r)},useTransition:function(){var s=Ff(ei)[0],r=_t().memoizedState;return[typeof s=="boolean"?s:Rl(s),r]},useSyncExternalStore:Oy,useId:hv,useHostTransitionStatus:Xf,useFormState:Wy,useActionState:Wy,useOptimistic:function(s,r){var o=_t();return Ye!==null?Fy(o,Ye,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:dv},Ga=null,Il=0;function Yu(s){var r=Il;return Il+=1,Ga===null&&(Ga=[]),Ny(Ga,s,r)}function Dl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Xu(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function vv(s){var r=s._init;return r(s._payload)}function xv(s){function r(L,k){if(s){var F=L.deletions;F===null?(L.deletions=[k],L.flags|=16):F.push(k)}}function o(L,k){if(!s)return null;for(;k!==null;)r(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function d(L,k){return L=Qs(L,k),L.index=0,L.sibling=null,L}function p(L,k,F){return L.index=F,s?(F=L.alternate,F!==null?(F=F.index,F<k?(L.flags|=67108866,k):F):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function w(L){return s&&L.alternate===null&&(L.flags|=67108866),L}function S(L,k,F,Z){return k===null||k.tag!==6?(k=gf(F,L.mode,Z),k.return=L,k):(k=d(k,F),k.return=L,k)}function M(L,k,F,Z){var ce=F.type;return ce===V?W(L,k,F.props.children,Z,F.key):k!==null&&(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===E&&vv(ce)===k.type)?(k=d(k,F.props),Dl(k,F),k.return=L,k):(k=Iu(F.type,F.key,F.props,null,L.mode,Z),Dl(k,F),k.return=L,k)}function H(L,k,F,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=yf(F,L.mode,Z),k.return=L,k):(k=d(k,F.children||[]),k.return=L,k)}function W(L,k,F,Z,ce){return k===null||k.tag!==7?(k=Mr(F,L.mode,Z,ce),k.return=L,k):(k=d(k,F),k.return=L,k)}function ee(L,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=gf(""+k,L.mode,F),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return F=Iu(k.type,k.key,k.props,null,L.mode,F),Dl(F,k),F.return=L,F;case C:return k=yf(k,L.mode,F),k.return=L,k;case E:var Z=k._init;return k=Z(k._payload),ee(L,k,F)}if(Ee(k)||O(k))return k=Mr(k,L.mode,F,null),k.return=L,k;if(typeof k.then=="function")return ee(L,Yu(k),F);if(k.$$typeof===Q)return ee(L,Mu(L,k),F);Xu(L,k)}return null}function q(L,k,F,Z){var ce=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ce!==null?null:S(L,k,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===ce?M(L,k,F,Z):null;case C:return F.key===ce?H(L,k,F,Z):null;case E:return ce=F._init,F=ce(F._payload),q(L,k,F,Z)}if(Ee(F)||O(F))return ce!==null?null:W(L,k,F,Z,null);if(typeof F.then=="function")return q(L,k,Yu(F),Z);if(F.$$typeof===Q)return q(L,k,Mu(L,F),Z);Xu(L,F)}return null}function G(L,k,F,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(F)||null,S(k,L,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return L=L.get(Z.key===null?F:Z.key)||null,M(k,L,Z,ce);case C:return L=L.get(Z.key===null?F:Z.key)||null,H(k,L,Z,ce);case E:var Re=Z._init;return Z=Re(Z._payload),G(L,k,F,Z,ce)}if(Ee(Z)||O(Z))return L=L.get(F)||null,W(k,L,Z,ce,null);if(typeof Z.then=="function")return G(L,k,F,Yu(Z),ce);if(Z.$$typeof===Q)return G(L,k,F,Mu(k,Z),ce);Xu(k,Z)}return null}function xe(L,k,F,Z){for(var ce=null,Re=null,ue=k,ge=k=0,Lt=null;ue!==null&&ge<F.length;ge++){ue.index>ge?(Lt=ue,ue=null):Lt=ue.sibling;var Le=q(L,ue,F[ge],Z);if(Le===null){ue===null&&(ue=Lt);break}s&&ue&&Le.alternate===null&&r(L,ue),k=p(Le,k,ge),Re===null?ce=Le:Re.sibling=Le,Re=Le,ue=Lt}if(ge===F.length)return o(L,ue),Be&&Or(L,ge),ce;if(ue===null){for(;ge<F.length;ge++)ue=ee(L,F[ge],Z),ue!==null&&(k=p(ue,k,ge),Re===null?ce=ue:Re.sibling=ue,Re=ue);return Be&&Or(L,ge),ce}for(ue=l(ue);ge<F.length;ge++)Lt=G(ue,L,ge,F[ge],Z),Lt!==null&&(s&&Lt.alternate!==null&&ue.delete(Lt.key===null?ge:Lt.key),k=p(Lt,k,ge),Re===null?ce=Lt:Re.sibling=Lt,Re=Lt);return s&&ue.forEach(function(Ki){return r(L,Ki)}),Be&&Or(L,ge),ce}function pe(L,k,F,Z){if(F==null)throw Error(i(151));for(var ce=null,Re=null,ue=k,ge=k=0,Lt=null,Le=F.next();ue!==null&&!Le.done;ge++,Le=F.next()){ue.index>ge?(Lt=ue,ue=null):Lt=ue.sibling;var Ki=q(L,ue,Le.value,Z);if(Ki===null){ue===null&&(ue=Lt);break}s&&ue&&Ki.alternate===null&&r(L,ue),k=p(Ki,k,ge),Re===null?ce=Ki:Re.sibling=Ki,Re=Ki,ue=Lt}if(Le.done)return o(L,ue),Be&&Or(L,ge),ce;if(ue===null){for(;!Le.done;ge++,Le=F.next())Le=ee(L,Le.value,Z),Le!==null&&(k=p(Le,k,ge),Re===null?ce=Le:Re.sibling=Le,Re=Le);return Be&&Or(L,ge),ce}for(ue=l(ue);!Le.done;ge++,Le=F.next())Le=G(ue,L,ge,Le.value,Z),Le!==null&&(s&&Le.alternate!==null&&ue.delete(Le.key===null?ge:Le.key),k=p(Le,k,ge),Re===null?ce=Le:Re.sibling=Le,Re=Le);return s&&ue.forEach(function(HA){return r(L,HA)}),Be&&Or(L,ge),ce}function Qe(L,k,F,Z){if(typeof F=="object"&&F!==null&&F.type===V&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:e:{for(var ce=F.key;k!==null;){if(k.key===ce){if(ce=F.type,ce===V){if(k.tag===7){o(L,k.sibling),Z=d(k,F.props.children),Z.return=L,L=Z;break e}}else if(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===E&&vv(ce)===k.type){o(L,k.sibling),Z=d(k,F.props),Dl(Z,F),Z.return=L,L=Z;break e}o(L,k);break}else r(L,k);k=k.sibling}F.type===V?(Z=Mr(F.props.children,L.mode,Z,F.key),Z.return=L,L=Z):(Z=Iu(F.type,F.key,F.props,null,L.mode,Z),Dl(Z,F),Z.return=L,L=Z)}return w(L);case C:e:{for(ce=F.key;k!==null;){if(k.key===ce)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){o(L,k.sibling),Z=d(k,F.children||[]),Z.return=L,L=Z;break e}else{o(L,k);break}else r(L,k);k=k.sibling}Z=yf(F,L.mode,Z),Z.return=L,L=Z}return w(L);case E:return ce=F._init,F=ce(F._payload),Qe(L,k,F,Z)}if(Ee(F))return xe(L,k,F,Z);if(O(F)){if(ce=O(F),typeof ce!="function")throw Error(i(150));return F=ce.call(F),pe(L,k,F,Z)}if(typeof F.then=="function")return Qe(L,k,Yu(F),Z);if(F.$$typeof===Q)return Qe(L,k,Mu(L,F),Z);Xu(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(o(L,k.sibling),Z=d(k,F),Z.return=L,L=Z):(o(L,k),Z=gf(F,L.mode,Z),Z.return=L,L=Z),w(L)):o(L,k)}return function(L,k,F,Z){try{Il=0;var ce=Qe(L,k,F,Z);return Ga=null,ce}catch(ue){if(ue===_l||ue===Ou)throw ue;var Re=En(29,ue,null,L.mode);return Re.lanes=Z,Re.return=L,Re}finally{}}}var Ka=xv(!0),bv=xv(!1),Bn=We(null),_s=null;function Di(s){var r=s.alternate;de(Ct,Ct.current&1),de(Bn,s),_s===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(_s=s)}function _v(s){if(s.tag===22){if(de(Ct,Ct.current),de(Bn,s),_s===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(_s=s)}}else ji()}function ji(){de(Ct,Ct.current),de(Bn,Bn.current)}function ti(s){Se(Bn),_s===s&&(_s=null),Se(Ct)}var Ct=We(0);function Qu(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Um(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function $f(s,r,o,l){r=s.memoizedState,o=o(l,r),o=o==null?r:x({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Wf={enqueueSetState:function(s,r,o){s=s._reactInternals;var l=Nn(),d=Ni(l);d.payload=r,o!=null&&(d.callback=o),r=Ci(s,d,l),r!==null&&(Cn(r,s,l),Tl(r,s,l))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var l=Nn(),d=Ni(l);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Ci(s,d,l),r!==null&&(Cn(r,s,l),Tl(r,s,l))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Nn(),l=Ni(o);l.tag=2,r!=null&&(l.callback=r),r=Ci(s,l,o),r!==null&&(Cn(r,s,o),Tl(r,s,o))}};function wv(s,r,o,l,d,p,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(l,p,w):r.prototype&&r.prototype.isPureReactComponent?!fl(o,l)||!fl(d,p):!0}function Tv(s,r,o,l){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==s&&Wf.enqueueReplaceState(r,r.state,null)}function Hr(s,r){var o=r;if("ref"in r){o={};for(var l in r)l!=="ref"&&(o[l]=r[l])}if(s=s.defaultProps){o===r&&(o=x({},o));for(var d in s)o[d]===void 0&&(o[d]=s[d])}return o}var $u=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Ev(s){$u(s)}function Sv(s){console.error(s)}function Av(s){$u(s)}function Wu(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Rv(s,r,o){try{var l=s.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Zf(s,r,o){return o=Ni(o),o.tag=3,o.payload={element:null},o.callback=function(){Wu(s,r)},o}function Nv(s){return s=Ni(s),s.tag=3,s}function Cv(s,r,o,l){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=l.value;s.payload=function(){return d(p)},s.callback=function(){Rv(r,o,l)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Rv(r,o,l),typeof d!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function HS(s,r,o,l,d){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=o.alternate,r!==null&&vl(r,o,d,!0),o=Bn.current,o!==null){switch(o.tag){case 13:return _s===null?wm():o.alternate===null&&ht===0&&(ht=3),o.flags&=-257,o.flags|=65536,o.lanes=d,l===Rf?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([l]):r.add(l),Em(s,l,d)),!1;case 22:return o.flags|=65536,l===Rf?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([l]):o.add(l)),Em(s,l,d)),!1}throw Error(i(435,o.tag))}return Em(s,l,d),wm(),!1}if(Be)return r=Bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==bf&&(s=Error(i(422),{cause:l}),yl(On(s,o)))):(l!==bf&&(r=Error(i(423),{cause:l}),yl(On(r,o))),s=s.current.alternate,s.flags|=65536,d&=-d,s.lanes|=d,l=On(l,o),d=Zf(s.stateNode,l,d),If(s,d),ht!==4&&(ht=2)),!1;var p=Error(i(520),{cause:l});if(p=On(p,o),Ll===null?Ll=[p]:Ll.push(p),ht!==4&&(ht=2),r===null)return!0;l=On(l,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=d&-d,o.lanes|=s,s=Zf(o.stateNode,l,s),If(o,s),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Li===null||!Li.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Nv(d),Cv(d,s,o,l),If(o,d),!1}o=o.return}while(o!==null);return!1}var Iv=Error(i(461)),Ot=!1;function qt(s,r,o,l){r.child=s===null?bv(r,null,o,l):Ka(r,s.child,o,l)}function Dv(s,r,o,l,d){o=o.render;var p=r.ref;if("ref"in l){var w={};for(var S in l)S!=="ref"&&(w[S]=l[S])}else w=l;return Br(r),l=Pf(s,r,o,w,p,d),S=Of(),s!==null&&!Ot?(kf(s,r,d),ni(s,r,d)):(Be&&S&&vf(r),r.flags|=1,qt(s,r,l,d),r.child)}function jv(s,r,o,l,d){if(s===null){var p=o.type;return typeof p=="function"&&!pf(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Vv(s,r,p,l,d)):(s=Iu(o.type,null,l,r,r.mode,d),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!am(s,d)){var w=p.memoizedProps;if(o=o.compare,o=o!==null?o:fl,o(w,l)&&s.ref===r.ref)return ni(s,r,d)}return r.flags|=1,s=Qs(p,l),s.ref=r.ref,s.return=r,r.child=s}function Vv(s,r,o,l,d){if(s!==null){var p=s.memoizedProps;if(fl(p,l)&&s.ref===r.ref)if(Ot=!1,r.pendingProps=l=p,am(s,d))(s.flags&131072)!==0&&(Ot=!0);else return r.lanes=s.lanes,ni(s,r,d)}return Jf(s,r,o,l,d)}function Mv(s,r,o){var l=r.pendingProps,d=l.children,p=s!==null?s.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=p!==null?p.baseLanes|o:o,s!==null){for(d=r.child=s.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return Pv(s,r,l,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Pu(r,p!==null?p.cachePool:null),p!==null?Vy(r,p):jf(),_v(r);else return r.lanes=r.childLanes=536870912,Pv(s,r,p!==null?p.baseLanes|o:o,o)}else p!==null?(Pu(r,p.cachePool),Vy(r,p),ji(),r.memoizedState=null):(s!==null&&Pu(r,null),jf(),ji());return qt(s,r,d,o),r.child}function Pv(s,r,o,l){var d=Af();return d=d===null?null:{parent:Nt._currentValue,pool:d},r.memoizedState={baseLanes:o,cachePool:d},s!==null&&Pu(r,null),jf(),_v(r),s!==null&&vl(s,r,l,!0),null}function Zu(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Jf(s,r,o,l,d){return Br(r),o=Pf(s,r,o,l,void 0,d),l=Of(),s!==null&&!Ot?(kf(s,r,d),ni(s,r,d)):(Be&&l&&vf(r),r.flags|=1,qt(s,r,o,d),r.child)}function Ov(s,r,o,l,d,p){return Br(r),r.updateQueue=null,o=Py(r,l,o,d),My(s),l=Of(),s!==null&&!Ot?(kf(s,r,p),ni(s,r,p)):(Be&&l&&vf(r),r.flags|=1,qt(s,r,o,p),r.child)}function kv(s,r,o,l,d){if(Br(r),r.stateNode===null){var p=Oa,w=o.contextType;typeof w=="object"&&w!==null&&(p=en(w)),p=new o(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Wf,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},Nf(r),w=o.contextType,p.context=typeof w=="object"&&w!==null?en(w):Oa,p.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&($f(r,o,w,l),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&Wf.enqueueReplaceState(p,p.state,null),Sl(r,l,p,d),El(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(s===null){p=r.stateNode;var S=r.memoizedProps,M=Hr(o,S);p.props=M;var H=p.context,W=o.contextType;w=Oa,typeof W=="object"&&W!==null&&(w=en(W));var ee=o.getDerivedStateFromProps;W=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||H!==w)&&Tv(r,p,l,w),Ri=!1;var q=r.memoizedState;p.state=q,Sl(r,l,p,d),El(),H=r.memoizedState,S||q!==H||Ri?(typeof ee=="function"&&($f(r,o,ee,l),H=r.memoizedState),(M=Ri||wv(r,o,M,l,q,H,w))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),p.props=l,p.state=H,p.context=w,l=M):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Cf(s,r),w=r.memoizedProps,W=Hr(o,w),p.props=W,ee=r.pendingProps,q=p.context,H=o.contextType,M=Oa,typeof H=="object"&&H!==null&&(M=en(H)),S=o.getDerivedStateFromProps,(H=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==ee||q!==M)&&Tv(r,p,l,M),Ri=!1,q=r.memoizedState,p.state=q,Sl(r,l,p,d),El();var G=r.memoizedState;w!==ee||q!==G||Ri||s!==null&&s.dependencies!==null&&Vu(s.dependencies)?(typeof S=="function"&&($f(r,o,S,l),G=r.memoizedState),(W=Ri||wv(r,o,W,l,q,G,M)||s!==null&&s.dependencies!==null&&Vu(s.dependencies))?(H||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,G,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,G,M)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),p.props=l,p.state=G,p.context=M,l=W):(typeof p.componentDidUpdate!="function"||w===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),l=!1)}return p=l,Zu(s,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&l?(r.child=Ka(r,s.child,null,d),r.child=Ka(r,null,o,d)):qt(s,r,o,d),r.memoizedState=p.state,s=r.child):s=ni(s,r,d),s}function Lv(s,r,o,l){return gl(),r.flags|=256,qt(s,r,o,l),r.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(s){return{baseLanes:s,cachePool:Sy()}}function nm(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=zn),s}function Uv(s,r,o){var l=r.pendingProps,d=!1,p=(r.flags&128)!==0,w;if((w=p)||(w=s!==null&&s.memoizedState===null?!1:(Ct.current&2)!==0),w&&(d=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,s===null){if(Be){if(d?Di(r):ji(),Be){var S=ut,M;if(M=S){e:{for(M=S,S=bs;M.nodeType!==8;){if(!S){S=null;break e}if(M=ts(M.nextSibling),M===null){S=null;break e}}S=M}S!==null?(r.memoizedState={dehydrated:S,treeContext:Pr!==null?{id:$s,overflow:Ws}:null,retryLane:536870912,hydrationErrors:null},M=En(18,null,null,0),M.stateNode=S,M.return=r,r.child=M,dn=r,ut=null,M=!0):M=!1}M||Lr(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Um(S)?r.lanes=32:r.lanes=536870912,null;ti(r)}return S=l.children,l=l.fallback,d?(ji(),d=r.mode,S=Ju({mode:"hidden",children:S},d),l=Mr(l,d,o,null),S.return=r,l.return=r,S.sibling=l,r.child=S,d=r.child,d.memoizedState=tm(o),d.childLanes=nm(s,w,o),r.memoizedState=em,l):(Di(r),sm(r,S))}if(M=s.memoizedState,M!==null&&(S=M.dehydrated,S!==null)){if(p)r.flags&256?(Di(r),r.flags&=-257,r=im(s,r,o)):r.memoizedState!==null?(ji(),r.child=s.child,r.flags|=128,r=null):(ji(),d=l.fallback,S=r.mode,l=Ju({mode:"visible",children:l.children},S),d=Mr(d,S,o,null),d.flags|=2,l.return=r,d.return=r,l.sibling=d,r.child=l,Ka(r,s.child,null,o),l=r.child,l.memoizedState=tm(o),l.childLanes=nm(s,w,o),r.memoizedState=em,r=d);else if(Di(r),Um(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var H=w.dgst;w=H,l=Error(i(419)),l.stack="",l.digest=w,yl({value:l,source:null,stack:null}),r=im(s,r,o)}else if(Ot||vl(s,r,o,!1),w=(o&s.childLanes)!==0,Ot||w){if(w=Ze,w!==null&&(l=o&-o,l=(l&42)!==0?1:xi(l),l=(l&(w.suspendedLanes|o))!==0?0:l,l!==0&&l!==M.retryLane))throw M.retryLane=l,Pa(s,l),Cn(w,s,l),Iv;S.data==="$?"||wm(),r=im(s,r,o)}else S.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=M.treeContext,ut=ts(S.nextSibling),dn=r,Be=!0,kr=null,bs=!1,s!==null&&(Ln[Un++]=$s,Ln[Un++]=Ws,Ln[Un++]=Pr,$s=s.id,Ws=s.overflow,Pr=r),r=sm(r,l.children),r.flags|=4096);return r}return d?(ji(),d=l.fallback,S=r.mode,M=s.child,H=M.sibling,l=Qs(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,H!==null?d=Qs(H,d):(d=Mr(d,S,o,null),d.flags|=2),d.return=r,l.return=r,l.sibling=d,r.child=l,l=d,d=r.child,S=s.child.memoizedState,S===null?S=tm(o):(M=S.cachePool,M!==null?(H=Nt._currentValue,M=M.parent!==H?{parent:H,pool:H}:M):M=Sy(),S={baseLanes:S.baseLanes|o,cachePool:M}),d.memoizedState=S,d.childLanes=nm(s,w,o),r.memoizedState=em,l):(Di(r),o=s.child,s=o.sibling,o=Qs(o,{mode:"visible",children:l.children}),o.return=r,o.sibling=null,s!==null&&(w=r.deletions,w===null?(r.deletions=[s],r.flags|=16):w.push(s)),r.child=o,r.memoizedState=null,o)}function sm(s,r){return r=Ju({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Ju(s,r){return s=En(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function im(s,r,o){return Ka(r,s.child,null,o),s=sm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Bv(s,r,o){s.lanes|=r;var l=s.alternate;l!==null&&(l.lanes|=r),wf(s.return,r,o)}function rm(s,r,o,l,d){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=o,p.tailMode=d)}function zv(s,r,o){var l=r.pendingProps,d=l.revealOrder,p=l.tail;if(qt(s,r,l.children,o),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Bv(s,o,r);else if(s.tag===19)Bv(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}l&=1}switch(de(Ct,l),d){case"forwards":for(o=r.child,d=null;o!==null;)s=o.alternate,s!==null&&Qu(s)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),rm(r,!1,d,o,p);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(s=d.alternate,s!==null&&Qu(s)===null){r.child=d;break}s=d.sibling,d.sibling=o,o=d,d=s}rm(r,!0,o,null,p);break;case"together":rm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ni(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),ki|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(vl(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Qs(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Qs(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function am(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Vu(s)))}function qS(s,r,o){switch(r.tag){case 3:Zt(r,r.stateNode.containerInfo),Ai(r,Nt,s.memoizedState.cache),gl();break;case 27:case 5:mn(r);break;case 4:Zt(r,r.stateNode.containerInfo);break;case 10:Ai(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Di(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Uv(s,r,o):(Di(r),s=ni(s,r,o),s!==null?s.sibling:null);Di(r);break;case 19:var d=(s.flags&128)!==0;if(l=(o&r.childLanes)!==0,l||(vl(s,r,o,!1),l=(o&r.childLanes)!==0),d){if(l)return zv(s,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),de(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,Mv(s,r,o);case 24:Ai(r,Nt,s.memoizedState.cache)}return ni(s,r,o)}function Fv(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ot=!0;else{if(!am(s,o)&&(r.flags&128)===0)return Ot=!1,qS(s,r,o);Ot=(s.flags&131072)!==0}else Ot=!1,Be&&(r.flags&1048576)!==0&&vy(r,ju,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var l=r.elementType,d=l._init;if(l=d(l._payload),r.type=l,typeof l=="function")pf(l)?(s=Hr(l,s),r.tag=1,r=kv(null,r,l,s,o)):(r.tag=0,r=Jf(null,r,l,s,o));else{if(l!=null){if(d=l.$$typeof,d===ae){r.tag=11,r=Dv(null,r,l,s,o);break e}else if(d===P){r.tag=14,r=jv(null,r,l,s,o);break e}}throw r=Ie(l)||l,Error(i(306,r,""))}}return r;case 0:return Jf(s,r,r.type,r.pendingProps,o);case 1:return l=r.type,d=Hr(l,r.pendingProps),kv(s,r,l,d,o);case 3:e:{if(Zt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));l=r.pendingProps;var p=r.memoizedState;d=p.element,Cf(s,r),Sl(r,l,null,o);var w=r.memoizedState;if(l=w.cache,Ai(r,Nt,l),l!==p.cache&&Tf(r,[Nt],o,!0),El(),l=w.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Lv(s,r,l,o);break e}else if(l!==d){d=On(Error(i(424)),r),yl(d),r=Lv(s,r,l,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ut=ts(s.firstChild),dn=r,Be=!0,kr=null,bs=!0,o=bv(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(gl(),l===d){r=ni(s,r,o);break e}qt(s,r,l,o)}r=r.child}return r;case 26:return Zu(s,r),s===null?(o=K1(r.type,null,r.pendingProps,null))?r.memoizedState=o:Be||(o=r.type,s=r.pendingProps,l=fh(lt.current).createElement(o),l[St]=r,l[vt]=s,Kt(l,o,s),ft(l),r.stateNode=l):r.memoizedState=K1(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return mn(r),s===null&&Be&&(l=r.stateNode=H1(r.type,r.pendingProps,lt.current),dn=r,bs=!0,d=ut,zi(r.type)?(Bm=d,ut=ts(l.firstChild)):ut=d),qt(s,r,r.pendingProps.children,o),Zu(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Be&&((d=l=ut)&&(l=vA(l,r.type,r.pendingProps,bs),l!==null?(r.stateNode=l,dn=r,ut=ts(l.firstChild),bs=!1,d=!0):d=!1),d||Lr(r)),mn(r),d=r.type,p=r.pendingProps,w=s!==null?s.memoizedProps:null,l=p.children,Om(d,p)?l=null:w!==null&&Om(d,w)&&(r.flags|=32),r.memoizedState!==null&&(d=Pf(s,r,OS,null,null,o),Yl._currentValue=d),Zu(s,r),qt(s,r,l,o),r.child;case 6:return s===null&&Be&&((s=o=ut)&&(o=xA(o,r.pendingProps,bs),o!==null?(r.stateNode=o,dn=r,ut=null,s=!0):s=!1),s||Lr(r)),null;case 13:return Uv(s,r,o);case 4:return Zt(r,r.stateNode.containerInfo),l=r.pendingProps,s===null?r.child=Ka(r,null,l,o):qt(s,r,l,o),r.child;case 11:return Dv(s,r,r.type,r.pendingProps,o);case 7:return qt(s,r,r.pendingProps,o),r.child;case 8:return qt(s,r,r.pendingProps.children,o),r.child;case 12:return qt(s,r,r.pendingProps.children,o),r.child;case 10:return l=r.pendingProps,Ai(r,r.type,l.value),qt(s,r,l.children,o),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Br(r),d=en(d),l=l(d),r.flags|=1,qt(s,r,l,o),r.child;case 14:return jv(s,r,r.type,r.pendingProps,o);case 15:return Vv(s,r,r.type,r.pendingProps,o);case 19:return zv(s,r,o);case 31:return l=r.pendingProps,o=r.mode,l={mode:l.mode,children:l.children},s===null?(o=Ju(l,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Qs(s.child,l),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Mv(s,r,o);case 24:return Br(r),l=en(Nt),s===null?(d=Af(),d===null&&(d=Ze,p=Ef(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),r.memoizedState={parent:l,cache:d},Nf(r),Ai(r,Nt,d)):((s.lanes&o)!==0&&(Cf(s,r),Sl(r,null,null,o),El()),d=s.memoizedState,p=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Ai(r,Nt,l)):(l=p.cache,Ai(r,Nt,l),l!==d.cache&&Tf(r,[Nt],o,!0))),qt(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function si(s){s.flags|=4}function Hv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!W1(r)){if(r=Bn.current,r!==null&&((Oe&4194048)===Oe?_s!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||r!==_s))throw wl=Rf,Ay;s.flags|=8192}}function eh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Qo():536870912,s.lanes|=r,$a|=r)}function jl(s,r){if(!Be)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:l.sibling=null}}function it(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,l=0;if(r)for(var d=s.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=s,d=d.sibling;else for(d=s.child;d!==null;)o|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=s,d=d.sibling;return s.subtreeFlags|=l,s.childLanes=o,r}function GS(s,r,o){var l=r.pendingProps;switch(xf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return o=r.stateNode,l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Js(Nt),jt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(pl(r)?si(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_y())),it(r),null;case 26:return o=r.memoizedState,s===null?(si(r),o!==null?(it(r),Hv(r,o)):(it(r),r.flags&=-16777217)):o?o!==s.memoizedState?(si(r),it(r),Hv(r,o)):(it(r),r.flags&=-16777217):(s.memoizedProps!==l&&si(r),it(r),r.flags&=-16777217),null;case 27:ln(r),o=lt.current;var d=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==l&&si(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return it(r),null}s=Ue.current,pl(r)?xy(r):(s=H1(d,l,o),r.stateNode=s,si(r))}return it(r),null;case 5:if(ln(r),o=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==l&&si(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return it(r),null}if(s=Ue.current,pl(r))xy(r);else{switch(d=fh(lt.current),s){case 1:s=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=d.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?d.createElement(o,{is:l.is}):d.createElement(o)}}s[St]=r,s[vt]=l;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=s;e:switch(Kt(s,o,l),o){case"button":case"input":case"select":case"textarea":s=!!l.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&si(r)}}return it(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==l&&si(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(s=lt.current,pl(r)){if(s=r.stateNode,o=r.memoizedProps,l=null,d=dn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}s[St]=r,s=!!(s.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||O1(s.nodeValue,o)),s||Lr(r)}else s=fh(s).createTextNode(l),s[St]=r,r.stateNode=s}return it(r),null;case 13:if(l=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(d=pl(r),l!==null&&l.dehydrated!==null){if(s===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[St]=r}else gl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),d=!1}else d=_y(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(ti(r),r):(ti(r),null)}if(ti(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=l!==null,s=s!==null&&s.memoizedState!==null,o){l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048)}return o!==s&&o&&(r.child.flags|=8192),eh(r,r.updateQueue),it(r),null;case 4:return jt(),s===null&&Dm(r.stateNode.containerInfo),it(r),null;case 10:return Js(r.type),it(r),null;case 19:if(Se(Ct),d=r.memoizedState,d===null)return it(r),null;if(l=(r.flags&128)!==0,p=d.rendering,p===null)if(l)jl(d,!1);else{if(ht!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=Qu(s),p!==null){for(r.flags|=128,jl(d,!1),s=p.updateQueue,r.updateQueue=s,eh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)yy(o,s),o=o.sibling;return de(Ct,Ct.current&1|2),r.child}s=s.sibling}d.tail!==null&&In()>sh&&(r.flags|=128,l=!0,jl(d,!1),r.lanes=4194304)}else{if(!l)if(s=Qu(p),s!==null){if(r.flags|=128,l=!0,s=s.updateQueue,r.updateQueue=s,eh(r,s),jl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Be)return it(r),null}else 2*In()-d.renderingStartTime>sh&&o!==536870912&&(r.flags|=128,l=!0,jl(d,!1),r.lanes=4194304);d.isBackwards?(p.sibling=r.child,r.child=p):(s=d.last,s!==null?s.sibling=p:r.child=p,d.last=p)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=In(),r.sibling=null,s=Ct.current,de(Ct,l?s&1|2:s&1),r):(it(r),null);case 22:case 23:return ti(r),Vf(),l=r.memoizedState!==null,s!==null?s.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(o&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),o=r.updateQueue,o!==null&&eh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==o&&(r.flags|=2048),s!==null&&Se(zr),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Js(Nt),it(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function KS(s,r){switch(xf(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Js(Nt),jt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return ln(r),null;case 13:if(ti(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));gl()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return Se(Ct),null;case 4:return jt(),null;case 10:return Js(r.type),null;case 22:case 23:return ti(r),Vf(),s!==null&&Se(zr),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Js(Nt),null;case 25:return null;default:return null}}function qv(s,r){switch(xf(r),r.tag){case 3:Js(Nt),jt();break;case 26:case 27:case 5:ln(r);break;case 4:jt();break;case 13:ti(r);break;case 19:Se(Ct);break;case 10:Js(r.type);break;case 22:case 23:ti(r),Vf(),s!==null&&Se(zr);break;case 24:Js(Nt)}}function Vl(s,r){try{var o=r.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var d=l.next;o=d;do{if((o.tag&s)===s){l=void 0;var p=o.create,w=o.inst;l=p(),w.destroy=l}o=o.next}while(o!==d)}}catch(S){$e(r,r.return,S)}}function Vi(s,r,o){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&s)===s){var w=l.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,d=r;var M=o,H=S;try{H()}catch(W){$e(d,M,W)}}}l=l.next}while(l!==p)}}catch(W){$e(r,r.return,W)}}function Gv(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{jy(r,o)}catch(l){$e(s,s.return,l)}}}function Kv(s,r,o){o.props=Hr(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(l){$e(s,r,l)}}function Ml(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var l=s.stateNode;break;case 30:l=s.stateNode;break;default:l=s.stateNode}typeof o=="function"?s.refCleanup=o(l):o.current=l}}catch(d){$e(s,r,d)}}function ws(s,r){var o=s.ref,l=s.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(d){$e(s,r,d)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){$e(s,r,d)}else o.current=null}function Yv(s){var r=s.type,o=s.memoizedProps,l=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(d){$e(s,s.return,d)}}function om(s,r,o){try{var l=s.stateNode;fA(l,s.type,o,r),l[vt]=r}catch(d){$e(s,s.return,d)}}function Xv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&zi(s.type)||s.tag===4}function lm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Xv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&zi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cm(s,r,o){var l=s.tag;if(l===5||l===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=dh));else if(l!==4&&(l===27&&zi(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(cm(s,r,o),s=s.sibling;s!==null;)cm(s,r,o),s=s.sibling}function th(s,r,o){var l=s.tag;if(l===5||l===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(l!==4&&(l===27&&zi(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(th(s,r,o),s=s.sibling;s!==null;)th(s,r,o),s=s.sibling}function Qv(s){var r=s.stateNode,o=s.memoizedProps;try{for(var l=s.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Kt(r,l,o),r[St]=s,r[vt]=o}catch(p){$e(s,s.return,p)}}var ii=!1,pt=!1,um=!1,$v=typeof WeakSet=="function"?WeakSet:Set,kt=null;function YS(s,r){if(s=s.containerInfo,Mm=xh,s=oy(s),lf(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var d=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var w=0,S=-1,M=-1,H=0,W=0,ee=s,q=null;t:for(;;){for(var G;ee!==o||d!==0&&ee.nodeType!==3||(S=w+d),ee!==p||l!==0&&ee.nodeType!==3||(M=w+l),ee.nodeType===3&&(w+=ee.nodeValue.length),(G=ee.firstChild)!==null;)q=ee,ee=G;for(;;){if(ee===s)break t;if(q===o&&++H===d&&(S=w),q===p&&++W===l&&(M=w),(G=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=G}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Pm={focusedElem:s,selectionRange:o},xh=!1,kt=r;kt!==null;)if(r=kt,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,kt=s;else for(;kt!==null;){switch(r=kt,p=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,o=r,d=p.memoizedProps,p=p.memoizedState,l=o.stateNode;try{var xe=Hr(o.type,d,o.elementType===o.type);s=l.getSnapshotBeforeUpdate(xe,p),l.__reactInternalSnapshotBeforeUpdate=s}catch(pe){$e(o,o.return,pe)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Lm(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Lm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,kt=s;break}kt=r.return}}function Wv(s,r,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Mi(s,o),l&4&&Vl(5,o);break;case 1:if(Mi(s,o),l&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(w){$e(o,o.return,w)}else{var d=Hr(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(d,r,s.__reactInternalSnapshotBeforeUpdate)}catch(w){$e(o,o.return,w)}}l&64&&Gv(o),l&512&&Ml(o,o.return);break;case 3:if(Mi(s,o),l&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{jy(s,r)}catch(w){$e(o,o.return,w)}}break;case 27:r===null&&l&4&&Qv(o);case 26:case 5:Mi(s,o),r===null&&l&4&&Yv(o),l&512&&Ml(o,o.return);break;case 12:Mi(s,o);break;case 13:Mi(s,o),l&4&&e1(s,o),l&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=nA.bind(null,o),bA(s,o))));break;case 22:if(l=o.memoizedState!==null||ii,!l){r=r!==null&&r.memoizedState!==null||pt,d=ii;var p=pt;ii=l,(pt=r)&&!p?Pi(s,o,(o.subtreeFlags&8772)!==0):Mi(s,o),ii=d,pt=p}break;case 30:break;default:Mi(s,o)}}function Zv(s){var r=s.alternate;r!==null&&(s.alternate=null,Zv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&wi(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tt=null,gn=!1;function ri(s,r,o){for(o=o.child;o!==null;)Jv(s,r,o),o=o.sibling}function Jv(s,r,o){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ct,o)}catch{}switch(o.tag){case 26:pt||ws(o,r),ri(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pt||ws(o,r);var l=tt,d=gn;zi(o.type)&&(tt=o.stateNode,gn=!1),ri(s,r,o),Hl(o.stateNode),tt=l,gn=d;break;case 5:pt||ws(o,r);case 6:if(l=tt,d=gn,tt=null,ri(s,r,o),tt=l,gn=d,tt!==null)if(gn)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(o.stateNode)}catch(p){$e(o,r,p)}else try{tt.removeChild(o.stateNode)}catch(p){$e(o,r,p)}break;case 18:tt!==null&&(gn?(s=tt,z1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Wl(s)):z1(tt,o.stateNode));break;case 4:l=tt,d=gn,tt=o.stateNode.containerInfo,gn=!0,ri(s,r,o),tt=l,gn=d;break;case 0:case 11:case 14:case 15:pt||Vi(2,o,r),pt||Vi(4,o,r),ri(s,r,o);break;case 1:pt||(ws(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"&&Kv(o,r,l)),ri(s,r,o);break;case 21:ri(s,r,o);break;case 22:pt=(l=pt)||o.memoizedState!==null,ri(s,r,o),pt=l;break;default:ri(s,r,o)}}function e1(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wl(s)}catch(o){$e(r,r.return,o)}}function XS(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new $v),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new $v),r;default:throw Error(i(435,s.tag))}}function hm(s,r){var o=XS(s);r.forEach(function(l){var d=sA.bind(null,s,l);o.has(l)||(o.add(l),l.then(d,d))})}function Sn(s,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var d=o[l],p=s,w=r,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(zi(S.type)){tt=S.stateNode,gn=!1;break e}break;case 5:tt=S.stateNode,gn=!1;break e;case 3:case 4:tt=S.stateNode.containerInfo,gn=!0;break e}S=S.return}if(tt===null)throw Error(i(160));Jv(p,w,d),tt=null,gn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)t1(r,s),r=r.sibling}var es=null;function t1(s,r){var o=s.alternate,l=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Sn(r,s),An(s),l&4&&(Vi(3,s,s.return),Vl(3,s),Vi(5,s,s.return));break;case 1:Sn(r,s),An(s),l&512&&(pt||o===null||ws(o,o.return)),l&64&&ii&&(s=s.updateQueue,s!==null&&(l=s.callbacks,l!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var d=es;if(Sn(r,s),An(s),l&512&&(pt||o===null||ws(o,o.return)),l&4){var p=o!==null?o.memoizedState:null;if(l=s.memoizedState,o===null)if(l===null)if(s.stateNode===null){e:{l=s.type,o=s.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":p=d.getElementsByTagName("title")[0],(!p||p[vr]||p[St]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(l),d.head.insertBefore(p,d.querySelector("head > title"))),Kt(p,l,o),p[St]=s,ft(p),l=p;break e;case"link":var w=Q1("link","href",d).get(l+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(p=w[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}p=d.createElement(l),Kt(p,l,o),d.head.appendChild(p);break;case"meta":if(w=Q1("meta","content",d).get(l+(o.content||""))){for(S=0;S<w.length;S++)if(p=w[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}p=d.createElement(l),Kt(p,l,o),d.head.appendChild(p);break;default:throw Error(i(468,l))}p[St]=s,ft(p),l=p}s.stateNode=l}else $1(d,s.type,s.stateNode);else s.stateNode=X1(d,l,s.memoizedProps);else p!==l?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,l===null?$1(d,s.type,s.stateNode):X1(d,l,s.memoizedProps)):l===null&&s.stateNode!==null&&om(s,s.memoizedProps,o.memoizedProps)}break;case 27:Sn(r,s),An(s),l&512&&(pt||o===null||ws(o,o.return)),o!==null&&l&4&&om(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Sn(r,s),An(s),l&512&&(pt||o===null||ws(o,o.return)),s.flags&32){d=s.stateNode;try{jn(d,"")}catch(G){$e(s,s.return,G)}}l&4&&s.stateNode!=null&&(d=s.memoizedProps,om(s,d,o!==null?o.memoizedProps:d)),l&1024&&(um=!0);break;case 6:if(Sn(r,s),An(s),l&4){if(s.stateNode===null)throw Error(i(162));l=s.memoizedProps,o=s.stateNode;try{o.nodeValue=l}catch(G){$e(s,s.return,G)}}break;case 3:if(gh=null,d=es,es=mh(r.containerInfo),Sn(r,s),es=d,An(s),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Wl(r.containerInfo)}catch(G){$e(s,s.return,G)}um&&(um=!1,n1(s));break;case 4:l=es,es=mh(s.stateNode.containerInfo),Sn(r,s),An(s),es=l;break;case 12:Sn(r,s),An(s);break;case 13:Sn(r,s),An(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ym=In()),l&4&&(l=s.updateQueue,l!==null&&(s.updateQueue=null,hm(s,l)));break;case 22:d=s.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,H=ii,W=pt;if(ii=H||d,pt=W||M,Sn(r,s),pt=W,ii=H,An(s),l&8192)e:for(r=s.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||M||ii||pt||qr(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(p=M.stateNode,d)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=M.stateNode;var ee=M.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){$e(M,M.return,G)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(G){$e(M,M.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=s.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,hm(s,o))));break;case 19:Sn(r,s),An(s),l&4&&(l=s.updateQueue,l!==null&&(s.updateQueue=null,hm(s,l)));break;case 30:break;case 21:break;default:Sn(r,s),An(s)}}function An(s){var r=s.flags;if(r&2){try{for(var o,l=s.return;l!==null;){if(Xv(l)){o=l;break}l=l.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,p=lm(s);th(s,p,d);break;case 5:var w=o.stateNode;o.flags&32&&(jn(w,""),o.flags&=-33);var S=lm(s);th(s,S,w);break;case 3:case 4:var M=o.stateNode.containerInfo,H=lm(s);cm(s,H,M);break;default:throw Error(i(161))}}catch(W){$e(s,s.return,W)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function n1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;n1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Mi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Wv(s,r.alternate,r),r=r.sibling}function qr(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Vi(4,r,r.return),qr(r);break;case 1:ws(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Kv(r,r.return,o),qr(r);break;case 27:Hl(r.stateNode);case 26:case 5:ws(r,r.return),qr(r);break;case 22:r.memoizedState===null&&qr(r);break;case 30:qr(r);break;default:qr(r)}s=s.sibling}}function Pi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=s,p=r,w=p.flags;switch(p.tag){case 0:case 11:case 15:Pi(d,p,o),Vl(4,p);break;case 1:if(Pi(d,p,o),l=p,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){$e(l,l.return,H)}if(l=p,d=l.updateQueue,d!==null){var S=l.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Dy(M[d],S)}catch(H){$e(l,l.return,H)}}o&&w&64&&Gv(p),Ml(p,p.return);break;case 27:Qv(p);case 26:case 5:Pi(d,p,o),o&&l===null&&w&4&&Yv(p),Ml(p,p.return);break;case 12:Pi(d,p,o);break;case 13:Pi(d,p,o),o&&w&4&&e1(d,p);break;case 22:p.memoizedState===null&&Pi(d,p,o),Ml(p,p.return);break;case 30:break;default:Pi(d,p,o)}r=r.sibling}}function dm(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&xl(o))}function fm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&xl(s))}function Ts(s,r,o,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)s1(s,r,o,l),r=r.sibling}function s1(s,r,o,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Ts(s,r,o,l),d&2048&&Vl(9,r);break;case 1:Ts(s,r,o,l);break;case 3:Ts(s,r,o,l),d&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&xl(s)));break;case 12:if(d&2048){Ts(s,r,o,l),s=r.stateNode;try{var p=r.memoizedProps,w=p.id,S=p.onPostCommit;typeof S=="function"&&S(w,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(M){$e(r,r.return,M)}}else Ts(s,r,o,l);break;case 13:Ts(s,r,o,l);break;case 23:break;case 22:p=r.stateNode,w=r.alternate,r.memoizedState!==null?p._visibility&2?Ts(s,r,o,l):Pl(s,r):p._visibility&2?Ts(s,r,o,l):(p._visibility|=2,Ya(s,r,o,l,(r.subtreeFlags&10256)!==0)),d&2048&&dm(w,r);break;case 24:Ts(s,r,o,l),d&2048&&fm(r.alternate,r);break;default:Ts(s,r,o,l)}}function Ya(s,r,o,l,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=s,w=r,S=o,M=l,H=w.flags;switch(w.tag){case 0:case 11:case 15:Ya(p,w,S,M,d),Vl(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&2?Ya(p,w,S,M,d):Pl(p,w):(W._visibility|=2,Ya(p,w,S,M,d)),d&&H&2048&&dm(w.alternate,w);break;case 24:Ya(p,w,S,M,d),d&&H&2048&&fm(w.alternate,w);break;default:Ya(p,w,S,M,d)}r=r.sibling}}function Pl(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,l=r,d=l.flags;switch(l.tag){case 22:Pl(o,l),d&2048&&dm(l.alternate,l);break;case 24:Pl(o,l),d&2048&&fm(l.alternate,l);break;default:Pl(o,l)}r=r.sibling}}var Ol=8192;function Xa(s){if(s.subtreeFlags&Ol)for(s=s.child;s!==null;)i1(s),s=s.sibling}function i1(s){switch(s.tag){case 26:Xa(s),s.flags&Ol&&s.memoizedState!==null&&VA(es,s.memoizedState,s.memoizedProps);break;case 5:Xa(s);break;case 3:case 4:var r=es;es=mh(s.stateNode.containerInfo),Xa(s),es=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Ol,Ol=16777216,Xa(s),Ol=r):Xa(s));break;default:Xa(s)}}function r1(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function kl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];kt=l,o1(l,s)}r1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)a1(s),s=s.sibling}function a1(s){switch(s.tag){case 0:case 11:case 15:kl(s),s.flags&2048&&Vi(9,s,s.return);break;case 3:kl(s);break;case 12:kl(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,nh(s)):kl(s);break;default:kl(s)}}function nh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];kt=l,o1(l,s)}r1(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Vi(8,r,r.return),nh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,nh(r));break;default:nh(r)}s=s.sibling}}function o1(s,r){for(;kt!==null;){var o=kt;switch(o.tag){case 0:case 11:case 15:Vi(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,kt=l;else e:for(o=s;kt!==null;){l=kt;var d=l.sibling,p=l.return;if(Zv(l),l===o){kt=null;break e}if(d!==null){d.return=p,kt=d;break e}kt=p}}}var QS={getCacheForType:function(s){var r=en(Nt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o}},$S=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ze=null,Ne=null,Oe=0,Ge=0,Rn=null,Oi=!1,Qa=!1,mm=!1,ai=0,ht=0,ki=0,Gr=0,pm=0,zn=0,$a=0,Ll=null,yn=null,gm=!1,ym=0,sh=1/0,ih=null,Li=null,Gt=0,Ui=null,Wa=null,Za=0,vm=0,xm=null,l1=null,Ul=0,bm=null;function Nn(){if((qe&2)!==0&&Oe!==0)return Oe&-Oe;if(Y.T!==null){var s=Ua;return s!==0?s:Rm()}return bi()}function c1(){zn===0&&(zn=(Oe&536870912)===0||Be?Xo():536870912);var s=Bn.current;return s!==null&&(s.flags|=32),zn}function Cn(s,r,o){(s===Ze&&(Ge===2||Ge===9)||s.cancelPendingCommit!==null)&&(Ja(s,0),Bi(s,Oe,zn,!1)),Ls(s,o),((qe&2)===0||s!==Ze)&&(s===Ze&&((qe&2)===0&&(Gr|=o),ht===4&&Bi(s,Oe,zn,!1)),Es(s))}function u1(s,r,o){if((qe&6)!==0)throw Error(i(327));var l=!o&&(r&124)===0&&(r&s.expiredLanes)===0||yr(s,r),d=l?JS(s,r):Tm(s,r,!0),p=l;do{if(d===0){Qa&&!l&&Bi(s,r,0,!1);break}else{if(o=s.current.alternate,p&&!WS(o)){d=Tm(s,r,!1),p=!1;continue}if(d===2){if(p=r,s.errorRecoveryDisabledLanes&p)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var S=s;d=Ll;var M=S.current.memoizedState.isDehydrated;if(M&&(Ja(S,w).flags|=256),w=Tm(S,w,!1),w!==2){if(mm&&!M){S.errorRecoveryDisabledLanes|=p,Gr|=p,d=4;break e}p=yn,yn=d,p!==null&&(yn===null?yn=p:yn.push.apply(yn,p))}d=w}if(p=!1,d!==2)continue}}if(d===1){Ja(s,0),Bi(s,r,0,!0);break}e:{switch(l=s,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Bi(l,r,zn,!Oi);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=ym+300-In(),10<d)){if(Bi(l,r,zn,!Oi),ga(l,0,!0)!==0)break e;l.timeoutHandle=U1(h1.bind(null,l,o,yn,ih,gm,r,zn,Gr,$a,Oi,p,2,-0,0),d);break e}h1(l,o,yn,ih,gm,r,zn,Gr,$a,Oi,p,0,-0,0)}}break}while(!0);Es(s)}function h1(s,r,o,l,d,p,w,S,M,H,W,ee,q,G){if(s.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:jA},i1(r),ee=MA(),ee!==null)){s.cancelPendingCommit=ee(v1.bind(null,s,r,p,o,l,d,w,S,M,W,1,q,G)),Bi(s,p,w,!H);return}v1(s,r,p,o,l,d,w,S,M)}function WS(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var d=o[l],p=d.getSnapshot;d=d.value;try{if(!Tn(p(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Bi(s,r,o,l){r&=~pm,r&=~Gr,s.suspendedLanes|=r,s.pingedLanes&=~r,l&&(s.warmLanes|=r),l=s.expirationTimes;for(var d=r;0<d;){var p=31-Jt(d),w=1<<p;l[p]=-1,d&=~w}o!==0&&cs(s,o,r)}function rh(){return(qe&6)===0?(Bl(0),!1):!0}function _m(){if(Ne!==null){if(Ge===0)var s=Ne.return;else s=Ne,Zs=Ur=null,Lf(s),Ga=null,Il=0,s=Ne;for(;s!==null;)qv(s.alternate,s),s=s.return;Ne=null}}function Ja(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,pA(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),_m(),Ze=s,Ne=o=Qs(s.current,null),Oe=r,Ge=0,Rn=null,Oi=!1,Qa=yr(s,r),mm=!1,$a=zn=pm=Gr=ki=ht=0,yn=Ll=null,gm=!1,(r&8)!==0&&(r|=r&32);var l=s.entangledLanes;if(l!==0)for(s=s.entanglements,l&=r;0<l;){var d=31-Jt(l),p=1<<d;r|=s[d],l&=~p}return ai=r,Ru(),o}function d1(s,r){Ae=null,Y.H=Ku,r===_l||r===Ou?(r=Cy(),Ge=3):r===Ay?(r=Cy(),Ge=4):Ge=r===Iv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Ne===null&&(ht=1,Wu(s,On(r,s.current)))}function f1(){var s=Y.H;return Y.H=Ku,s===null?Ku:s}function m1(){var s=Y.A;return Y.A=QS,s}function wm(){ht=4,Oi||(Oe&4194048)!==Oe&&Bn.current!==null||(Qa=!0),(ki&134217727)===0&&(Gr&134217727)===0||Ze===null||Bi(Ze,Oe,zn,!1)}function Tm(s,r,o){var l=qe;qe|=2;var d=f1(),p=m1();(Ze!==s||Oe!==r)&&(ih=null,Ja(s,r)),r=!1;var w=ht;e:do try{if(Ge!==0&&Ne!==null){var S=Ne,M=Rn;switch(Ge){case 8:_m(),w=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(r=!0);var H=Ge;if(Ge=0,Rn=null,eo(s,S,M,H),o&&Qa){w=0;break e}break;default:H=Ge,Ge=0,Rn=null,eo(s,S,M,H)}}ZS(),w=ht;break}catch(W){d1(s,W)}while(!0);return r&&s.shellSuspendCounter++,Zs=Ur=null,qe=l,Y.H=d,Y.A=p,Ne===null&&(Ze=null,Oe=0,Ru()),w}function ZS(){for(;Ne!==null;)p1(Ne)}function JS(s,r){var o=qe;qe|=2;var l=f1(),d=m1();Ze!==s||Oe!==r?(ih=null,sh=In()+500,Ja(s,r)):Qa=yr(s,r);e:do try{if(Ge!==0&&Ne!==null){r=Ne;var p=Rn;t:switch(Ge){case 1:Ge=0,Rn=null,eo(s,r,p,1);break;case 2:case 9:if(Ry(p)){Ge=0,Rn=null,g1(r);break}r=function(){Ge!==2&&Ge!==9||Ze!==s||(Ge=7),Es(s)},p.then(r,r);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Ry(p)?(Ge=0,Rn=null,g1(r)):(Ge=0,Rn=null,eo(s,r,p,7));break;case 5:var w=null;switch(Ne.tag){case 26:w=Ne.memoizedState;case 5:case 27:var S=Ne;if(!w||W1(w)){Ge=0,Rn=null;var M=S.sibling;if(M!==null)Ne=M;else{var H=S.return;H!==null?(Ne=H,ah(H)):Ne=null}break t}}Ge=0,Rn=null,eo(s,r,p,5);break;case 6:Ge=0,Rn=null,eo(s,r,p,6);break;case 8:_m(),ht=6;break e;default:throw Error(i(462))}}eA();break}catch(W){d1(s,W)}while(!0);return Zs=Ur=null,Y.H=l,Y.A=d,qe=o,Ne!==null?0:(Ze=null,Oe=0,Ru(),ht)}function eA(){for(;Ne!==null&&!ls();)p1(Ne)}function p1(s){var r=Fv(s.alternate,s,ai);s.memoizedProps=s.pendingProps,r===null?ah(s):Ne=r}function g1(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Ov(o,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=Ov(o,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:Lf(r);default:qv(o,r),r=Ne=yy(r,ai),r=Fv(o,r,ai)}s.memoizedProps=s.pendingProps,r===null?ah(s):Ne=r}function eo(s,r,o,l){Zs=Ur=null,Lf(r),Ga=null,Il=0;var d=r.return;try{if(HS(s,d,r,o,Oe)){ht=1,Wu(s,On(o,s.current)),Ne=null;return}}catch(p){if(d!==null)throw Ne=d,p;ht=1,Wu(s,On(o,s.current)),Ne=null;return}r.flags&32768?(Be||l===1?s=!0:Qa||(Oe&536870912)!==0?s=!1:(Oi=s=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),y1(r,s)):ah(r)}function ah(s){var r=s;do{if((r.flags&32768)!==0){y1(r,Oi);return}s=r.return;var o=GS(r.alternate,r,ai);if(o!==null){Ne=o;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=s}while(r!==null);ht===0&&(ht=5)}function y1(s,r){do{var o=KS(s.alternate,s);if(o!==null){o.flags&=32767,Ne=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Ne=s;return}Ne=s=o}while(s!==null);ht=6,Ne=null}function v1(s,r,o,l,d,p,w,S,M){s.cancelPendingCommit=null;do oh();while(Gt!==0);if((qe&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=ff,$o(s,o,p,w,S,M),s===Ze&&(Ne=Ze=null,Oe=0),Wa=r,Ui=s,Za=o,vm=p,xm=d,l1=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,iA(fr,function(){return T1(),null})):(s.callbackNode=null,s.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,d=J.p,J.p=2,w=qe,qe|=4;try{YS(s,r,o)}finally{qe=w,J.p=d,Y.T=l}}Gt=1,x1(),b1(),_1()}}function x1(){if(Gt===1){Gt=0;var s=Ui,r=Wa,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var l=J.p;J.p=2;var d=qe;qe|=4;try{t1(r,s);var p=Pm,w=oy(s.containerInfo),S=p.focusedElem,M=p.selectionRange;if(w!==S&&S&&S.ownerDocument&&ay(S.ownerDocument.documentElement,S)){if(M!==null&&lf(S)){var H=M.start,W=M.end;if(W===void 0&&(W=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(W,S.value.length);else{var ee=S.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var G=q.getSelection(),xe=S.textContent.length,pe=Math.min(M.start,xe),Qe=M.end===void 0?pe:Math.min(M.end,xe);!G.extend&&pe>Qe&&(w=Qe,Qe=pe,pe=w);var L=ry(S,pe),k=ry(S,Qe);if(L&&k&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var F=ee.createRange();F.setStart(L.node,L.offset),G.removeAllRanges(),pe>Qe?(G.addRange(F),G.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),G.addRange(F))}}}}for(ee=[],G=S;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var Z=ee[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}xh=!!Mm,Pm=Mm=null}finally{qe=d,J.p=l,Y.T=o}}s.current=r,Gt=2}}function b1(){if(Gt===2){Gt=0;var s=Ui,r=Wa,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var l=J.p;J.p=2;var d=qe;qe|=4;try{Wv(s,r.alternate,r)}finally{qe=d,J.p=l,Y.T=o}}Gt=3}}function _1(){if(Gt===4||Gt===3){Gt=0,nu();var s=Ui,r=Wa,o=Za,l=l1;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,Wa=Ui=null,w1(s,s.pendingLanes));var d=s.pendingLanes;if(d===0&&(Li=null),ya(o),r=r.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ct,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,d=J.p,J.p=2,Y.T=null;try{for(var p=s.onRecoverableError,w=0;w<l.length;w++){var S=l[w];p(S.value,{componentStack:S.stack})}}finally{Y.T=r,J.p=d}}(Za&3)!==0&&oh(),Es(s),d=s.pendingLanes,(o&4194090)!==0&&(d&42)!==0?s===bm?Ul++:(Ul=0,bm=s):Ul=0,Bl(0)}}function w1(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,xl(r)))}function oh(s){return x1(),b1(),_1(),T1()}function T1(){if(Gt!==5)return!1;var s=Ui,r=vm;vm=0;var o=ya(Za),l=Y.T,d=J.p;try{J.p=32>o?32:o,Y.T=null,o=xm,xm=null;var p=Ui,w=Za;if(Gt=0,Wa=Ui=null,Za=0,(qe&6)!==0)throw Error(i(331));var S=qe;if(qe|=4,a1(p.current),s1(p,p.current,w,o),qe=S,Bl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ct,p)}catch{}return!0}finally{J.p=d,Y.T=l,w1(s,r)}}function E1(s,r,o){r=On(o,r),r=Zf(s.stateNode,r,2),s=Ci(s,r,2),s!==null&&(Ls(s,2),Es(s))}function $e(s,r,o){if(s.tag===3)E1(s,s,o);else for(;r!==null;){if(r.tag===3){E1(r,s,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Li===null||!Li.has(l))){s=On(o,s),o=Nv(2),l=Ci(r,o,2),l!==null&&(Cv(o,l,r,s),Ls(l,2),Es(l));break}}r=r.return}}function Em(s,r,o){var l=s.pingCache;if(l===null){l=s.pingCache=new $S;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(o)||(mm=!0,d.add(o),s=tA.bind(null,s,r,o),r.then(s,s))}function tA(s,r,o){var l=s.pingCache;l!==null&&l.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,Ze===s&&(Oe&o)===o&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>In()-ym?(qe&2)===0&&Ja(s,0):pm|=o,$a===Oe&&($a=0)),Es(s)}function S1(s,r){r===0&&(r=Qo()),s=Pa(s,r),s!==null&&(Ls(s,r),Es(s))}function nA(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),S1(s,o)}function sA(s,r){var o=0;switch(s.tag){case 13:var l=s.stateNode,d=s.memoizedState;d!==null&&(o=d.retryLane);break;case 19:l=s.stateNode;break;case 22:l=s.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),S1(s,o)}function iA(s,r){return Vt(s,r)}var lh=null,to=null,Sm=!1,ch=!1,Am=!1,Kr=0;function Es(s){s!==to&&s.next===null&&(to===null?lh=to=s:to=to.next=s),ch=!0,Sm||(Sm=!0,aA())}function Bl(s,r){if(!Am&&ch){Am=!0;do for(var o=!1,l=lh;l!==null;){if(s!==0){var d=l.pendingLanes;if(d===0)var p=0;else{var w=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-Jt(42|s)+1)-1,p&=d&~(w&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,C1(l,p))}else p=Oe,p=ga(l,l===Ze?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||yr(l,p)||(o=!0,C1(l,p));l=l.next}while(o);Am=!1}}function rA(){A1()}function A1(){ch=Sm=!1;var s=0;Kr!==0&&(mA()&&(s=Kr),Kr=0);for(var r=In(),o=null,l=lh;l!==null;){var d=l.next,p=R1(l,r);p===0?(l.next=null,o===null?lh=d:o.next=d,d===null&&(to=o)):(o=l,(s!==0||(p&3)!==0)&&(ch=!0)),l=d}Bl(s)}function R1(s,r){for(var o=s.suspendedLanes,l=s.pingedLanes,d=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var w=31-Jt(p),S=1<<w,M=d[w];M===-1?((S&o)===0||(S&l)!==0)&&(d[w]=Yo(S,r)):M<=r&&(s.expiredLanes|=S),p&=~S}if(r=Ze,o=Oe,o=ga(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),l=s.callbackNode,o===0||s===r&&(Ge===2||Ge===9)||s.cancelPendingCommit!==null)return l!==null&&l!==null&&bn(l),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||yr(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(l!==null&&bn(l),ya(o)){case 2:case 8:o=ma;break;case 32:o=fr;break;case 268435456:o=pa;break;default:o=fr}return l=N1.bind(null,s),o=Vt(o,l),s.callbackPriority=r,s.callbackNode=o,r}return l!==null&&l!==null&&bn(l),s.callbackPriority=2,s.callbackNode=null,2}function N1(s,r){if(Gt!==0&&Gt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(oh()&&s.callbackNode!==o)return null;var l=Oe;return l=ga(s,s===Ze?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),l===0?null:(u1(s,l,r),R1(s,In()),s.callbackNode!=null&&s.callbackNode===o?N1.bind(null,s):null)}function C1(s,r){if(oh())return null;u1(s,r,!0)}function aA(){gA(function(){(qe&6)!==0?Vt(Go,rA):A1()})}function Rm(){return Kr===0&&(Kr=Xo()),Kr}function I1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ta(""+s)}function D1(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function oA(s,r,o,l,d){if(r==="submit"&&o&&o.stateNode===d){var p=I1((d[vt]||null).action),w=l.submitter;w&&(r=(r=w[vt]||null)?I1(r.formAction):w.getAttribute("formAction"),r!==null&&(p=r,w=null));var S=new Ea("action","action",null,l,d);s.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Kr!==0){var M=w?D1(d,w):new FormData(d);Yf(o,{pending:!0,data:M,method:d.method,action:p},null,M)}}else typeof p=="function"&&(S.preventDefault(),M=w?D1(d,w):new FormData(d),Yf(o,{pending:!0,data:M,method:d.method,action:p},p,M))},currentTarget:d}]})}}for(var Nm=0;Nm<df.length;Nm++){var Cm=df[Nm],lA=Cm.toLowerCase(),cA=Cm[0].toUpperCase()+Cm.slice(1);Jn(lA,"on"+cA)}Jn(uy,"onAnimationEnd"),Jn(hy,"onAnimationIteration"),Jn(dy,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(AS,"onTransitionRun"),Jn(RS,"onTransitionStart"),Jn(NS,"onTransitionCancel"),Jn(fy,"onTransitionEnd"),Bs("onMouseEnter",["mouseout","mouseover"]),Bs("onMouseLeave",["mouseout","mouseover"]),Bs("onPointerEnter",["pointerout","pointerover"]),Bs("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function j1(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var l=s[o],d=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var w=l.length-1;0<=w;w--){var S=l[w],M=S.instance,H=S.currentTarget;if(S=S.listener,M!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=H;try{p(d)}catch(W){$u(W)}d.currentTarget=null,p=M}else for(w=0;w<l.length;w++){if(S=l[w],M=S.instance,H=S.currentTarget,S=S.listener,M!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=H;try{p(d)}catch(W){$u(W)}d.currentTarget=null,p=M}}}}function Ce(s,r){var o=r[Zo];o===void 0&&(o=r[Zo]=new Set);var l=s+"__bubble";o.has(l)||(V1(r,s,2,!1),o.add(l))}function Im(s,r,o){var l=0;r&&(l|=4),V1(o,s,l,r)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Dm(s){if(!s[uh]){s[uh]=!0,Jo.forEach(function(o){o!=="selectionchange"&&(uA.has(o)||Im(o,!1,s),Im(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[uh]||(r[uh]=!0,Im("selectionchange",!1,r))}}function V1(s,r,o,l){switch(sx(r)){case 2:var d=kA;break;case 8:d=LA;break;default:d=Gm}o=d.bind(null,r,o,s),d=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?s.addEventListener(r,o,{capture:!0,passive:d}):s.addEventListener(r,o,!0):d!==void 0?s.addEventListener(r,o,{passive:d}):s.addEventListener(r,o,!1)}function jm(s,r,o,l,d){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var S=l.stateNode.containerInfo;if(S===d)break;if(w===4)for(w=l.return;w!==null;){var M=w.tag;if((M===3||M===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;S!==null;){if(w=Us(S),w===null)return;if(M=w.tag,M===5||M===6||M===26||M===27){l=p=w;continue e}S=S.parentNode}}l=l.return}du(function(){var H=p,W=Vn(o),ee=[];e:{var q=my.get(s);if(q!==void 0){var G=Ea,xe=s;switch(s){case"keypress":if(ps(o)===0)break e;case"keydown":case"keyup":G=Ia;break;case"focusin":xe="focus",G=Ra;break;case"focusout":xe="blur",G=Ra;break;case"beforeblur":case"afterblur":G=Ra;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=bu;break;case uy:case hy:case dy:G=Na;break;case fy:G=wu;break;case"scroll":case"scrollend":G=fu;break;case"wheel":G=Da;break;case"copy":case"cut":case"paste":G=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=hl;break;case"toggle":case"beforetoggle":G=Eu}var pe=(r&4)!==0,Qe=!pe&&(s==="scroll"||s==="scrollend"),L=pe?q!==null?q+"Capture":null:q;pe=[];for(var k=H,F;k!==null;){var Z=k;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||L===null||(Z=Sr(k,L),Z!=null&&pe.push(Fl(k,Z,F))),Qe)break;k=k.return}0<pe.length&&(q=new G(q,xe,null,o,W),ee.push({event:q,listeners:pe}))}}if((r&7)===0){e:{if(q=s==="mouseover"||s==="pointerover",G=s==="mouseout"||s==="pointerout",q&&o!==Hs&&(xe=o.relatedTarget||o.fromElement)&&(Us(xe)||xe[Dn]))break e;if((G||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,G?(xe=o.relatedTarget||o.toElement,G=H,xe=xe?Us(xe):null,xe!==null&&(Qe=c(xe),pe=xe.tag,xe!==Qe||pe!==5&&pe!==27&&pe!==6)&&(xe=null)):(G=null,xe=H),G!==xe)){if(pe=Pn,Z="onMouseLeave",L="onMouseEnter",k="mouse",(s==="pointerout"||s==="pointerover")&&(pe=hl,Z="onPointerLeave",L="onPointerEnter",k="pointer"),Qe=G==null?q:hs(G),F=xe==null?q:hs(xe),q=new pe(Z,k+"leave",G,o,W),q.target=Qe,q.relatedTarget=F,Z=null,Us(W)===H&&(pe=new pe(L,k+"enter",xe,o,W),pe.target=F,pe.relatedTarget=Qe,Z=pe),Qe=Z,G&&xe)t:{for(pe=G,L=xe,k=0,F=pe;F;F=no(F))k++;for(F=0,Z=L;Z;Z=no(Z))F++;for(;0<k-F;)pe=no(pe),k--;for(;0<F-k;)L=no(L),F--;for(;k--;){if(pe===L||L!==null&&pe===L.alternate)break t;pe=no(pe),L=no(L)}pe=null}else pe=null;G!==null&&M1(ee,q,G,pe,!1),xe!==null&&Qe!==null&&M1(ee,Qe,xe,pe,!0)}}e:{if(q=H?hs(H):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var ce=J0;else if(Rt(q))if(ey)ce=TS;else{ce=_S;var Re=bS}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&il(H.elementType)&&(ce=J0):ce=wS;if(ce&&(ce=ce(s,H))){Xs(ee,ce,o,W);break e}Re&&Re(s,q,H),s==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Ei(q,"number",q.value)}switch(Re=H?hs(H):window,s){case"focusin":(Rt(Re)||Re.contentEditable==="true")&&(ja=Re,cf=H,ml=null);break;case"focusout":ml=cf=ja=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,ly(ee,o,W);break;case"selectionchange":if(SS)break;case"keydown":case"keyup":ly(ee,o,W)}var ue;if(vs)e:{switch(s){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Me?X(s,o)&&(ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(ge="onCompositionStart");ge&&(b&&o.locale!=="ko"&&(Me||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Me&&(ue=al()):(ms=W,Si="value"in ms?ms.value:ms.textContent,Me=!0)),Re=hh(H,ge),0<Re.length&&(ge=new cl(ge,s,null,o,W),ee.push({event:ge,listeners:Re}),ue?ge.data=ue:(ue=se(o),ue!==null&&(ge.data=ue)))),(ue=v?At(s,o):Pe(s,o))&&(ge=hh(H,"onBeforeInput"),0<ge.length&&(Re=new cl("onBeforeInput","beforeinput",null,o,W),ee.push({event:Re,listeners:ge}),Re.data=ue)),oA(ee,s,H,o,W)}j1(ee,r)})}function Fl(s,r,o){return{instance:s,listener:r,currentTarget:o}}function hh(s,r){for(var o=r+"Capture",l=[];s!==null;){var d=s,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Sr(s,o),d!=null&&l.unshift(Fl(s,d,p)),d=Sr(s,r),d!=null&&l.push(Fl(s,d,p))),s.tag===3)return l;s=s.return}return[]}function no(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function M1(s,r,o,l,d){for(var p=r._reactName,w=[];o!==null&&o!==l;){var S=o,M=S.alternate,H=S.stateNode;if(S=S.tag,M!==null&&M===l)break;S!==5&&S!==26&&S!==27||H===null||(M=H,d?(H=Sr(o,p),H!=null&&w.unshift(Fl(o,H,M))):d||(H=Sr(o,p),H!=null&&w.push(Fl(o,H,M)))),o=o.return}w.length!==0&&s.push({event:r,listeners:w})}var hA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function P1(s){return(typeof s=="string"?s:""+s).replace(hA,`
`).replace(dA,"")}function O1(s,r){return r=P1(r),P1(s)===r}function dh(){}function Xe(s,r,o,l,d,p){switch(o){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||jn(s,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&jn(s,""+l);break;case"className":ds(s,"class",l);break;case"tabIndex":ds(s,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ds(s,o,l);break;case"style":sl(s,l,p);break;case"data":if(r!=="object"){ds(s,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){s.removeAttribute(o);break}l=Ta(""+l),s.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Xe(s,r,"name",d.name,d,null),Xe(s,r,"formEncType",d.formEncType,d,null),Xe(s,r,"formMethod",d.formMethod,d,null),Xe(s,r,"formTarget",d.formTarget,d,null)):(Xe(s,r,"encType",d.encType,d,null),Xe(s,r,"method",d.method,d,null),Xe(s,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){s.removeAttribute(o);break}l=Ta(""+l),s.setAttribute(o,l);break;case"onClick":l!=null&&(s.onclick=dh);break;case"onScroll":l!=null&&Ce("scroll",s);break;case"onScrollEnd":l!=null&&Ce("scrollend",s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":s.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){s.removeAttribute("xlink:href");break}o=Ta(""+l),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(o,""+l):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":l===!0?s.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(o,l):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?s.setAttribute(o,l):s.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?s.removeAttribute(o):s.setAttribute(o,l);break;case"popover":Ce("beforetoggle",s),Ce("toggle",s),Ti(s,"popover",l);break;case"xlinkActuate":Ft(s,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ft(s,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ft(s,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ft(s,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ft(s,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ft(s,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ft(s,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ti(s,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=tf.get(o)||o,Ti(s,o,l))}}function Vm(s,r,o,l,d,p){switch(o){case"style":sl(s,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(d.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof l=="string"?jn(s,l):(typeof l=="number"||typeof l=="bigint")&&jn(s,""+l);break;case"onScroll":l!=null&&Ce("scroll",s);break;case"onScrollEnd":l!=null&&Ce("scrollend",s);break;case"onClick":l!=null&&(s.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),p=s[vt]||null,p=p!=null?p[o]:null,typeof p=="function"&&s.removeEventListener(r,p,d),typeof l=="function")){typeof p!="function"&&p!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,l,d);break e}o in s?s[o]=l:l===!0?s.setAttribute(o,""):Ti(s,o,l)}}}function Kt(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",s),Ce("load",s);var l=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var w=o[p];if(w!=null)switch(p){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Xe(s,r,p,w,o,null)}}d&&Xe(s,r,"srcSet",o.srcSet,o,null),l&&Xe(s,r,"src",o.src,o,null);return;case"input":Ce("invalid",s);var S=p=w=d=null,M=null,H=null;for(l in o)if(o.hasOwnProperty(l)){var W=o[l];if(W!=null)switch(l){case"name":d=W;break;case"type":w=W;break;case"checked":M=W;break;case"defaultChecked":H=W;break;case"value":p=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:Xe(s,r,l,W,o,null)}}wr(s,p,S,M,H,w,d,!1),wa(s);return;case"select":Ce("invalid",s),l=w=p=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":w=S;break;case"multiple":l=S;default:Xe(s,r,d,S,o,null)}r=p,o=w,s.multiple=!!l,r!=null?Fs(s,!!l,r,!1):o!=null&&Fs(s,!!l,o,!0);return;case"textarea":Ce("invalid",s),p=d=l=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":l=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Xe(s,r,w,S,o,null)}Tr(s,l,d,p),wa(s);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(l=o[M],l!=null))switch(M){case"selected":s.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(s,r,M,l,o,null)}return;case"dialog":Ce("beforetoggle",s),Ce("toggle",s),Ce("cancel",s),Ce("close",s);break;case"iframe":case"object":Ce("load",s);break;case"video":case"audio":for(l=0;l<zl.length;l++)Ce(zl[l],s);break;case"image":Ce("error",s),Ce("load",s);break;case"details":Ce("toggle",s);break;case"embed":case"source":case"link":Ce("error",s),Ce("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(l=o[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Xe(s,r,H,l,o,null)}return;default:if(il(r)){for(W in o)o.hasOwnProperty(W)&&(l=o[W],l!==void 0&&Vm(s,r,W,l,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(l=o[S],l!=null&&Xe(s,r,S,l,o,null))}function fA(s,r,o,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,w=null,S=null,M=null,H=null,W=null;for(G in o){var ee=o[G];if(o.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":M=ee;default:l.hasOwnProperty(G)||Xe(s,r,G,null,l,ee)}}for(var q in l){var G=l[q];if(ee=o[q],l.hasOwnProperty(q)&&(G!=null||ee!=null))switch(q){case"type":p=G;break;case"name":d=G;break;case"checked":H=G;break;case"defaultChecked":W=G;break;case"value":w=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:G!==ee&&Xe(s,r,q,G,l,ee)}}wn(s,w,S,M,H,W,p,d);return;case"select":G=w=S=q=null;for(p in o)if(M=o[p],o.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":G=M;default:l.hasOwnProperty(p)||Xe(s,r,p,null,l,M)}for(d in l)if(p=l[d],M=o[d],l.hasOwnProperty(d)&&(p!=null||M!=null))switch(d){case"value":q=p;break;case"defaultValue":S=p;break;case"multiple":w=p;default:p!==M&&Xe(s,r,d,p,l,M)}r=S,o=w,l=G,q!=null?Fs(s,!!o,q,!1):!!l!=!!o&&(r!=null?Fs(s,!!o,r,!0):Fs(s,!!o,o?[]:"",!1));return;case"textarea":G=q=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xe(s,r,S,null,l,d)}for(w in l)if(d=l[w],p=o[w],l.hasOwnProperty(w)&&(d!=null||p!=null))switch(w){case"value":q=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&Xe(s,r,w,d,l,p)}Ke(s,q,G);return;case"option":for(var xe in o)if(q=o[xe],o.hasOwnProperty(xe)&&q!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":s.selected=!1;break;default:Xe(s,r,xe,null,l,q)}for(M in l)if(q=l[M],G=o[M],l.hasOwnProperty(M)&&q!==G&&(q!=null||G!=null))switch(M){case"selected":s.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xe(s,r,M,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in o)q=o[pe],o.hasOwnProperty(pe)&&q!=null&&!l.hasOwnProperty(pe)&&Xe(s,r,pe,null,l,q);for(H in l)if(q=l[H],G=o[H],l.hasOwnProperty(H)&&q!==G&&(q!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:Xe(s,r,H,q,l,G)}return;default:if(il(r)){for(var Qe in o)q=o[Qe],o.hasOwnProperty(Qe)&&q!==void 0&&!l.hasOwnProperty(Qe)&&Vm(s,r,Qe,void 0,l,q);for(W in l)q=l[W],G=o[W],!l.hasOwnProperty(W)||q===G||q===void 0&&G===void 0||Vm(s,r,W,q,l,G);return}}for(var L in o)q=o[L],o.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Xe(s,r,L,null,l,q);for(ee in l)q=l[ee],G=o[ee],!l.hasOwnProperty(ee)||q===G||q==null&&G==null||Xe(s,r,ee,q,l,G)}var Mm=null,Pm=null;function fh(s){return s.nodeType===9?s:s.ownerDocument}function k1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L1(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Om(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var km=null;function mA(){var s=window.event;return s&&s.type==="popstate"?s===km?!1:(km=s,!0):(km=null,!1)}var U1=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(s){return B1.resolve(null).then(s).catch(yA)}:U1;function yA(s){setTimeout(function(){throw s})}function zi(s){return s==="head"}function z1(s,r){var o=r,l=0,d=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<l&&8>l){o=l;var w=s.ownerDocument;if(o&1&&Hl(w.documentElement),o&2&&Hl(w.body),o&4)for(o=w.head,Hl(o),w=o.firstChild;w;){var S=w.nextSibling,M=w.nodeName;w[vr]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=S}}if(d===0){s.removeChild(p),Wl(r);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:l=o.charCodeAt(0)-48;else l=0;o=p}while(o);Wl(r)}function Lm(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Lm(o),wi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function vA(s,r,o,l){for(;s.nodeType===1;){var d=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(l){if(!s[vr])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==d.rel||s.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||s.getAttribute("title")!==(d.title==null?null:d.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(d.src==null?null:d.src)||s.getAttribute("type")!==(d.type==null?null:d.type)||s.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=ts(s.nextSibling),s===null)break}return null}function xA(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=ts(s.nextSibling),s===null))return null;return s}function Um(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function bA(s,r){var o=s.ownerDocument;if(s.data!=="$?"||o.readyState==="complete")r();else{var l=function(){r(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),s._reactRetry=l}}function ts(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Bm=null;function F1(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return s;r--}else o==="/$"&&r++}s=s.previousSibling}return null}function H1(s,r,o){switch(r=fh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Hl(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);wi(s)}var Fn=new Map,q1=new Set;function mh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var oi=J.d;J.d={f:_A,r:wA,D:TA,C:EA,L:SA,m:AA,X:NA,S:RA,M:CA};function _A(){var s=oi.f(),r=rh();return s||r}function wA(s){var r=us(s);r!==null&&r.tag===5&&r.type==="form"?uv(r):oi.r(s)}var so=typeof document>"u"?null:document;function G1(s,r,o){var l=so;if(l&&typeof r=="string"&&r){var d=xt(r);d='link[rel="'+s+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),q1.has(d)||(q1.add(d),s={rel:s,crossOrigin:o,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Kt(r,"link",s),ft(r),l.head.appendChild(r)))}}function TA(s){oi.D(s),G1("dns-prefetch",s,null)}function EA(s,r){oi.C(s,r),G1("preconnect",s,r)}function SA(s,r,o){oi.L(s,r,o);var l=so;if(l&&s&&r){var d='link[rel="preload"][as="'+xt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+xt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+xt(o.imageSizes)+'"]')):d+='[href="'+xt(s)+'"]';var p=d;switch(r){case"style":p=io(s);break;case"script":p=ro(s)}Fn.has(p)||(s=x({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),Fn.set(p,s),l.querySelector(d)!==null||r==="style"&&l.querySelector(ql(p))||r==="script"&&l.querySelector(Gl(p))||(r=l.createElement("link"),Kt(r,"link",s),ft(r),l.head.appendChild(r)))}}function AA(s,r){oi.m(s,r);var o=so;if(o&&s){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(s)+'"]',p=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ro(s)}if(!Fn.has(p)&&(s=x({rel:"modulepreload",href:s},r),Fn.set(p,s),o.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gl(p)))return}l=o.createElement("link"),Kt(l,"link",s),ft(l),o.head.appendChild(l)}}}function RA(s,r,o){oi.S(s,r,o);var l=so;if(l&&s){var d=cn(l).hoistableStyles,p=io(s);r=r||"default";var w=d.get(p);if(!w){var S={loading:0,preload:null};if(w=l.querySelector(ql(p)))S.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},o),(o=Fn.get(p))&&zm(s,o);var M=w=l.createElement("link");ft(M),Kt(M,"link",s),M._p=new Promise(function(H,W){M.onload=H,M.onerror=W}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ph(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:S},d.set(p,w)}}}function NA(s,r){oi.X(s,r);var o=so;if(o&&s){var l=cn(o).hoistableScripts,d=ro(s),p=l.get(d);p||(p=o.querySelector(Gl(d)),p||(s=x({src:s,async:!0},r),(r=Fn.get(d))&&Fm(s,r),p=o.createElement("script"),ft(p),Kt(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function CA(s,r){oi.M(s,r);var o=so;if(o&&s){var l=cn(o).hoistableScripts,d=ro(s),p=l.get(d);p||(p=o.querySelector(Gl(d)),p||(s=x({src:s,async:!0,type:"module"},r),(r=Fn.get(d))&&Fm(s,r),p=o.createElement("script"),ft(p),Kt(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function K1(s,r,o,l){var d=(d=lt.current)?mh(d):null;if(!d)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=io(o.href),o=cn(d).hoistableStyles,l=o.get(r),l||(l={type:"style",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=io(o.href);var p=cn(d).hoistableStyles,w=p.get(s);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,w),(p=d.querySelector(ql(s)))&&!p._p&&(w.instance=p,w.state.loading=5),Fn.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Fn.set(s,o),p||IA(d,s,o,w.state))),r&&l===null)throw Error(i(528,""));return w}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(o),o=cn(d).hoistableScripts,l=o.get(r),l||(l={type:"script",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function io(s){return'href="'+xt(s)+'"'}function ql(s){return'link[rel="stylesheet"]['+s+"]"}function Y1(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function IA(s,r,o,l){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=s.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",o),ft(r),s.head.appendChild(r))}function ro(s){return'[src="'+xt(s)+'"]'}function Gl(s){return"script[async]"+s}function X1(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var l=s.querySelector('style[data-href~="'+xt(o.href)+'"]');if(l)return r.instance=l,ft(l),l;var d=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(s.ownerDocument||s).createElement("style"),ft(l),Kt(l,"style",d),ph(l,o.precedence,s),r.instance=l;case"stylesheet":d=io(o.href);var p=s.querySelector(ql(d));if(p)return r.state.loading|=4,r.instance=p,ft(p),p;l=Y1(o),(d=Fn.get(d))&&zm(l,d),p=(s.ownerDocument||s).createElement("link"),ft(p);var w=p;return w._p=new Promise(function(S,M){w.onload=S,w.onerror=M}),Kt(p,"link",l),r.state.loading|=4,ph(p,o.precedence,s),r.instance=p;case"script":return p=ro(o.src),(d=s.querySelector(Gl(p)))?(r.instance=d,ft(d),d):(l=o,(d=Fn.get(p))&&(l=x({},o),Fm(l,d)),s=s.ownerDocument||s,d=s.createElement("script"),ft(d),Kt(d,"link",l),s.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ph(l,o.precedence,s));return r.instance}function ph(s,r,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,p=d,w=0;w<l.length;w++){var S=l[w];if(S.dataset.precedence===r)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function zm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Fm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var gh=null;function Q1(s,r,o){if(gh===null){var l=new Map,d=gh=new Map;d.set(o,l)}else d=gh,l=d.get(o),l||(l=new Map,d.set(o,l));if(l.has(s))return l;for(l.set(s,null),o=o.getElementsByTagName(s),d=0;d<o.length;d++){var p=o[d];if(!(p[vr]||p[St]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(r)||"";w=s+w;var S=l.get(w);S?S.push(p):l.set(w,[p])}}return l}function $1(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function DA(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function W1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Kl=null;function jA(){}function VA(s,r,o){if(Kl===null)throw Error(i(475));var l=Kl;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=io(o.href),p=s.querySelector(ql(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(l.count++,l=yh.bind(l),s.then(l,l)),r.state.loading|=4,r.instance=p,ft(p);return}p=s.ownerDocument||s,o=Y1(o),(d=Fn.get(d))&&zm(o,d),p=p.createElement("link"),ft(p);var w=p;w._p=new Promise(function(S,M){w.onload=S,w.onerror=M}),Kt(p,"link",o),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=yh.bind(l),s.addEventListener("load",r),s.addEventListener("error",r))}}function MA(){if(Kl===null)throw Error(i(475));var s=Kl;return s.stylesheets&&s.count===0&&Hm(s,s.stylesheets),0<s.count?function(r){var o=setTimeout(function(){if(s.stylesheets&&Hm(s,s.stylesheets),s.unsuspend){var l=s.unsuspend;s.unsuspend=null,l()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(o)}}:null}function yh(){if(this.count--,this.count===0){if(this.stylesheets)Hm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var vh=null;function Hm(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,vh=new Map,r.forEach(PA,s),vh=null,yh.call(s))}function PA(s,r){if(!(r.state.loading&4)){var o=vh.get(s);if(o)var l=o.get(null);else{o=new Map,vh.set(s,o);for(var d=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var w=d[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),l=w)}l&&o.set(null,l)}d=r.instance,w=d.getAttribute("data-precedence"),p=o.get(w)||l,p===l&&o.set(null,d),o.set(w,d),this.count++,l=yh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),p?p.parentNode.insertBefore(d,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(d,s.firstChild)),r.state.loading|=4}}var Yl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function OA(s,r,o,l,d,p,w,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ks(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ks(0),this.hiddenUpdates=ks(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Z1(s,r,o,l,d,p,w,S,M,H,W,ee){return s=new OA(s,r,o,w,S,M,H,ee),r=1,p===!0&&(r|=24),p=En(3,null,null,r),s.current=p,p.stateNode=s,r=Ef(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:o,cache:r},Nf(p),s}function J1(s){return s?(s=Oa,s):Oa}function ex(s,r,o,l,d,p){d=J1(d),l.context===null?l.context=d:l.pendingContext=d,l=Ni(r),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=Ci(s,l,r),o!==null&&(Cn(o,s,r),Tl(o,s,r))}function tx(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function qm(s,r){tx(s,r),(s=s.alternate)&&tx(s,r)}function nx(s){if(s.tag===13){var r=Pa(s,67108864);r!==null&&Cn(r,s,67108864),qm(s,67108864)}}var xh=!0;function kA(s,r,o,l){var d=Y.T;Y.T=null;var p=J.p;try{J.p=2,Gm(s,r,o,l)}finally{J.p=p,Y.T=d}}function LA(s,r,o,l){var d=Y.T;Y.T=null;var p=J.p;try{J.p=8,Gm(s,r,o,l)}finally{J.p=p,Y.T=d}}function Gm(s,r,o,l){if(xh){var d=Km(l);if(d===null)jm(s,r,l,bh,o),ix(s,l);else if(BA(d,s,r,o,l))l.stopPropagation();else if(ix(s,l),r&4&&-1<UA.indexOf(s)){for(;d!==null;){var p=us(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=$n(p.pendingLanes);if(w!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var M=1<<31-Jt(w);S.entanglements[1]|=M,w&=~M}Es(p),(qe&6)===0&&(sh=In()+500,Bl(0))}}break;case 13:S=Pa(p,2),S!==null&&Cn(S,p,2),rh(),qm(p,2)}if(p=Km(l),p===null&&jm(s,r,l,bh,o),p===d)break;d=p}d!==null&&l.stopPropagation()}else jm(s,r,l,null,o)}}function Km(s){return s=Vn(s),Ym(s)}var bh=null;function Ym(s){if(bh=null,s=Us(s),s!==null){var r=c(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return bh=s,null}function sx(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qd()){case Go:return 2;case ma:return 8;case fr:case $d:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Xm=!1,Fi=null,Hi=null,qi=null,Xl=new Map,Ql=new Map,Gi=[],UA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ix(s,r){switch(s){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(r.pointerId)}}function $l(s,r,o,l,d,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:p,targetContainers:[d]},r!==null&&(r=us(r),r!==null&&nx(r)),s):(s.eventSystemFlags|=l,r=s.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),s)}function BA(s,r,o,l,d){switch(r){case"focusin":return Fi=$l(Fi,s,r,o,l,d),!0;case"dragenter":return Hi=$l(Hi,s,r,o,l,d),!0;case"mouseover":return qi=$l(qi,s,r,o,l,d),!0;case"pointerover":var p=d.pointerId;return Xl.set(p,$l(Xl.get(p)||null,s,r,o,l,d)),!0;case"gotpointercapture":return p=d.pointerId,Ql.set(p,$l(Ql.get(p)||null,s,r,o,l,d)),!0}return!1}function rx(s){var r=Us(s.target);if(r!==null){var o=c(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,ru(s.priority,function(){if(o.tag===13){var l=Nn();l=xi(l);var d=Pa(o,l);d!==null&&Cn(d,o,l),qm(o,l)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _h(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Km(s.nativeEvent);if(o===null){o=s.nativeEvent;var l=new o.constructor(o.type,o);Hs=l,o.target.dispatchEvent(l),Hs=null}else return r=us(o),r!==null&&nx(r),s.blockedOn=o,!1;r.shift()}return!0}function ax(s,r,o){_h(s)&&o.delete(r)}function zA(){Xm=!1,Fi!==null&&_h(Fi)&&(Fi=null),Hi!==null&&_h(Hi)&&(Hi=null),qi!==null&&_h(qi)&&(qi=null),Xl.forEach(ax),Ql.forEach(ax)}function wh(s,r){s.blockedOn===r&&(s.blockedOn=null,Xm||(Xm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zA)))}var Th=null;function ox(s){Th!==s&&(Th=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Th===s&&(Th=null);for(var r=0;r<s.length;r+=3){var o=s[r],l=s[r+1],d=s[r+2];if(typeof l!="function"){if(Ym(l||o)===null)continue;break}var p=us(o);p!==null&&(s.splice(r,3),r-=3,Yf(p,{pending:!0,data:d,method:o.method,action:l},l,d))}}))}function Wl(s){function r(M){return wh(M,s)}Fi!==null&&wh(Fi,s),Hi!==null&&wh(Hi,s),qi!==null&&wh(qi,s),Xl.forEach(r),Ql.forEach(r);for(var o=0;o<Gi.length;o++){var l=Gi[o];l.blockedOn===s&&(l.blockedOn=null)}for(;0<Gi.length&&(o=Gi[0],o.blockedOn===null);)rx(o),o.blockedOn===null&&Gi.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var d=o[l],p=o[l+1],w=d[vt]||null;if(typeof p=="function")w||ox(o);else if(w){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,w=p[vt]||null)S=w.formAction;else if(Ym(d)!==null)continue}else S=w.action;typeof S=="function"?o[l+1]=S:(o.splice(l,3),l-=3),ox(o)}}}function Qm(s){this._internalRoot=s}Eh.prototype.render=Qm.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,l=Nn();ex(o,l,s,r,null,null)},Eh.prototype.unmount=Qm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;ex(s.current,2,null,s,null,null),rh(),r[Dn]=null}};function Eh(s){this._internalRoot=s}Eh.prototype.unstable_scheduleHydration=function(s){if(s){var r=bi();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Gi.length&&r!==0&&r<Gi[o].priority;o++);Gi.splice(o,0,s),o===0&&rx(s)}};var lx=e.version;if(lx!=="19.1.0")throw Error(i(527,lx,"19.1.0"));J.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var FA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{ct=Sh.inject(FA),He=Sh}catch{}}return Jl.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,l="",d=Ev,p=Sv,w=Av,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=Z1(s,1,!1,null,null,o,l,d,p,w,S,null),s[Dn]=r.current,Dm(s),new Qm(r)},Jl.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var l=!1,d="",p=Ev,w=Sv,S=Av,M=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),r=Z1(s,1,!0,r,o??null,l,d,p,w,S,M,H),r.context=J1(null),o=r.current,l=Nn(),l=xi(l),d=Ni(l),d.callback=null,Ci(o,d,l),o=l,r.current.lanes=o,Ls(r,o),Es(r),s[Dn]=r.current,Dm(s),new Eh(r)},Jl.version="19.1.0",Jl}var mx;function JA(){if(mx)return Wm.exports;mx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wm.exports=ZA(),Wm.exports}var eR=JA();const tR=cw(eR),nR=()=>{};var px={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},sR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const c=n[t++];e[i++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=n[t++],u=n[t++],f=n[t++],g=((a&7)<<18|(c&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(c&63)<<6|u&63)}}return e.join("")},dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const c=n[a],u=a+1<n.length,f=u?n[a+1]:0,g=a+2<n.length,y=g?n[a+2]:0,x=c>>2,_=(c&3)<<4|f>>4;let T=(f&15)<<2|y>>6,C=y&63;g||(C=64,u||(T=64)),i.push(t[x],t[_],t[T],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const c=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const y=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,c==null||f==null||y==null||_==null)throw new iR;const T=c<<2|f>>4;if(i.push(T),y!==64){const C=f<<4&240|y>>2;if(i.push(C),_!==64){const V=y<<6&192|_;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rR=function(n){const e=hw(n);return dw.encodeByteArray(e,!0)},Jh=function(n){return rR(n).replace(/\./g,"")},fw=function(n){try{return dw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>aR().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof px>"u")return;const n=px.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fw(n[1]);return e&&JSON.parse(e)},Rd=()=>{try{return nR()||oR()||lR()||cR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mw=n=>Rd()?.emulatorHosts?.[n],uR=n=>{const e=mw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},pw=()=>Rd()?.config,gw=n=>Rd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Jh(JSON.stringify(t)),Jh(JSON.stringify(u)),""].join(".")}const uc={};function fR(){const n={prod:[],emulator:[]};for(const e of Object.keys(uc))uc[e]?n.emulator.push(e):n.prod.push(e);return n}function mR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let gx=!1;function vw(n,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||uc[n]===e||uc[n]||gx)return;uc[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",c=fR().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{gx=!0,u()},T}function x(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=mR(i),C=t("text"),V=document.getElementById(C)||document.createElement("span"),U=t("learnmore"),B=document.getElementById(U)||document.createElement("a"),K=t("preprendIcon"),$=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Q=T.element;f(Q),x(B,U);const ae=y();g($,K),Q.append($,V,B,ae),document.body.appendChild(Q)}c?(V.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function gR(){const n=Rd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bR(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _R(){return!gR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wR(){try{return typeof indexedDB=="object"}catch{return!1}}function TR(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="FirebaseError";class vi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ER,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,c=this.errors[e],u=c?SR(c,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new vi(a,f,i)}}function SR(n,e){return n.replace(AR,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const AR=/\{\$([^}]+)}/g;function RR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ra(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const c=n[a],u=e[a];if(yx(c)&&yx(u)){if(!ra(c,u))return!1}else if(c!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function yx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function NR(n,e){const t=new CR(n,e);return t.subscribe.bind(t)}class CR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");IR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=ep),a.error===void 0&&(a.error=ep),a.complete===void 0&&(a.complete=ep);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(n){return n&&n._delegate?n._delegate:n}class aa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new hR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VR(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:a});i.resolve(c)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);i===f&&u.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jR(n){return n===Xr?void 0:n}function VR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const PR={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},OR=De.INFO,kR={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},LR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=kR[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eg{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=LR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const UR=(n,e)=>e.some(t=>n instanceof t);let vx,xx;function BR(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zR(){return xx||(xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xw=new WeakMap,Np=new WeakMap,bw=new WeakMap,tp=new WeakMap,Sg=new WeakMap;function FR(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",c),n.removeEventListener("error",u)},c=()=>{t(Ji(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",c),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&xw.set(t,n)}).catch(()=>{}),Sg.set(e,n),e}function HR(n){if(Np.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",u),n.removeEventListener("abort",u)},c=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",c),n.addEventListener("error",u),n.addEventListener("abort",u)});Np.set(n,e)}let Cp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Np.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ji(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qR(n){Cp=n(Cp)}function GR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(np(this),e,...t);return bw.set(i,e.sort?e.sort():[e]),Ji(i)}:zR().includes(n)?function(...e){return n.apply(np(this),e),Ji(xw.get(this))}:function(...e){return Ji(n.apply(np(this),e))}}function KR(n){return typeof n=="function"?GR(n):(n instanceof IDBTransaction&&HR(n),UR(n,BR())?new Proxy(n,Cp):n)}function Ji(n){if(n instanceof IDBRequest)return FR(n);if(tp.has(n))return tp.get(n);const e=KR(n);return e!==n&&(tp.set(n,e),Sg.set(e,n)),e}const np=n=>Sg.get(n);function YR(n,e,{blocked:t,upgrade:i,blocking:a,terminated:c}={}){const u=indexedDB.open(n,e),f=Ji(u);return i&&u.addEventListener("upgradeneeded",g=>{i(Ji(u.result),g.oldVersion,g.newVersion,Ji(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const XR=["get","getKey","getAll","getAllKeys","count"],QR=["put","add","delete","clear"],sp=new Map;function bx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sp.get(e))return sp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=QR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||XR.includes(t)))return;const c=async function(u,...f){const g=this.transaction(u,a?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),a&&g.done]))[0]};return sp.set(e,c),c}qR(n=>({...n,get:(e,t,i)=>bx(e,t)||n.get(e,t,i),has:(e,t)=>!!bx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function WR(n){return n.getComponent()?.type==="VERSION"}const Ip="@firebase/app",_x="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Eg("@firebase/app"),ZR="@firebase/app-compat",JR="@firebase/analytics-compat",e5="@firebase/analytics",t5="@firebase/app-check-compat",n5="@firebase/app-check",s5="@firebase/auth",i5="@firebase/auth-compat",r5="@firebase/database",a5="@firebase/data-connect",o5="@firebase/database-compat",l5="@firebase/functions",c5="@firebase/functions-compat",u5="@firebase/installations",h5="@firebase/installations-compat",d5="@firebase/messaging",f5="@firebase/messaging-compat",m5="@firebase/performance",p5="@firebase/performance-compat",g5="@firebase/remote-config",y5="@firebase/remote-config-compat",v5="@firebase/storage",x5="@firebase/storage-compat",b5="@firebase/firestore",_5="@firebase/ai",w5="@firebase/firestore-compat",T5="firebase",E5="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="[DEFAULT]",S5={[Ip]:"fire-core",[ZR]:"fire-core-compat",[e5]:"fire-analytics",[JR]:"fire-analytics-compat",[n5]:"fire-app-check",[t5]:"fire-app-check-compat",[s5]:"fire-auth",[i5]:"fire-auth-compat",[r5]:"fire-rtdb",[a5]:"fire-data-connect",[o5]:"fire-rtdb-compat",[l5]:"fire-fn",[c5]:"fire-fn-compat",[u5]:"fire-iid",[h5]:"fire-iid-compat",[d5]:"fire-fcm",[f5]:"fire-fcm-compat",[m5]:"fire-perf",[p5]:"fire-perf-compat",[g5]:"fire-rc",[y5]:"fire-rc-compat",[v5]:"fire-gcs",[x5]:"fire-gcs-compat",[b5]:"fire-fst",[w5]:"fire-fst-compat",[_5]:"fire-vertex","fire-js":"fire-js",[T5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,A5=new Map,jp=new Map;function wx(n,e){try{n.container.addComponent(e)}catch(t){di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wo(n){const e=n.name;if(jp.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;jp.set(e,n);for(const t of ed.values())wx(t,n);for(const t of A5.values())wx(t,n);return!0}function Ag(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ss(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new Bc("app","Firebase",R5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=E5;function _w(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Dp,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw er.create("bad-app-name",{appName:String(a)});if(t||(t=pw()),!t)throw er.create("no-options");const c=ed.get(a);if(c){if(ra(t,c.options)&&ra(i,c.config))return c;throw er.create("duplicate-app",{appName:a})}const u=new MR(a);for(const g of jp.values())u.addComponent(g);const f=new N5(t,i,u);return ed.set(a,f),f}function ww(n=Dp){const e=ed.get(n);if(!e&&n===Dp&&pw())return _w();if(!e)throw er.create("no-app",{appName:n});return e}function tr(n,e,t){let i=S5[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(u.join(" "));return}wo(new aa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="firebase-heartbeat-database",I5=1,wc="firebase-heartbeat-store";let ip=null;function Tw(){return ip||(ip=YR(C5,I5,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wc)}catch(t){console.warn(t)}}}}).catch(n=>{throw er.create("idb-open",{originalErrorMessage:n.message})})),ip}async function D5(n){try{const t=(await Tw()).transaction(wc),i=await t.objectStore(wc).get(Ew(n));return await t.done,i}catch(e){if(e instanceof vi)di.warn(e.message);else{const t=er.create("idb-get",{originalErrorMessage:e?.message});di.warn(t.message)}}}async function Tx(n,e){try{const i=(await Tw()).transaction(wc,"readwrite");await i.objectStore(wc).put(e,Ew(n)),await i.done}catch(t){if(t instanceof vi)di.warn(t.message);else{const i=er.create("idb-set",{originalErrorMessage:t?.message});di.warn(i.message)}}}function Ew(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=1024,V5=30;class M5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new O5(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ex();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>V5){const a=k5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ex(),{heartbeatsToSend:t,unsentEntries:i}=P5(this._heartbeatsCache.heartbeats),a=Jh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return di.warn(e),""}}}function Ex(){return new Date().toISOString().substring(0,10)}function P5(n,e=j5){const t=[];let i=n.slice();for(const a of n){const c=t.find(u=>u.agent===a.agent);if(c){if(c.dates.push(a.date),Sx(t)>e){c.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Sx(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class O5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wR()?TR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await D5(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sx(n){return Jh(JSON.stringify({version:2,heartbeats:n})).length}function k5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(n){wo(new aa("platform-logger",e=>new $R(e),"PRIVATE")),wo(new aa("heartbeat",e=>new M5(e),"PRIVATE")),tr(Ip,_x,n),tr(Ip,_x,"esm2020"),tr("fire-js","")}L5("");var U5="firebase",B5="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(U5,B5,"app");function Sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z5=Sw,Aw=new Bc("auth","Firebase",Sw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Eg("@firebase/auth");function F5(n,...e){td.logLevel<=De.WARN&&td.warn(`Auth (${Oo}): ${n}`,...e)}function Lh(n,...e){td.logLevel<=De.ERROR&&td.error(`Auth (${Oo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,...e){throw Ng(n,...e)}function as(n,...e){return Ng(n,...e)}function Rg(n,e,t){const i={...z5(),[e]:t};return new Bc("auth","Firebase",i).create(e,{appName:n.name})}function ta(n){return Rg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H5(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ms(n,"argument-error"),Rg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ng(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Aw.create(n,...e)}function _e(n,e,...t){if(!n)throw Ng(e,...t)}function ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lh(e),new Error(e)}function fi(n,e){n||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){return typeof self<"u"&&self.location?.href||""}function q5(){return Ax()==="http:"||Ax()==="https:"}function Ax(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q5()||vR()||"connection"in navigator)?navigator.onLine:!0}function K5(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t){this.shortDelay=e,this.longDelay=t,fi(t>e,"Short delay should be less than long delay!"),this.isMobile=pR()||xR()}get(){return G5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(n,e){fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q5=new Fc(3e4,6e4);function Ig(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ko(n,e,t,i,a={}){return Nw(n,a,async()=>{let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});const f=zc({key:n.config.apiKey,...u}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:g,...c};return yR()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Po(n.emulatorConfig.host)&&(y.credentials="include"),Rw.fetch()(await Cw(n,n.config.apiHost,t,f),y)})}async function Nw(n,e,t){n._canInitEmulator=!1;const i={...Y5,...e};try{const a=new W5(n),c=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Ah(n,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const f=c.ok?u.errorMessage:u.error.message,[g,y]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(n,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Ah(n,"email-already-in-use",u);if(g==="USER_DISABLED")throw Ah(n,"user-disabled",u);const x=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Rg(n,x,y);Ms(n,x)}}catch(a){if(a instanceof vi)throw a;Ms(n,"network-request-failed",{message:String(a)})}}async function $5(n,e,t,i,a={}){const c=await ko(n,e,t,i,a);return"mfaPendingCredential"in c&&Ms(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function Cw(n,e,t,i){const a=`${e}${t}?${i}`,c=n,u=c.config.emulator?Cg(n.config,a):`${n.config.apiScheme}://${a}`;return X5.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}class W5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(as(this.auth,"network-request-failed")),Q5.get())})}}function Ah(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=as(n,e,i);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(n,e){return ko(n,"POST","/v1/accounts:delete",e)}async function nd(n,e){return ko(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J5(n,e=!1){const t=Xn(n),i=await t.getIdToken(e),a=Dg(i);_e(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,u=c?.sign_in_provider;return{claims:a,token:i,authTime:hc(rp(a.auth_time)),issuedAtTime:hc(rp(a.iat)),expirationTime:hc(rp(a.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rp(n){return Number(n)*1e3}function Dg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const a=fw(t);return a?JSON.parse(a):(Lh("Failed to decode base64 JWT payload"),null)}catch(a){return Lh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Rx(n){const e=Dg(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof vi&&eN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function eN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(n){const e=n.auth,t=await n.getIdToken(),i=await Tc(n,nd(e,{idToken:t}));_e(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const c=a.providerUserInfo?.length?Iw(a.providerUserInfo):[],u=sN(n.providerData,c),f=n.isAnonymous,g=!(n.email&&a.passwordHash)&&!u?.length,y=f?g:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Mp(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,x)}async function nN(n){const e=Xn(n);await sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sN(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Iw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e){const t=await Nw(n,{},async()=>{const i=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=n.config,u=await Cw(n,a,"/v1/token",`key=${c}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:i};return n.emulatorConfig&&Po(n.emulatorConfig.host)&&(g.credentials="include"),Rw.fetch()(u,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rN(n,e){return ko(n,"POST","/v2/accounts:revokeToken",Ig(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const t=Rx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:c}=await iN(e,t);this.updateTokensAndExpiration(i,a,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:c}=t,u=new yo;return i&&(_e(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(_e(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),c&&(_e(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class is{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new tN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Mp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Tc(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return J5(this,e)}reload(){return nN(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new is({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await sd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ss(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await Tc(this,Z5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,c=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:C,providerData:V,stsTokenManager:U}=t;_e(_&&U,e,"internal-error");const B=yo.fromJSON(this.name,U);_e(typeof _=="string",e,"internal-error"),Yi(i,e.name),Yi(a,e.name),_e(typeof T=="boolean",e,"internal-error"),_e(typeof C=="boolean",e,"internal-error"),Yi(c,e.name),Yi(u,e.name),Yi(f,e.name),Yi(g,e.name),Yi(y,e.name),Yi(x,e.name);const K=new is({uid:_,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:C,photoURL:u,phoneNumber:c,tenantId:f,stsTokenManager:B,createdAt:y,lastLoginAt:x});return V&&Array.isArray(V)&&(K.providerData=V.map($=>({...$}))),g&&(K._redirectEventId=g),K}static async _fromIdTokenResponse(e,t,i=!1){const a=new yo;a.updateFromServerResponse(t);const c=new is({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await sd(c),c}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];_e(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?Iw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!c?.length,f=new yo;f.updateFromIdToken(i);const g=new is({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Mp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new Map;function ui(n){fi(n instanceof Function,"Expected a class definition");let e=Nx.get(n);return e?(fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Nx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Dw.type="NONE";const Cx=Dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n,e,t){return`firebase:${n}:${e}:${t}`}class vo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:c}=this.auth;this.fullUserKey=Uh(this.userKey,a.apiKey,c),this.fullPersistenceKey=Uh("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nd(this.auth,{idToken:e}).catch(()=>{});return t?is._fromGetAccountInfoResponse(this.auth,t,e):null}return is._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new vo(ui(Cx),e,i);const a=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=a[0]||ui(Cx);const u=Uh(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const x=await y._get(u);if(x){let _;if(typeof x=="string"){const T=await nd(e,{idToken:x}).catch(()=>{});if(!T)break;_=await is._fromGetAccountInfoResponse(e,T,x)}else _=is._fromJSON(e,x);y!==c&&(f=_),c=y;break}}catch{}const g=a.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new vo(c,e,i):(c=g[0],f&&await c._set(u,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(u)}catch{}})),new vo(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kw(e))return"Blackberry";if(Lw(e))return"Webos";if(Vw(e))return"Safari";if((e.includes("chrome/")||Mw(e))&&!e.includes("edge/"))return"Chrome";if(Ow(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function jw(n=on()){return/firefox\//i.test(n)}function Vw(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mw(n=on()){return/crios\//i.test(n)}function Pw(n=on()){return/iemobile/i.test(n)}function Ow(n=on()){return/android/i.test(n)}function kw(n=on()){return/blackberry/i.test(n)}function Lw(n=on()){return/webos/i.test(n)}function jg(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aN(n=on()){return jg(n)&&!!window.navigator?.standalone}function oN(){return bR()&&document.documentMode===10}function Uw(n=on()){return jg(n)||Ow(n)||Lw(n)||kw(n)||/windows phone/i.test(n)||Pw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n,e=[]){let t;switch(n){case"Browser":t=Ix(on());break;case"Worker":t=`${Ix(on())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((u,f)=>{try{const g=e(c);u(g)}catch(g){f(g)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(n,e={}){return ko(n,"GET","/v2/passwordPolicy",Ig(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=6;class hN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??uN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dx(this),this.idTokenSubscription=new Dx(this),this.beforeStateQueue=new lN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Aw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ui(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nd(this,{idToken:e}),i=await is._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ss(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ss(this.app))return Promise.reject(ta(this));const t=e?Xn(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ss(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ss(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cN(this),t=new hN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await rN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ui(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(f,this,"internal-error"),f.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,a);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&F5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Nd(n){return Xn(n)}class Dx{constructor(e){this.auth=e,this.observer=null,this.addObserver=NR(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fN(n){Vg=n}function mN(n){return Vg.loadJS(n)}function pN(){return Vg.gapiScript}function gN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n,e){const t=Ag(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),c=t.getOptions();if(ra(c,e??{}))return a;Ms(a,"already-initialized")}return t.initialize({options:e})}function vN(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ui);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function xN(n,e,t){const i=Nd(n);_e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,c=zw(e),{host:u,port:f}=bN(e),g=f===null?"":`:${f}`,y={url:`${c}//${u}${g}/`},x=Object.freeze({host:u,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){_e(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),_e(ra(y,i.config.emulator)&&ra(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,Po(u)?(yw(`${c}//${u}${g}`),vw("Auth",!0)):_N()}function zw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bN(n){const e=zw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const c=a[1];return{host:c,port:jx(i.substr(c.length+1))}}else{const[c,u]=i.split(":");return{host:c,port:jx(u)}}}function jx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _N(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,t){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(n,e){return $5(n,"POST","/v1/accounts:signInWithIdp",Ig(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="http://localhost";class oa extends Fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...c}=t;if(!i||!a)return null;const u=new oa(i,a);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return xo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,xo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}buildRequest(){const e={requestUri:wN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends Mg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Hc{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oa._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return li.credential(t,i)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Hc{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Hc{constructor(){super("twitter.com")}static credential(e,t){return oa._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Wi.credential(t,i)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const c=await is._fromIdTokenResponse(e,i,a),u=Vx(i);return new To({user:c,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Vx(i);return new To({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Vx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends vi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new id(e,t,i,a)}}function Hw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?id._fromErrorAndOperation(n,c,e,i):c})}async function TN(n,e,t=!1){const i=await Tc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return To._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(n,e,t=!1){const{auth:i}=n;if(ss(i.app))return Promise.reject(ta(i));const a="reauthenticate";try{const c=await Tc(n,Hw(i,a,e,n),t);_e(c.idToken,i,"internal-error");const u=Dg(c.idToken);_e(u,i,"internal-error");const{sub:f}=u;return _e(n.uid===f,i,"user-mismatch"),To._forOperation(n,a,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ms(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(n,e,t=!1){if(ss(n.app))return Promise.reject(ta(n));const i="signIn",a=await Hw(n,i,e),c=await To._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(c.user),c}function AN(n,e,t,i){return Xn(n).onIdTokenChanged(e,t,i)}function RN(n,e,t){return Xn(n).beforeAuthStateChanged(e,t)}function NN(n,e,t,i){return Xn(n).onAuthStateChanged(e,t,i)}function CN(n){return Xn(n).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=1e3,DN=10;class Gw extends qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Uw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,g)=>{this.notifyListeners(u,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},c=this.storage.getItem(i);oN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,DN):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},IN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gw.type="LOCAL";const jN=Gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Kw.type="SESSION";const Yw=Kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Cd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:c}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async y=>y(t.origin,c)),g=await VN(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,u;return new Promise((f,g)=>{const y=Pg("",20);a.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(T.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function PN(n){As().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function ON(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kN(){return navigator?.serviceWorker?.controller||null}function LN(){return Xw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firebaseLocalStorageDb",UN=1,ad="firebaseLocalStorage",$w="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Id(n,e){return n.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function BN(){const n=indexedDB.deleteDatabase(Qw);return new qc(n).toPromise()}function Pp(){const n=indexedDB.open(Qw,UN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ad,{keyPath:$w})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ad)?e(i):(i.close(),await BN(),e(await Pp()))})})}async function Mx(n,e,t){const i=Id(n,!0).put({[$w]:e,value:t});return new qc(i).toPromise()}async function zN(n,e){const t=Id(n,!1).get(e),i=await new qc(t).toPromise();return i===void 0?null:i.value}function Px(n,e){const t=Id(n,!0).delete(e);return new qc(t).toPromise()}const FN=800,HN=3;class Ww{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>HN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cd._getInstance(LN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ON(),!this.activeServiceWorker)return;this.sender=new MN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pp();return await Mx(e,rd,"1"),await Px(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Mx(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>zN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Px(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=Id(a,!1).getAll();return new qc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ww.type="LOCAL";const qN=Ww;new Fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n,e){return e?ui(e):(_e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends Fw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GN(n){return SN(n.auth,new Og(n),n.bypassAuthState)}function KN(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),EN(t,new Og(n),n.bypassAuthState)}async function YN(n){const{auth:e,user:t}=n;return _e(t,e,"internal-error"),TN(t,new Og(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,i,a,c=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:c,error:u,type:f}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GN;case"linkViaPopup":case"linkViaRedirect":return YN;case"reauthViaPopup":case"reauthViaRedirect":return KN;default:Ms(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new Fc(2e3,1e4);async function QN(n,e,t){if(ss(n.app))return Promise.reject(as(n,"operation-not-supported-in-this-environment"));const i=Nd(n);H5(n,e,Mg);const a=Zw(i,t);return new $r(i,"signInViaPopup",e,a).executeNotNull()}class $r extends Jw{constructor(e,t,i,a,c){super(e,t,a,c),this.provider=i,this.authWindow=null,this.pollId=null,$r.currentPopupAction&&$r.currentPopupAction.cancel(),$r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=Pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(as(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(as(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$r.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(as(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XN.get())};e()}}$r.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="pendingRedirect",Bh=new Map;class WN extends Jw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Bh.get(this.auth._key());if(!e){try{const i=await ZN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Bh.set(this.auth._key(),e)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZN(n,e){const t=tC(e),i=eC(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function JN(n,e){Bh.set(n._key(),e)}function eC(n){return ui(n._redirectPersistence)}function tC(n){return Uh($N,n.config.apiKey,n.name)}async function nC(n,e,t=!1){if(ss(n.app))return Promise.reject(ta(n));const i=Nd(n),a=Zw(i,e),u=await new WN(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=600*1e3;class iC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!eT(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(as(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ox(e))}saveEventToCache(e){this.cachedEventUids.add(Ox(e)),this.lastProcessedEventTime=Date.now()}}function Ox(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function eT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function rC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(n,e={}){return ko(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lC=/^https?/;async function cC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await aC(n);for(const t of e)try{if(uC(t))return}catch{}Ms(n,"unauthorized-domain")}function uC(n){const e=Vp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!lC.test(t))return!1;if(oC.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Fc(3e4,6e4);function kx(){const n=As().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function dC(n){return new Promise((e,t)=>{function i(){kx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kx(),t(as(n,"network-request-failed"))},timeout:hC.get()})}if(As().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(As().gapi?.load)i();else{const a=gN("iframefcb");return As()[a]=()=>{gapi.load?i():t(as(n,"network-request-failed"))},mN(`${pN()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw zh=null,e})}let zh=null;function fC(n){return zh=zh||dC(n),zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Fc(5e3,15e3),pC="__/auth/iframe",gC="emulator/auth/iframe",yC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xC(n){const e=n.config;_e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Cg(e,gC):`https://${n.config.authDomain}/${pC}`,i={apiKey:e.apiKey,appName:n.name,v:Oo},a=vC.get(n.config.apiHost);a&&(i.eid=a);const c=n._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${zc(i).slice(1)}`}async function bC(n){const e=await fC(n),t=As().gapi;return _e(t,n,"internal-error"),e.open({where:document.body,url:xC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yC,dontclear:!0},i=>new Promise(async(a,c)=>{await i.restyle({setHideOnLeave:!1});const u=as(n,"network-request-failed"),f=As().setTimeout(()=>{c(u)},mC.get());function g(){As().clearTimeout(f),a(i)}i.ping(g).then(g,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wC=500,TC=600,EC="_blank",SC="http://localhost";class Lx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AC(n,e,t,i=wC,a=TC){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const g={..._C,width:i.toString(),height:a.toString(),top:c,left:u},y=on().toLowerCase();t&&(f=Mw(y)?EC:t),jw(y)&&(e=e||SC,g.scrollbars="yes");const x=Object.entries(g).reduce((T,[C,V])=>`${T}${C}=${V},`,"");if(aN(y)&&f!=="_self")return RC(e||"",f),new Lx(null);const _=window.open(e||"",f,x);_e(_,n,"popup-blocked");try{_.focus()}catch{}return new Lx(_)}function RC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__/auth/handler",CC="emulator/auth/handler",IC=encodeURIComponent("fac");async function Ux(n,e,t,i,a,c){_e(n.config.authDomain,n,"auth-domain-config-required"),_e(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Oo,eventId:a};if(e instanceof Mg){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",RR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,_]of Object.entries({}))u[x]=_}if(e instanceof Hc){const x=e.getScopes().filter(_=>_!=="");x.length>0&&(u.scopes=x.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const g=await n._getAppCheckToken(),y=g?`#${IC}=${encodeURIComponent(g)}`:"";return`${DC(n)}?${zc(f).slice(1)}${y}`}function DC({config:n}){return n.emulator?Cg(n,CC):`https://${n.authDomain}/${NC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport";class jC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yw,this._completeRedirectFn=nC,this._overrideRedirectResult=JN}async _openPopup(e,t,i,a){fi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Ux(e,t,i,Vp(),a);return AC(e,c,Pg())}async _openRedirect(e,t,i,a){await this._originValidation(e);const c=await Ux(e,t,i,Vp(),a);return PN(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:c}=this.eventManagers[t];return a?Promise.resolve(a):(fi(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await bC(e),i=new iC(e);return t.register("authEvent",a=>(_e(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ap,{type:ap},a=>{const c=a?.[0]?.[ap];c!==void 0&&t(!!c),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Uw()||Vw()||jg()}}const VC=jC;var Bx="@firebase/auth",zx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OC(n){wo(new aa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;_e(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bw(n)},y=new dN(i,a,c,g);return vN(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),wo(new aa("auth-internal",e=>{const t=Nd(e.getProvider("auth").getImmediate());return(i=>new MC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(Bx,zx,PC(n)),tr(Bx,zx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=300,LC=gw("authIdTokenMaxAge")||kC;let Fx=null;const UC=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>LC)return;const a=t?.token;Fx!==a&&(Fx=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function BC(n=ww()){const e=Ag(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yN(n,{popupRedirectResolver:VC,persistence:[qN,jN,Yw]}),i=gw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const u=UC(c.toString());RN(t,u,()=>u(t.currentUser)),AN(t,f=>u(f))}}const a=mw("auth");return a&&xN(t,`http://${a}`),t}function zC(){return document.getElementsByTagName("head")?.[0]??document}fN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const c=as("internal-error");c.customData=a,t(c)},i.type="text/javascript",i.charset="UTF-8",zC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OC("Browser");const FC={apiKey:"AIzaSyDKJtsmqxjWzivN7mq_2-szJ6dBh5tEEH8",authDomain:"caresync-b2ac1.firebaseapp.com",projectId:"caresync-b2ac1",storageBucket:"caresync-b2ac1.appspot.com",messagingSenderId:"314234275561",appId:"1:314234275561:web:4294c9ab603b7987159278"},HC=_w(FC),kg=BC(HC),qC=new li;async function GC(){return QN(kg,qC)}async function KC(){return CN(kg)}var Hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nr,tT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,E){function A(){}A.prototype=E.prototype,P.D=E.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(N,D,O){for(var j=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)j[Ie-2]=arguments[Ie];return E.prototype[D].apply(N,j)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,E,A){A||(A=0);var N=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)N[D]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(D=0;16>D;++D)N[D]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=P.g[0],A=P.g[1],D=P.g[2];var O=P.g[3],j=E+(O^A&(D^O))+N[0]+3614090360&4294967295;E=A+(j<<7&4294967295|j>>>25),j=O+(D^E&(A^D))+N[1]+3905402710&4294967295,O=E+(j<<12&4294967295|j>>>20),j=D+(A^O&(E^A))+N[2]+606105819&4294967295,D=O+(j<<17&4294967295|j>>>15),j=A+(E^D&(O^E))+N[3]+3250441966&4294967295,A=D+(j<<22&4294967295|j>>>10),j=E+(O^A&(D^O))+N[4]+4118548399&4294967295,E=A+(j<<7&4294967295|j>>>25),j=O+(D^E&(A^D))+N[5]+1200080426&4294967295,O=E+(j<<12&4294967295|j>>>20),j=D+(A^O&(E^A))+N[6]+2821735955&4294967295,D=O+(j<<17&4294967295|j>>>15),j=A+(E^D&(O^E))+N[7]+4249261313&4294967295,A=D+(j<<22&4294967295|j>>>10),j=E+(O^A&(D^O))+N[8]+1770035416&4294967295,E=A+(j<<7&4294967295|j>>>25),j=O+(D^E&(A^D))+N[9]+2336552879&4294967295,O=E+(j<<12&4294967295|j>>>20),j=D+(A^O&(E^A))+N[10]+4294925233&4294967295,D=O+(j<<17&4294967295|j>>>15),j=A+(E^D&(O^E))+N[11]+2304563134&4294967295,A=D+(j<<22&4294967295|j>>>10),j=E+(O^A&(D^O))+N[12]+1804603682&4294967295,E=A+(j<<7&4294967295|j>>>25),j=O+(D^E&(A^D))+N[13]+4254626195&4294967295,O=E+(j<<12&4294967295|j>>>20),j=D+(A^O&(E^A))+N[14]+2792965006&4294967295,D=O+(j<<17&4294967295|j>>>15),j=A+(E^D&(O^E))+N[15]+1236535329&4294967295,A=D+(j<<22&4294967295|j>>>10),j=E+(D^O&(A^D))+N[1]+4129170786&4294967295,E=A+(j<<5&4294967295|j>>>27),j=O+(A^D&(E^A))+N[6]+3225465664&4294967295,O=E+(j<<9&4294967295|j>>>23),j=D+(E^A&(O^E))+N[11]+643717713&4294967295,D=O+(j<<14&4294967295|j>>>18),j=A+(O^E&(D^O))+N[0]+3921069994&4294967295,A=D+(j<<20&4294967295|j>>>12),j=E+(D^O&(A^D))+N[5]+3593408605&4294967295,E=A+(j<<5&4294967295|j>>>27),j=O+(A^D&(E^A))+N[10]+38016083&4294967295,O=E+(j<<9&4294967295|j>>>23),j=D+(E^A&(O^E))+N[15]+3634488961&4294967295,D=O+(j<<14&4294967295|j>>>18),j=A+(O^E&(D^O))+N[4]+3889429448&4294967295,A=D+(j<<20&4294967295|j>>>12),j=E+(D^O&(A^D))+N[9]+568446438&4294967295,E=A+(j<<5&4294967295|j>>>27),j=O+(A^D&(E^A))+N[14]+3275163606&4294967295,O=E+(j<<9&4294967295|j>>>23),j=D+(E^A&(O^E))+N[3]+4107603335&4294967295,D=O+(j<<14&4294967295|j>>>18),j=A+(O^E&(D^O))+N[8]+1163531501&4294967295,A=D+(j<<20&4294967295|j>>>12),j=E+(D^O&(A^D))+N[13]+2850285829&4294967295,E=A+(j<<5&4294967295|j>>>27),j=O+(A^D&(E^A))+N[2]+4243563512&4294967295,O=E+(j<<9&4294967295|j>>>23),j=D+(E^A&(O^E))+N[7]+1735328473&4294967295,D=O+(j<<14&4294967295|j>>>18),j=A+(O^E&(D^O))+N[12]+2368359562&4294967295,A=D+(j<<20&4294967295|j>>>12),j=E+(A^D^O)+N[5]+4294588738&4294967295,E=A+(j<<4&4294967295|j>>>28),j=O+(E^A^D)+N[8]+2272392833&4294967295,O=E+(j<<11&4294967295|j>>>21),j=D+(O^E^A)+N[11]+1839030562&4294967295,D=O+(j<<16&4294967295|j>>>16),j=A+(D^O^E)+N[14]+4259657740&4294967295,A=D+(j<<23&4294967295|j>>>9),j=E+(A^D^O)+N[1]+2763975236&4294967295,E=A+(j<<4&4294967295|j>>>28),j=O+(E^A^D)+N[4]+1272893353&4294967295,O=E+(j<<11&4294967295|j>>>21),j=D+(O^E^A)+N[7]+4139469664&4294967295,D=O+(j<<16&4294967295|j>>>16),j=A+(D^O^E)+N[10]+3200236656&4294967295,A=D+(j<<23&4294967295|j>>>9),j=E+(A^D^O)+N[13]+681279174&4294967295,E=A+(j<<4&4294967295|j>>>28),j=O+(E^A^D)+N[0]+3936430074&4294967295,O=E+(j<<11&4294967295|j>>>21),j=D+(O^E^A)+N[3]+3572445317&4294967295,D=O+(j<<16&4294967295|j>>>16),j=A+(D^O^E)+N[6]+76029189&4294967295,A=D+(j<<23&4294967295|j>>>9),j=E+(A^D^O)+N[9]+3654602809&4294967295,E=A+(j<<4&4294967295|j>>>28),j=O+(E^A^D)+N[12]+3873151461&4294967295,O=E+(j<<11&4294967295|j>>>21),j=D+(O^E^A)+N[15]+530742520&4294967295,D=O+(j<<16&4294967295|j>>>16),j=A+(D^O^E)+N[2]+3299628645&4294967295,A=D+(j<<23&4294967295|j>>>9),j=E+(D^(A|~O))+N[0]+4096336452&4294967295,E=A+(j<<6&4294967295|j>>>26),j=O+(A^(E|~D))+N[7]+1126891415&4294967295,O=E+(j<<10&4294967295|j>>>22),j=D+(E^(O|~A))+N[14]+2878612391&4294967295,D=O+(j<<15&4294967295|j>>>17),j=A+(O^(D|~E))+N[5]+4237533241&4294967295,A=D+(j<<21&4294967295|j>>>11),j=E+(D^(A|~O))+N[12]+1700485571&4294967295,E=A+(j<<6&4294967295|j>>>26),j=O+(A^(E|~D))+N[3]+2399980690&4294967295,O=E+(j<<10&4294967295|j>>>22),j=D+(E^(O|~A))+N[10]+4293915773&4294967295,D=O+(j<<15&4294967295|j>>>17),j=A+(O^(D|~E))+N[1]+2240044497&4294967295,A=D+(j<<21&4294967295|j>>>11),j=E+(D^(A|~O))+N[8]+1873313359&4294967295,E=A+(j<<6&4294967295|j>>>26),j=O+(A^(E|~D))+N[15]+4264355552&4294967295,O=E+(j<<10&4294967295|j>>>22),j=D+(E^(O|~A))+N[6]+2734768916&4294967295,D=O+(j<<15&4294967295|j>>>17),j=A+(O^(D|~E))+N[13]+1309151649&4294967295,A=D+(j<<21&4294967295|j>>>11),j=E+(D^(A|~O))+N[4]+4149444226&4294967295,E=A+(j<<6&4294967295|j>>>26),j=O+(A^(E|~D))+N[11]+3174756917&4294967295,O=E+(j<<10&4294967295|j>>>22),j=D+(E^(O|~A))+N[2]+718787259&4294967295,D=O+(j<<15&4294967295|j>>>17),j=A+(O^(D|~E))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+E&4294967295,P.g[1]=P.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+O&4294967295}i.prototype.u=function(P,E){E===void 0&&(E=P.length);for(var A=E-this.blockSize,N=this.B,D=this.h,O=0;O<E;){if(D==0)for(;O<=A;)a(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<E;)if(N[D++]=P.charCodeAt(O++),D==this.blockSize){a(this,N),D=0;break}}else for(;O<E;)if(N[D++]=P[O++],D==this.blockSize){a(this,N),D=0;break}}this.h=D,this.o+=E},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var E=1;E<P.length-8;++E)P[E]=0;var A=8*this.o;for(E=P.length-8;E<P.length;++E)P[E]=A&255,A/=256;for(this.u(P),P=Array(16),E=A=0;4>E;++E)for(var N=0;32>N;N+=8)P[A++]=this.g[E]>>>N&255;return P};function c(P,E){var A=f;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=E(P)}function u(P,E){this.h=E;for(var A=[],N=!0,D=P.length-1;0<=D;D--){var O=P[D]|0;N&&O==E||(A[D]=O,N=!1)}this.g=A}var f={};function g(P){return-128<=P&&128>P?c(P,function(E){return new u([E|0],0>E?-1:0)}):new u([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return B(y(-P));for(var E=[],A=1,N=0;P>=A;N++)E[N]=P/A|0,A*=4294967296;return new u(E,0)}function x(P,E){if(P.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(P.charAt(0)=="-")return B(x(P.substring(1),E));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(E,8)),N=_,D=0;D<P.length;D+=8){var O=Math.min(8,P.length-D),j=parseInt(P.substring(D,D+O),E);8>O?(O=y(Math.pow(E,O)),N=N.j(O).add(y(j))):(N=N.j(A),N=N.add(y(j)))}return N}var _=g(0),T=g(1),C=g(16777216);n=u.prototype,n.m=function(){if(U(this))return-B(this).m();for(var P=0,E=1,A=0;A<this.g.length;A++){var N=this.i(A);P+=(0<=N?N:4294967296+N)*E,E*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(V(this))return"0";if(U(this))return"-"+B(this).toString(P);for(var E=y(Math.pow(P,6)),A=this,N="";;){var D=ae(A,E).g;A=K(A,D.j(E));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=D,V(A))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function V(P){if(P.h!=0)return!1;for(var E=0;E<P.g.length;E++)if(P.g[E]!=0)return!1;return!0}function U(P){return P.h==-1}n.l=function(P){return P=K(this,P),U(P)?-1:V(P)?0:1};function B(P){for(var E=P.g.length,A=[],N=0;N<E;N++)A[N]=~P.g[N];return new u(A,~P.h).add(T)}n.abs=function(){return U(this)?B(this):this},n.add=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],N=0,D=0;D<=E;D++){var O=N+(this.i(D)&65535)+(P.i(D)&65535),j=(O>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);N=j>>>16,O&=65535,j&=65535,A[D]=j<<16|O}return new u(A,A[A.length-1]&-2147483648?-1:0)};function K(P,E){return P.add(B(E))}n.j=function(P){if(V(this)||V(P))return _;if(U(this))return U(P)?B(this).j(B(P)):B(B(this).j(P));if(U(P))return B(this.j(B(P)));if(0>this.l(C)&&0>P.l(C))return y(this.m()*P.m());for(var E=this.g.length+P.g.length,A=[],N=0;N<2*E;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var D=0;D<P.g.length;D++){var O=this.i(N)>>>16,j=this.i(N)&65535,Ie=P.i(D)>>>16,Ee=P.i(D)&65535;A[2*N+2*D]+=j*Ee,$(A,2*N+2*D),A[2*N+2*D+1]+=O*Ee,$(A,2*N+2*D+1),A[2*N+2*D+1]+=j*Ie,$(A,2*N+2*D+1),A[2*N+2*D+2]+=O*Ie,$(A,2*N+2*D+2)}for(N=0;N<E;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=E;N<2*E;N++)A[N]=0;return new u(A,0)};function $(P,E){for(;(P[E]&65535)!=P[E];)P[E+1]+=P[E]>>>16,P[E]&=65535,E++}function Q(P,E){this.g=P,this.h=E}function ae(P,E){if(V(E))throw Error("division by zero");if(V(P))return new Q(_,_);if(U(P))return E=ae(B(P),E),new Q(B(E.g),B(E.h));if(U(E))return E=ae(P,B(E)),new Q(B(E.g),E.h);if(30<P.g.length){if(U(P)||U(E))throw Error("slowDivide_ only works with positive integers.");for(var A=T,N=E;0>=N.l(P);)A=re(A),N=re(N);var D=oe(A,1),O=oe(N,1);for(N=oe(N,2),A=oe(A,2);!V(N);){var j=O.add(N);0>=j.l(P)&&(D=D.add(A),O=j),N=oe(N,1),A=oe(A,1)}return E=K(P,D.j(E)),new Q(D,E)}for(D=_;0<=P.l(E);){for(A=Math.max(1,Math.floor(P.m()/E.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=y(A),j=O.j(E);U(j)||0<j.l(P);)A-=N,O=y(A),j=O.j(E);V(O)&&(O=T),D=D.add(O),P=K(P,j)}return new Q(D,P)}n.A=function(P){return ae(this,P).h},n.and=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],N=0;N<E;N++)A[N]=this.i(N)&P.i(N);return new u(A,this.h&P.h)},n.or=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],N=0;N<E;N++)A[N]=this.i(N)|P.i(N);return new u(A,this.h|P.h)},n.xor=function(P){for(var E=Math.max(this.g.length,P.g.length),A=[],N=0;N<E;N++)A[N]=this.i(N)^P.i(N);return new u(A,this.h^P.h)};function re(P){for(var E=P.g.length+1,A=[],N=0;N<E;N++)A[N]=P.i(N)<<1|P.i(N-1)>>>31;return new u(A,P.h)}function oe(P,E){var A=E>>5;E%=32;for(var N=P.g.length-A,D=[],O=0;O<N;O++)D[O]=0<E?P.i(O+A)>>>E|P.i(O+A+1)<<32-E:P.i(O+A);return new u(D,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tT=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=x,nr=u}).apply(typeof Hx<"u"?Hx:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nT,ic,sT,Fh,Op,iT,rT,aT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function a(h,v){if(v)e:{var b=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var z=h[R];if(!(z in b))break e;b=b[z]}h=h[h.length-1],R=b[h],v=v(R),v!=R&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function c(h,v){h instanceof String&&(h+="");var b=0,R=!1,z={next:function(){if(!R&&b<h.length){var X=b++;return{value:v(X,h[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(h){return h||function(){return c(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function y(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function x(h,v,b){return h.call.apply(h.bind,arguments)}function _(h,v,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,R),h.apply(v,z)}}return function(){return h.apply(v,arguments)}}function T(h,v,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:_,T.apply(null,arguments)}function C(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function V(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,z,X){for(var se=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)se[Me-2]=arguments[Me];return v.prototype[z].apply(R,se)}}function U(h){const v=h.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=h[R];return b}return[]}function B(h,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(g(R)){const z=h.length||0,X=R.length||0;h.length=z+X;for(let se=0;se<X;se++)h[z+se]=R[se]}else h.push(R)}}class K{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ae(h){return ae[" "](h),h}ae[" "]=function(){};var re=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function oe(h,v,b){for(const R in h)v.call(b,h[R],R,h)}function P(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function E(h){const v={};for(const b in h)v[b]=h[b];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,v){let b,R;for(let z=1;z<arguments.length;z++){R=arguments[z];for(b in R)h[b]=R[b];for(let X=0;X<A.length;X++)b=A[X],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function D(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function O(h){f.setTimeout(()=>{throw h},0)}function j(){var h=me;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ie{constructor(){this.h=this.g=null}add(v,b){const R=Ee.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var Ee=new K(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ie=!1,me=new Ie,ve=()=>{const h=f.Promise.resolve(void 0);J=()=>{h.then(We)}};var We=()=>{for(var h;h=j();){try{h.h.call(h.g)}catch(b){O(b)}var v=Ee;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ie=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return h}();function st(h,v){if(de.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(re){e:{try{ae(v.nodeName);var z=!0;break e}catch{}z=!1}z||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:lt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&st.aa.h.call(this)}}V(st,de);var lt={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Wt="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function jt(h,v,b,R,z){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function mn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ln(h){this.src=h,this.g={},this.h=0}ln.prototype.add=function(h,v,b,R,z){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var se=Vt(h,v,R,z);return-1<se?(v=h[se],b||(v.fa=!1)):(v=new jt(v,this.src,X,!!R,z),v.fa=b,h.push(v)),v};function Qn(h,v){var b=v.type;if(b in h.g){var R=h.g[b],z=Array.prototype.indexOf.call(R,v,void 0),X;(X=0<=z)&&Array.prototype.splice.call(R,z,1),X&&(mn(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Vt(h,v,b,R){for(var z=0;z<h.length;++z){var X=h[z];if(!X.da&&X.listener==v&&X.capture==!!b&&X.ha==R)return z}return-1}var bn="closure_lm_"+(1e6*Math.random()|0),ls={};function nu(h,v,b,R,z){if(Array.isArray(v)){for(var X=0;X<v.length;X++)nu(h,v[X],b,R,z);return null}return b=su(b),h&&h[Wt]?h.K(v,b,y(R)?!!R.capture:!1,z):In(h,v,b,!1,R,z)}function In(h,v,b,R,z,X){if(!v)throw Error("Invalid event type");var se=y(z)?!!z.capture:!!z,Me=pa(h);if(Me||(h[bn]=Me=new ln(h)),b=Me.add(v,b,R,se,X),b.proxy)return b;if(R=Qd(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)Ue||(z=se),z===void 0&&(z=!1),h.addEventListener(v.toString(),R,z);else if(h.attachEvent)h.attachEvent(fr(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Qd(){function h(b){return v.call(h.src,h.listener,b)}const v=$d;return h}function Go(h,v,b,R,z){if(Array.isArray(v))for(var X=0;X<v.length;X++)Go(h,v[X],b,R,z);else R=y(R)?!!R.capture:!!R,b=su(b),h&&h[Wt]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],b=Vt(X,b,R,z),-1<b&&(mn(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=pa(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Vt(v,b,R,z)),(b=-1<h?v[h]:null)&&ma(b))}function ma(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Wt])Qn(v.i,h);else{var b=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(b,R,h.capture):v.detachEvent?v.detachEvent(fr(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=pa(v))?(Qn(b,h),b.h==0&&(b.src=null,v[bn]=null)):mn(h)}}}function fr(h){return h in ls?ls[h]:ls[h]="on"+h}function $d(h,v){if(h.da)h=!0;else{v=new st(v,this);var b=h.listener,R=h.ha||h.src;h.fa&&ma(h),h=b.call(R,v)}return h}function pa(h){return h=h[bn],h instanceof ln?h:null}var Ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function su(h){return typeof h=="function"?h:(h[Ko]||(h[Ko]=function(v){return h.handleEvent(v)}),h[Ko])}function ct(){Se.call(this),this.i=new ln(this),this.M=this,this.F=null}V(ct,Se),ct.prototype[Wt]=!0,ct.prototype.removeEventListener=function(h,v,b,R){Go(this,h,v,b,R)};function He(h,v){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new de(v,h);else if(v instanceof de)v.target=v.target||h;else{var z=v;v=new de(R,h),N(v,z)}if(z=!0,b)for(var X=b.length-1;0<=X;X--){var se=v.g=b[X];z=_n(se,R,!0,v)&&z}if(se=v.g=h,z=_n(se,R,!0,v)&&z,z=_n(se,R,!1,v)&&z,b)for(X=0;X<b.length;X++)se=v.g=b[X],z=_n(se,R,!1,v)&&z}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],R=0;R<b.length;R++)mn(b[R]);delete h.g[v],h.h--}}this.F=null},ct.prototype.K=function(h,v,b,R){return this.i.add(String(h),v,!1,b,R)},ct.prototype.L=function(h,v,b,R){return this.i.add(String(h),v,!0,b,R)};function _n(h,v,b,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var z=!0,X=0;X<v.length;++X){var se=v[X];if(se&&!se.da&&se.capture==b){var Me=se.listener,At=se.ha||se.src;se.fa&&Qn(h.i,se),z=Me.call(At,R)!==!1&&z}}return z&&!R.defaultPrevented}function Jt(h,v,b){if(typeof h=="function")b&&(h=T(h,b));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function iu(h){h.g=Jt(()=>{h.g=null,h.i&&(h.i=!1,iu(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Wd extends Se{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(h){Se.call(this),this.h=h,this.g={}}V(mr,Se);var pr=[];function gr(h){oe(h.g,function(v,b){this.g.hasOwnProperty(b)&&ma(v)},h),h.g={}}mr.prototype.N=function(){mr.aa.N.call(this),gr(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=f.JSON.stringify,ga=f.JSON.parse,yr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Yo(){}Yo.prototype.h=null;function Xo(h){return h.h||(h.h=h.i())}function Qo(){}var ks={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ls(){de.call(this,"d")}V(Ls,de);function $o(){de.call(this,"c")}V($o,de);var cs={},Wo=null;function xi(){return Wo=Wo||new ct}cs.La="serverreachability";function ya(h){de.call(this,cs.La,h)}V(ya,de);function bi(h){const v=xi();He(v,new ya(v))}cs.STAT_EVENT="statevent";function ru(h,v){de.call(this,cs.STAT_EVENT,h),this.stat=v}V(ru,de);function et(h){const v=xi();He(v,new ru(v,h))}cs.Ma="timingevent";function St(h,v){de.call(this,cs.Ma,h),this.size=v}V(St,de);function vt(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function Zo(h,v,b,R,z,X){h.info(function(){if(h.g)if(X)for(var se="",Me=X.split("&"),At=0;At<Me.length;At++){var Pe=Me[At].split("=");if(1<Pe.length){var Pt=Pe[0];Pe=Pe[1];var Rt=Pt.split("_");se=2<=Rt.length&&Rt[1]=="type"?se+(Pt+"="+Pe+"&"):se+(Pt+"=redacted&")}}else se=null;else se=X;return"XMLHTTP REQ ("+R+") [attempt "+z+"]: "+v+`
`+b+`
`+se})}function Zd(h,v,b,R,z,X,se){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+z+"]: "+v+`
`+b+`
`+X+" "+se})}function _i(h,v,b,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+vr(h,b)+(R?" "+R:"")})}function au(h,v){h.info(function(){return"TIMEOUT: "+v})}Dn.prototype.info=function(){};function vr(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var z=R[1];if(Array.isArray(z)&&!(1>z.length)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return $n(b)}catch{return v}}var wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Us={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},us;function hs(){}V(hs,Yo),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},us=new hs;function cn(h,v,b,R){this.j=h,this.i=v,this.l=b,this.R=R||1,this.U=new mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Jo={},va={};function Wn(h,v,b){h.L=1,h.v=Tr(wn(v)),h.m=b,h.P=!0,Bs(h,null)}function Bs(h,v){h.F=Date.now(),xr(h),h.A=wn(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),rl(b.i,"t",R),h.C=0,b=h.j.J,h.h=new ft,h.g=wu(h.j,b?v:null,!h.m),0<h.O&&(h.M=new Wd(T(h.Y,h,h.g),h.O)),v=h.U,b=h.g,R=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(pr[0]=z.toString()),z=pr);for(var X=0;X<z.length;X++){var se=nu(b,z[X],R||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),bi(),Zo(h.i,h.u,h.A,h.l,h.R,h.m)}cn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Pn(h)==3?v.j():this.Y(h)},cn.prototype.Y=function(h){try{if(h==this.g)e:{const Rt=Pn(this.g);var v=this.g.Ba();const Xs=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||Rt!=4||v==7||(v==8||0>=Xs?bi(3):bi(2)),Ti(this);var b=this.g.Z();this.X=b;t:if(ou(this)){var R=mu(this.g);h="";var z=R.length,X=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),ds(this);var se="";break t}this.h.i=new f.TextDecoder}for(v=0;v<z;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(X&&v==z-1)});R.length=0,this.h.g+=h,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=b==200,Zd(this.i,this.u,this.A,this.l,this.R,Rt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,At=this.g;if((Me=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Me)){var Pe=Me;break t}}Pe=null}if(b=Pe)_i(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,br(this,b);else{this.o=!1,this.s=3,et(12),Ft(this),ds(this);break e}}if(this.P){b=!0;let Ht;for(;!this.J&&this.C<se.length;)if(Ht=lu(this,se),Ht==va){Rt==4&&(this.s=4,et(14),b=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Jo){this.s=4,et(15),_i(this.i,this.l,se,"[Invalid Chunk]"),b=!1;break}else _i(this.i,this.l,Ht,null),br(this,Ht);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||se.length!=0||this.h.h||(this.s=1,et(16),b=!1),this.o=this.o&&b,!b)_i(this.i,this.l,se,"[Invalid Chunked Response]"),Ft(this),ds(this);else if(0<se.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Dr(Pt),Pt.M=!0,et(11))}}else _i(this.i,this.l,se,null),br(this,se);Rt==4&&Ft(this),this.o&&!this.J&&(Rt==4?xu(this.j,this):(this.o=!1,xr(this)))}else sf(this.g),b==400&&0<se.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Ft(this),ds(this)}}}catch{}finally{}};function ou(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function lu(h,v){var b=h.C,R=v.indexOf(`
`,b);return R==-1?va:(b=Number(v.substring(b,R)),isNaN(b)?Jo:(R+=1,R+b>v.length?va:(v=v.slice(R,R+b),h.C=R+b,v)))}cn.prototype.cancel=function(){this.J=!0,Ft(this)};function xr(h){h.S=Date.now()+h.I,cu(h,h.I)}function cu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=vt(T(h.ba,h),v)}function Ti(h){h.B&&(f.clearTimeout(h.B),h.B=null)}cn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(au(this.i,this.A),this.L!=2&&(bi(),et(17)),Ft(this),this.s=2,ds(this)):cu(this,this.S-h)};function ds(h){h.j.G==0||h.J||xu(h.j,h)}function Ft(h){Ti(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,gr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function br(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||el(b.h,h))){if(!h.K&&el(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var z=R;if(z[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)Ia(b),Na(b);else break e;ul(b),et(18)}}else b.za=z[1],0<b.za-b.T&&37500>z[2]&&b.F&&b.v==0&&!b.C&&(b.C=vt(T(b.Za,b),6e3));if(1>=ba(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Ys(b,11)}else if((h.K||b.g==h)&&Ia(b),!$(v))for(z=b.Da.g.parse(v),v=0;v<z.length;v++){let Pe=z[v];if(b.T=Pe[0],Pe=Pe[1],b.G==2)if(Pe[0]=="c"){b.K=Pe[1],b.ia=Pe[2];const Pt=Pe[3];Pt!=null&&(b.la=Pt,b.j.info("VER="+b.la));const Rt=Pe[4];Rt!=null&&(b.Aa=Rt,b.j.info("SVER="+b.Aa));const Xs=Pe[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(R=1.5*Xs,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Ht=h.g;if(Ht){const xs=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var X=R.h;X.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(_a(X,X.h),X.h=null))}if(R.D){const dl=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(R.ya=dl,Ke(R.I,R.D,dl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var se=h;if(R.qa=_u(R,R.J?R.ia:null,R.W),se.K){un(R.h,se);var Me=se,At=R.L;At&&(Me.I=At),Me.B&&(Ti(Me),xr(Me)),R.g=se}else yu(R);0<b.i.length&&Ca(b)}else Pe[0]!="stop"&&Pe[0]!="close"||Ys(b,7);else b.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ys(b,7):ll(b):Pe[0]!="noop"&&b.l&&b.l.ta(Pe),b.v=0)}}bi(4)}catch{}}var uu=class{constructor(h,v){this.g=h,this.map=v}};function zs(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ba(h){return h.h?1:h.g?h.g.size:0}function el(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function _a(h,v){h.g?h.g.add(v):h.h=v}function un(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}zs.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function tl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return U(h.i)}function Jd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(g(h)){for(var v=[],b=h.length,R=0;R<b;R++)v.push(h[R]);return v}v=[],b=0;for(R in h)v[b++]=h[R];return v}function wa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(g(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const R in h)v[b++]=R;return v}}}function nl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(g(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=wa(h),R=Jd(h),z=R.length,X=0;X<z;X++)v.call(void 0,R[X],b&&b[X],h)}var _r=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ef(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),z=null;if(0<=R){var X=h[b].substring(0,R);z=h[b].substring(R+1)}else X=h[b];v(X,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function xt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof xt){this.h=h.h,wr(this,h.j),this.o=h.o,this.g=h.g,Ei(this,h.s),this.l=h.l;var v=h.i,b=new Hs;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Fs(this,b),this.m=h.m}else h&&(v=String(h).match(_r))?(this.h=!1,wr(this,v[1]||"",!0),this.o=jn(v[2]||""),this.g=jn(v[3]||"",!0),Ei(this,v[4]),this.l=jn(v[5]||"",!0),Fs(this,v[6]||"",!0),this.m=jn(v[7]||"")):(this.h=!1,this.i=new Hs(null,this.h))}xt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Er(v,sl,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Er(v,sl,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Er(b,b.charAt(0)=="/"?tf:il,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Er(b,Ta)),h.join("")};function wn(h){return new xt(h)}function wr(h,v,b){h.j=b?jn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ei(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Fs(h,v,b){v instanceof Hs?(h.i=v,du(h.i,h.h)):(b||(v=Er(v,nf)),h.i=new Hs(v,h.h))}function Ke(h,v,b){h.i.set(v,b)}function Tr(h){return Ke(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function jn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Er(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,hu),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var sl=/[#\/\?@]/g,il=/[#\?:]/g,tf=/[#\?]/g,nf=/[#\?@]/g,Ta=/#/g;function Hs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&ef(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=Hs.prototype,n.add=function(h,v){Vn(this),this.i=null,h=fs(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function qs(h,v){Vn(h),v=fs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Gs(h,v){return Vn(h),v=fs(h,v),h.g.has(v)}n.forEach=function(h,v){Vn(this),this.g.forEach(function(b,R){b.forEach(function(z){h.call(v,z,R,this)},this)},this)},n.na=function(){Vn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const z=h[R];for(let X=0;X<z.length;X++)b.push(v[R])}return b},n.V=function(h){Vn(this);let v=[];if(typeof h=="string")Gs(this,h)&&(v=v.concat(this.g.get(fs(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},n.set=function(h,v){return Vn(this),this.i=null,h=fs(this,h),Gs(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function rl(h,v,b){qs(h,v),0<b.length&&(h.i=null,h.g.set(fs(h,v),U(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const X=encodeURIComponent(String(R)),se=this.V(R);for(R=0;R<se.length;R++){var z=X;se[R]!==""&&(z+="="+encodeURIComponent(String(se[R]))),h.push(z)}}return this.i=h.join("&")};function fs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function du(h,v){v&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(b,R){var z=R.toLowerCase();R!=z&&(qs(this,R),rl(this,z,b))},h)),h.j=v}function Sr(h,v){const b=new Dn;if(f.Image){const R=new Image;R.onload=C(Mn,b,"TestLoadImage: loaded",!0,v,R),R.onerror=C(Mn,b,"TestLoadImage: error",!1,v,R),R.onabort=C(Mn,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=C(Mn,b,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function Zn(h,v){const b=new Dn,R=new AbortController,z=setTimeout(()=>{R.abort(),Mn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(z),X.ok?Mn(b,"TestPingServer: ok",!0,v):Mn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),Mn(b,"TestPingServer: error",!1,v)})}function Mn(h,v,b,R,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),R(b)}catch{}}function Ar(){this.g=new yr}function ms(h,v,b){const R=b||"";try{nl(h,function(z,X){let se=z;y(z)&&(se=$n(z)),v.push(R+X+"="+encodeURIComponent(se))})}catch(z){throw v.push(R+"type="+encodeURIComponent("_badmap")),z}}function Si(h){this.l=h.Ub||null,this.j=h.eb||!1}V(Si,Yo),Si.prototype.g=function(){return new Ks(this.l,this.j)},Si.prototype.i=function(h){return function(){return h}}({});function Ks(h,v){ct.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ks,ct),n=Ks.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,gs(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;al(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function al(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ps(this):gs(this),this.readyState==3&&al(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,ps(this))},n.Qa=function(h){this.g&&(this.response=h,ps(this))},n.ga=function(){this.g&&ps(this)};function ps(h){h.readyState=4,h.l=null,h.j=null,h.v=null,gs(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function gs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ol(h){let v="";return oe(h,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function Mt(h,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=ol(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):Ke(h,v,b))}function ze(h){ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(ze,ct);var Ea=/^https?$/i,Rr=["POST","PUT"];n=ze.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():us.g(),this.v=this.o?Xo(this.o):Xo(us),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){fu(this,X);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var z in R)b.set(z,R[z]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())b.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),z=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Rr,v,void 0))||R||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,se]of b)this.g.setRequestHeader(X,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nr(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){fu(this,X)}};function fu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Sa(h),ys(h)}function Sa(h){h.A||(h.A=!0,He(h,"complete"),He(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,He(this,"complete"),He(this,"abort"),ys(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ys(this,!0)),ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},n.bb=function(){Aa(this)};function Aa(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Pn(h)!=4||h.Z()!=2)){if(h.u&&Pn(h)==4)Jt(h.Ea,0,h);else if(He(h,"readystatechange"),Pn(h)==4){h.h=!1;try{const se=h.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=se===0){var z=String(h.D).match(_r)[1]||null;!z&&f.self&&f.self.location&&(z=f.self.location.protocol.slice(0,-1)),R=!Ea.test(z?z.toLowerCase():"")}b=R}if(b)He(h,"complete"),He(h,"success");else{h.m=6;try{var X=2<Pn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Sa(h)}}finally{ys(h)}}}}function ys(h,v){if(h.g){Nr(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||He(h,"ready");try{b.onreadystatechange=R}catch{}}}function Nr(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Pn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ga(v)}};function mu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function sf(h){const v={};h=(h.g&&2<=Pn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if($(h[R]))continue;var b=D(h[R]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=v[z]||[];v[z]=X,X.push(b)}P(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Ra(h){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cr("baseRetryDelayMs",5e3,h),this.cb=Cr("retryDelaySeedMs",1e4,h),this.Wa=Cr("forwardChannelMaxRetries",2,h),this.wa=Cr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new zs(h&&h.concurrentRequestLimit),this.Da=new Ar,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ra.prototype,n.la=8,n.G=1,n.connect=function(h,v,b,R){et(0),this.W=h,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=_u(this,null,this.W),Ca(this)};function ll(h){if(pu(h),h.G==3){var v=h.U++,b=wn(h.I);if(Ke(b,"SID",h.K),Ke(b,"RID",v),Ke(b,"TYPE","terminate"),Ir(h,b),v=new cn(h,h.j,v),v.L=2,v.v=Tr(wn(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=wu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),xr(v)}bu(h)}function Na(h){h.g&&(Dr(h),h.g.cancel(),h.g=null)}function pu(h){Na(h),h.u&&(f.clearTimeout(h.u),h.u=null),Ia(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Ca(h){if(!xa(h.h)&&!h.s){h.s=!0;var v=h.Ga;J||ve(),ie||(J(),ie=!0),me.add(v,h),h.B=0}}function rf(h,v){return ba(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=vt(T(h.Ga,h,v),hl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new cn(this,this.j,h);let X=this.o;if(this.S&&(X?(X=E(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(z.H=X,X=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=gu(this,z,v),b=wn(this.I),Ke(b,"RID",h),Ke(b,"CVER",22),this.D&&Ke(b,"X-HTTP-Session-Id",this.D),Ir(this,b),X&&(this.O?v="headers="+encodeURIComponent(String(ol(X)))+"&"+v:this.m&&Mt(b,this.m,X)),_a(this.h,z),this.Ua&&Ke(b,"TYPE","init"),this.P?(Ke(b,"$req",v),Ke(b,"SID","null"),z.T=!0,Wn(z,b,null)):Wn(z,b,v),this.G=2}}else this.G==3&&(h?cl(this,h):this.i.length==0||xa(this.h)||cl(this))};function cl(h,v){var b;v?b=v.l:b=h.U++;const R=wn(h.I);Ke(R,"SID",h.K),Ke(R,"RID",b),Ke(R,"AID",h.T),Ir(h,R),h.m&&h.o&&Mt(R,h.m,h.o),b=new cn(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=gu(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),_a(h.h,b),Wn(b,R,v)}function Ir(h,v){h.H&&oe(h.H,function(b,R){Ke(v,R,b)}),h.l&&nl({},function(b,R){Ke(v,R,b)})}function gu(h,v,b){b=Math.min(h.i.length,b);var R=h.l?T(h.l.Na,h.l,h):null;e:{var z=h.i;let X=-1;for(;;){const se=["count="+b];X==-1?0<b?(X=z[0].g,se.push("ofs="+X)):X=0:se.push("ofs="+X);let Me=!0;for(let At=0;At<b;At++){let Pe=z[At].g;const Pt=z[At].map;if(Pe-=X,0>Pe)X=Math.max(0,z[At].g-100),Me=!1;else try{ms(Pt,se,"req"+Pe+"_")}catch{R&&R(Pt)}}if(Me){R=se.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,R}function yu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;J||ve(),ie||(J(),ie=!0),me.add(v,h),h.v=0}}function ul(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=vt(T(h.Fa,h),hl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=vt(T(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Na(this),vu(this))};function Dr(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function vu(h){h.g=new cn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=wn(h.qa);Ke(v,"RID","rpc"),Ke(v,"SID",h.K),Ke(v,"AID",h.T),Ke(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ke(v,"TO",h.ja),Ke(v,"TYPE","xmlhttp"),Ir(h,v),h.m&&h.o&&Mt(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=Tr(wn(v)),b.m=null,b.P=!0,Bs(b,h)}n.Za=function(){this.C!=null&&(this.C=null,Na(this),ul(this),et(19))};function Ia(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function xu(h,v){var b=null;if(h.g==v){Ia(h),Dr(h),h.g=null;var R=2}else if(el(h.h,v))b=v.D,un(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var z=h.B;R=xi(),He(R,new St(R,b)),Ca(h)}else yu(h);else if(z=v.s,z==3||z==0&&0<v.X||!(R==1&&rf(h,v)||R==2&&ul(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),z){case 1:Ys(h,5);break;case 4:Ys(h,10);break;case 3:Ys(h,6);break;default:Ys(h,2)}}}function hl(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function Ys(h,v){if(h.j.info("Error code "+v),v==2){var b=T(h.fb,h),R=h.Xa;const z=!R;R=new xt(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||wr(R,"https"),Tr(R),z?Sr(R.toString(),b):Zn(R.toString(),b)}else et(2);h.G=0,h.l&&h.l.sa(v),bu(h),pu(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function bu(h){if(h.G=0,h.ka=[],h.l){const v=tl(h.h);(v.length!=0||h.i.length!=0)&&(B(h.ka,v),B(h.ka,h.i),h.h.i.length=0,U(h.i),h.i.length=0),h.l.ra()}}function _u(h,v,b){var R=b instanceof xt?wn(b):new xt(b);if(R.g!="")v&&(R.g=v+"."+R.g),Ei(R,R.s);else{var z=f.location;R=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;var X=new xt(null);R&&wr(X,R),v&&(X.g=v),z&&Ei(X,z),b&&(X.l=b),R=X}return b=h.D,v=h.ya,b&&v&&Ke(R,b,v),Ke(R,"VER",h.la),Ir(h,R),R}function wu(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ze(new Si({eb:b})):new ze(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}n=Tu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Da(){}Da.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){ct.call(this),this.g=new Ra(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!$(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new vs(this)}V(hn,ct),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){ll(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=$n(h),h=b);v.i.push(new uu(v.Ya++,h)),v.G==3&&Ca(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,hn.aa.N.call(this)};function Eu(h){Ls.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}V(Eu,Ls);function Su(){$o.call(this),this.status=1}V(Su,$o);function vs(h){this.g=h}V(vs,Tu),vs.prototype.ua=function(){He(this.g,"a")},vs.prototype.ta=function(h){He(this.g,new Eu(h))},vs.prototype.sa=function(h){He(this.g,new Su)},vs.prototype.ra=function(){He(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,aT=function(){return new Da},rT=function(){return xi()},iT=cs,Op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wi.NO_ERROR=0,wi.TIMEOUT=8,wi.HTTP_ERROR=6,Fh=wi,Us.COMPLETE="complete",sT=Us,Qo.EventType=ks,ks.OPEN="a",ks.CLOSE="b",ks.ERROR="c",ks.MESSAGE="d",ct.prototype.listen=ct.prototype.K,ic=Qo,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,nT=ze}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const qx="@firebase/firestore",Gx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new Eg("@firebase/firestore");function oo(){return la.logLevel}function le(n,...e){if(la.logLevel<=De.DEBUG){const t=e.map(Lg);la.debug(`Firestore (${Lo}): ${n}`,...t)}}function mi(n,...e){if(la.logLevel<=De.ERROR){const t=e.map(Lg);la.error(`Firestore (${Lo}): ${n}`,...t)}}function Eo(n,...e){if(la.logLevel<=De.WARN){const t=e.map(Lg);la.warn(`Firestore (${Lo}): ${n}`,...t)}}function Lg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,oT(n,i,t)}function oT(n,e,t){let i=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw mi(i),new Error(i)}function Fe(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||oT(e,a,i)}function Te(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class QC{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0,42304);let i=this.i;const a=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let c=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new sr,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},f=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new sr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Fe(typeof i.accessToken=="string",31837,{l:i}),new lT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class $C{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WC{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new $C(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ss(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0,3512);const i=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const a=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Kx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=JC(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<t&&(i+=e.charAt(a[c]%62))}return i}}function je(n,e){return n<e?-1:n>e?1:0}function kp(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),c=e.charAt(i);if(a!==c)return op(a)===op(c)?je(a,c):op(a)?1:-1}return je(n.length,e.length)}const e4=55296,t4=57343;function op(n){const e=n.charCodeAt(0);return e>=e4&&e<=t4}function So(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="__name__";class Ss{constructor(e,t,i){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ye(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const c=Ss.compareSegments(e.get(a),t.get(a));if(c!==0)return c}return je(e.length,t.length)}static compareSegments(e,t){const i=Ss.isNumericId(e),a=Ss.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Ss.extractNumericId(e).compare(Ss.extractNumericId(t)):kp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nr.fromString(e.substring(4,e.length-2))}}class rt extends Ss{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const n4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ss{construct(e,t,i){return new Qt(e,t,i)}static isValidIdentifier(e){return n4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yx}static keyField(){return new Qt([Yx])}static fromServerFormat(e){const t=[];let i="",a=0;const c=()=>{if(i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(c(),a++)}if(c(),u)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(rt.fromString(e))}static fromName(e){return new fe(rt.fromString(e).popFirst(5))}static empty(){return new fe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(n,e,t){if(!t)throw new he(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function i4(n,e,t,i){if(e===!0&&i===!0)throw new he(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Xx(n){if(!fe.isDocumentKey(n))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye(12329,{type:typeof n})}function Ec(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bg(n);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,e){const t={typeString:n};return e&&(t.value=e),t}function Gc(n,e){if(!cT(n))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(c!==void 0&&u!==c.value){t=`Expected '${i}' field to equal '${c.value}'`;break}}if(t)throw new he(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=-62135596800,$x=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*$x);return new Je(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Qx)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$x}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gc(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Et("string",Je._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Je(0,0))}static max(){return new we(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=-1;function r4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=we.fromTimestamp(i===1e9?new Je(t+1,0):new Je(t,i));return new ir(a,fe.empty(),e)}function a4(n){return new ir(n.readTime,n.key,Sc)}class ir{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ir(we.min(),fe.empty(),Sc)}static max(){return new ir(we.max(),fe.empty(),Sc)}}function o4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==l4)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((i,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,i)=>{t(e)})}static reject(e){return new te((t,i)=>{i(e)})}static waitFor(e){return new te((t,i)=>{let a=0,c=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++c,u&&c===a&&t()},g=>i(g))}),u=!0,c===a&&t()})}static or(e){let t=te.resolve(!1);for(const i of e)t=t.next(a=>a?te.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,c)=>{i.push(t.call(this,a,c))}),this.waitFor(i)}static mapArray(e,t){return new te((i,a)=>{const c=e.length,u=new Array(c);let f=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next(x=>{u[y]=x,++f,f===c&&i(u)},x=>a(x))}})}static doWhile(e,t){return new te((i,a)=>{const c=()=>{e()===!0?t().next(()=>{c()},a):i()};c()})}}function u4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=-1;function jd(n){return n==null}function od(n){return n===0&&1/n==-1/0}function h4(n){return typeof n=="number"&&Number.isInteger(n)&&!od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="";function d4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Wx(e)),e=f4(n.get(t),e);return Wx(e)}function f4(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const c=n.charAt(a);switch(c){case"\0":t+="";break;case uT:t+="";break;default:t+=c}}return t}function Wx(n){return n+uT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ua(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,i,a,c){this.key=e,this.value=t,this.color=i??Xt.RED,this.left=a??Xt.EMPTY,this.right=c??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,c){return new Xt(e??this.key,t??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const c=i(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,i),null):c===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Xt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,i,a,c){return this}insert(e,t,i){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jx(this.data.getIterator())}getIteratorFrom(e){return new Jx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class Jx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new rs([])}unionWith(e){let t=new Dt(Qt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dT("Invalid base64 string: "+c):c}}(e);return new $t(t)}static fromUint8Array(e){const t=function(a){let c="";for(let u=0;u<a.length;++u)c+=String.fromCharCode(a[u]);return c}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const m4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(n){if(Fe(!!n,39018),typeof n=="string"){let e=0;const t=m4.exec(n);if(Fe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ar(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="server_timestamp",mT="__type__",pT="__previous_value__",gT="__local_write_time__";function Fg(n){return(n?.mapValue?.fields||{})[mT]?.stringValue===fT}function Vd(n){const e=n.mapValue.fields[pT];return Fg(e)?Vd(e):e}function Ac(n){const e=rr(n.mapValue.fields[gT].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t,i,a,c,u,f,g,y,x){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x}}const ld="(default)";class Rc{constructor(e,t){this.projectId=e,this.database=t||ld}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="__type__",g4="__max__",Ch={mapValue:{}},vT="__vector__",cd="value";function or(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fg(n)?4:v4(n)?9007199254740991:y4(n)?10:11:ye(28295,{value:n})}function Ps(n,e){if(n===e)return!0;const t=or(n);if(t!==or(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ac(n).isEqual(Ac(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const u=rr(a.timestampValue),f=rr(c.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,c){return ar(a.bytesValue).isEqual(ar(c.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,c){return yt(a.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(a.geoPointValue.longitude)===yt(c.geoPointValue.longitude)}(n,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return yt(a.integerValue)===yt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const u=yt(a.doubleValue),f=yt(c.doubleValue);return u===f?od(u)===od(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return So(n.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return function(a,c){const u=a.mapValue.fields||{},f=c.mapValue.fields||{};if(Zx(u)!==Zx(f))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(f[g]===void 0||!Ps(u[g],f[g])))return!1;return!0}(n,e);default:return ye(52216,{left:n})}}function Nc(n,e){return(n.values||[]).find(t=>Ps(t,e))!==void 0}function Ao(n,e){if(n===e)return 0;const t=or(n),i=or(e);if(t!==i)return je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(c,u){const f=yt(c.integerValue||c.doubleValue),g=yt(u.integerValue||u.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(n,e);case 3:return eb(n.timestampValue,e.timestampValue);case 4:return eb(Ac(n),Ac(e));case 5:return kp(n.stringValue,e.stringValue);case 6:return function(c,u){const f=ar(c),g=ar(u);return f.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(c,u){const f=c.split("/"),g=u.split("/");for(let y=0;y<f.length&&y<g.length;y++){const x=je(f[y],g[y]);if(x!==0)return x}return je(f.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,u){const f=je(yt(c.latitude),yt(u.latitude));return f!==0?f:je(yt(c.longitude),yt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return tb(n.arrayValue,e.arrayValue);case 10:return function(c,u){const f=c.fields||{},g=u.fields||{},y=f[cd]?.arrayValue,x=g[cd]?.arrayValue,_=je(y?.values?.length||0,x?.values?.length||0);return _!==0?_:tb(y,x)}(n.mapValue,e.mapValue);case 11:return function(c,u){if(c===Ch.mapValue&&u===Ch.mapValue)return 0;if(c===Ch.mapValue)return 1;if(u===Ch.mapValue)return-1;const f=c.fields||{},g=Object.keys(f),y=u.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let _=0;_<g.length&&_<x.length;++_){const T=kp(g[_],x[_]);if(T!==0)return T;const C=Ao(f[g[_]],y[x[_]]);if(C!==0)return C}return je(g.length,x.length)}(n.mapValue,e.mapValue);default:throw ye(23264,{he:t})}}function eb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=rr(n),i=rr(e),a=je(t.seconds,i.seconds);return a!==0?a:je(t.nanos,i.nanos)}function tb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const c=Ao(t[a],i[a]);if(c)return c}return je(t.length,i.length)}function Ro(n){return Lp(n)}function Lp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=rr(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ar(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return fe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const c of t.values||[])a?a=!1:i+=",",i+=Lp(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",c=!0;for(const u of i)c?c=!1:a+=",",a+=`${u}:${Lp(t.fields[u])}`;return a+"}"}(n.mapValue):ye(61005,{value:n})}function Hh(n){switch(or(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vd(n);return e?16+Hh(e):16;case 5:return 2*n.stringValue.length;case 6:return ar(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,c)=>a+Hh(c),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return ua(i.fields,(c,u)=>{a+=c.length+Hh(u)}),a}(n.mapValue);default:throw ye(13486,{value:n})}}function Up(n){return!!n&&"integerValue"in n}function Hg(n){return!!n&&"arrayValue"in n}function nb(n){return!!n&&"nullValue"in n}function sb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qh(n){return!!n&&"mapValue"in n}function y4(n){return(n?.mapValue?.fields||{})[yT]?.stringValue===vT}function dc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ua(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=dc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dc(n.arrayValue.values[t]);return e}return{...n}}function v4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===g4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(t)}setAll(e){let t=Qt.emptyPath(),i={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,a),i={},a=[],t=f.popLast()}u?i[f.lastSegment()]=dc(u):a.push(f.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,a)}delete(e){const t=this.field(e.popLast());qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];qh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ua(t,(a,c)=>e[a]=c);for(const a of i)delete e[a]}clone(){return new Gn(dc(this.value))}}function xT(n){const e=[];return ua(n.fields,(t,i)=>{const a=new Qt([t]);if(qh(i)){const c=xT(i.mapValue).fields;if(c.length===0)e.push(a);else for(const u of c)e.push(a.child(u))}else e.push(a)}),new rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,i,a,c,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=c,this.data=u,this.documentState=f}static newInvalidDocument(e){return new rn(e,0,we.min(),we.min(),we.min(),Gn.empty(),0)}static newFoundDocument(e,t,i,a){return new rn(e,1,t,we.min(),i,a,0)}static newNoDocument(e,t){return new rn(e,2,t,we.min(),we.min(),Gn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,we.min(),we.min(),Gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t){this.position=e,this.inclusive=t}}function ib(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const c=e[a],u=n.position[a];if(c.field.isKeyField()?i=fe.comparator(fe.fromName(u.referenceValue),t.key):i=Ao(u,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function rb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ps(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t="asc"){this.field=e,this.dir=t}}function x4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{}class It extends bT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new _4(e,t,i):t==="array-contains"?new E4(e,i):t==="in"?new S4(e,i):t==="not-in"?new A4(e,i):t==="array-contains-any"?new R4(e,i):new It(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new w4(e,i):new T4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ao(t,this.value)):t!==null&&or(this.value)===or(t)&&this.matchesComparison(Ao(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Os extends bT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Os(e,t)}matches(e){return _T(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _T(n){return n.op==="and"}function wT(n){return b4(n)&&_T(n)}function b4(n){for(const e of n.filters)if(e instanceof Os)return!1;return!0}function Bp(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+Ro(n.value);if(wT(n))return n.filters.map(e=>Bp(e)).join(",");{const e=n.filters.map(t=>Bp(t)).join(",");return`${n.op}(${e})`}}function TT(n,e){return n instanceof It?function(i,a){return a instanceof It&&i.op===a.op&&i.field.isEqual(a.field)&&Ps(i.value,a.value)}(n,e):n instanceof Os?function(i,a){return a instanceof Os&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((c,u,f)=>c&&TT(u,a.filters[f]),!0):!1}(n,e):void ye(19439)}function ET(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${Ro(t.value)}`}(n):n instanceof Os?function(t){return t.op.toString()+" {"+t.getFilters().map(ET).join(" ,")+"}"}(n):"Filter"}class _4 extends It{constructor(e,t,i){super(e,t,i),this.key=fe.fromName(i.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class w4 extends It{constructor(e,t){super(e,"in",t),this.keys=ST("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class T4 extends It{constructor(e,t){super(e,"not-in",t),this.keys=ST("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ST(n,e){return(e.arrayValue?.values||[]).map(t=>fe.fromName(t.referenceValue))}class E4 extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hg(t)&&Nc(t.arrayValue,this.value)}}class S4 extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nc(this.value.arrayValue,t)}}class A4 extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nc(this.value.arrayValue,t)}}class R4 extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Nc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,t=null,i=[],a=[],c=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=u,this.endAt=f,this.Te=null}}function ab(n,e=null,t=[],i=[],a=null,c=null,u=null){return new N4(n,e,t,i,a,c,u)}function qg(n){const e=Te(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Bp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),jd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ro(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ro(i)).join(",")),e.Te=t}return e.Te}function Gg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!x4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!TT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rb(n.startAt,e.startAt)&&rb(n.endAt,e.endAt)}function zp(n){return fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t=null,i=[],a=[],c=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=u,this.startAt=f,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function C4(n,e,t,i,a,c,u,f){return new Md(n,e,t,i,a,c,u,f)}function Kg(n){return new Md(n)}function ob(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function I4(n){return n.collectionGroup!==null}function fc(n){const e=Te(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Dt(Qt.comparator);return u.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hd(c,i))}),t.has(Qt.keyField().canonicalString())||e.Ie.push(new hd(Qt.keyField(),i))}return e.Ie}function Rs(n){const e=Te(n);return e.Ee||(e.Ee=D4(e,fc(n))),e.Ee}function D4(n,e){if(n.limitType==="F")return ab(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new hd(a.field,c)});const t=n.endAt?new ud(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ud(n.startAt.position,n.startAt.inclusive):null;return ab(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Fp(n,e,t){return new Md(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pd(n,e){return Gg(Rs(n),Rs(e))&&n.limitType===e.limitType}function AT(n){return`${qg(Rs(n))}|lt:${n.limitType}`}function lo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>ET(a)).join(", ")}]`),jd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Ro(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Ro(a)).join(",")),`Target(${i})`}(Rs(n))}; limitType=${n.limitType})`}function Od(n,e){return e.isFoundDocument()&&function(i,a){const c=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):fe.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(n,e)&&function(i,a){for(const c of fc(i))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(u,f,g){const y=ib(u,f,g);return u.inclusive?y<=0:y<0}(i.startAt,fc(i),a)||i.endAt&&!function(u,f,g){const y=ib(u,f,g);return u.inclusive?y>=0:y>0}(i.endAt,fc(i),a))}(n,e)}function j4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RT(n){return(e,t)=>{let i=!1;for(const a of fc(n)){const c=V4(a,e,t);if(c!==0)return c;i=i||a.field.isKeyField()}return 0}}function V4(n,e,t){const i=n.field.isKeyField()?fe.comparator(e.key,t.key):function(c,u,f){const g=u.data.field(c),y=f.data.field(c);return g!==null&&y!==null?Ao(g,y):ye(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ye(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,c]of i)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(t,i)=>{for(const[a,c]of i)e(a,c)})}isEmpty(){return hT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new ot(fe.comparator);function pi(){return M4}const NT=new ot(fe.comparator);function rc(...n){let e=NT;for(const t of n)e=e.insert(t.key,t);return e}function CT(n){let e=NT;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Wr(){return mc()}function IT(){return mc()}function mc(){return new ha(n=>n.toString(),(n,e)=>n.isEqual(e))}const P4=new ot(fe.comparator),O4=new Dt(fe.comparator);function Ve(...n){let e=O4;for(const t of n)e=e.add(t);return e}const k4=new Dt(je);function L4(){return k4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function DT(n){return{integerValue:""+n}}function U4(n,e){return h4(e)?DT(e):Yg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this._=void 0}}function B4(n,e,t){return n instanceof dd?function(a,c){const u={fields:{[mT]:{stringValue:fT},[gT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Fg(c)&&(c=Vd(c)),c&&(u.fields[pT]=c),{mapValue:u}}(t,e):n instanceof Cc?VT(n,e):n instanceof Ic?MT(n,e):function(a,c){const u=jT(a,c),f=lb(u)+lb(a.Ae);return Up(u)&&Up(a.Ae)?DT(f):Yg(a.serializer,f)}(n,e)}function z4(n,e,t){return n instanceof Cc?VT(n,e):n instanceof Ic?MT(n,e):t}function jT(n,e){return n instanceof fd?function(i){return Up(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class dd extends kd{}class Cc extends kd{constructor(e){super(),this.elements=e}}function VT(n,e){const t=PT(e);for(const i of n.elements)t.some(a=>Ps(a,i))||t.push(i);return{arrayValue:{values:t}}}class Ic extends kd{constructor(e){super(),this.elements=e}}function MT(n,e){let t=PT(e);for(const i of n.elements)t=t.filter(a=>!Ps(a,i));return{arrayValue:{values:t}}}class fd extends kd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function lb(n){return yt(n.integerValue||n.doubleValue)}function PT(n){return Hg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function F4(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Cc&&a instanceof Cc||i instanceof Ic&&a instanceof Ic?So(i.elements,a.elements,Ps):i instanceof fd&&a instanceof fd?Ps(i.Ae,a.Ae):i instanceof dd&&a instanceof dd}(n.transform,e.transform)}class H4{constructor(e,t){this.version=e,this.transformResults=t}}class hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ld{}function OT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new LT(n.key,hi.none()):new Kc(n.key,n.data,hi.none());{const t=n.data,i=Gn.empty();let a=new Dt(Qt.comparator);for(let c of e.fields)if(!a.has(c)){let u=t.field(c);u===null&&c.length>1&&(c=c.popLast(),u=t.field(c)),u===null?i.delete(c):i.set(c,u),a=a.add(c)}return new da(n.key,i,new rs(a.toArray()),hi.none())}}function q4(n,e,t){n instanceof Kc?function(a,c,u){const f=a.value.clone(),g=ub(a.fieldTransforms,c,u.transformResults);f.setAll(g),c.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof da?function(a,c,u){if(!Gh(a.precondition,c))return void c.convertToUnknownDocument(u.version);const f=ub(a.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(kT(a)),g.setAll(f),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):function(a,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function pc(n,e,t,i){return n instanceof Kc?function(c,u,f,g){if(!Gh(c.precondition,u))return f;const y=c.value.clone(),x=hb(c.fieldTransforms,g,u);return y.setAll(x),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof da?function(c,u,f,g){if(!Gh(c.precondition,u))return f;const y=hb(c.fieldTransforms,g,u),x=u.data;return x.setAll(kT(c)),x.setAll(y),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(c,u,f){return Gh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function G4(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),c=jT(i.transform,a||null);c!=null&&(t===null&&(t=Gn.empty()),t.set(i.field,c))}return t||null}function cb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&So(i,a,(c,u)=>F4(c,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Kc extends Ld{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class da extends Ld{constructor(e,t,i,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function kT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function ub(n,e,t){const i=new Map;Fe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const c=n[a],u=c.transform,f=e.data.field(c.field);i.set(c.field,z4(u,f,t[a]))}return i}function hb(n,e,t){const i=new Map;for(const a of n){const c=a.transform,u=t.data.field(a.field);i.set(a.field,B4(c,u,e))}return i}class LT extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K4 extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&q4(c,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=pc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=pc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=IT();return this.mutations.forEach(a=>{const c=e.get(a.key),u=c.overlayedDocument;let f=this.applyToLocalView(u,c.mutatedFields);f=t.has(a.key)?null:f;const g=OT(u,f);g!==null&&i.set(a.key,g),u.isValidDocument()||u.convertToNoDocument(we.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(t,i)=>cb(t,i))&&So(this.baseMutations,e.baseMutations,(t,i)=>cb(t,i))}}class Xg{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Fe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=function(){return P4}();const c=e.mutations;for(let u=0;u<c.length;u++)a=a.insert(c[u].key,i[u].version);return new Xg(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,ke;function $4(n){switch(n){case ne.OK:return ye(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ye(15467,{code:n})}}function UT(n){if(n===void 0)return mi("GRPC error has no .code"),ne.UNKNOWN;switch(n){case wt.OK:return ne.OK;case wt.CANCELLED:return ne.CANCELLED;case wt.UNKNOWN:return ne.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ne.INTERNAL;case wt.UNAVAILABLE:return ne.UNAVAILABLE;case wt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case wt.NOT_FOUND:return ne.NOT_FOUND;case wt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case wt.ABORTED:return ne.ABORTED;case wt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case wt.DATA_LOSS:return ne.DATA_LOSS;default:return ye(39323,{code:n})}}(ke=wt||(wt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new nr([4294967295,4294967295],0);function db(n){const e=W4().encode(n),t=new tT;return t.update(e),new Uint8Array(t.digest())}function fb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new nr([t,i],0),new nr([a,c],0)]}class Qg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ac(`Invalid padding: ${t}`);if(i<0)throw new ac(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ac(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=nr.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(nr.fromNumber(i)));return a.compare(Z4)===1&&(a=new nr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=db(e),[i,a]=fb(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,a,c);if(!this.we(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Qg(c,a,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.ge===0)return;const t=db(e),[i,a]=fb(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(i,a,c);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t,i,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ud(we.min(),a,new ot(je),pi(),Ve())}}class Yc{constructor(e,t,i,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Yc(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class BT{constructor(e,t){this.targetId=e,this.Ce=t}}class zT{constructor(e,t,i=$t.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class mb{constructor(){this.ve=0,this.Fe=pb(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),i=Ve();return this.Fe.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:ye(38017,{changeType:c})}}),new Yc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=pb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J4{constructor(e){this.Ge=e,this.ze=new Map,this.je=pi(),this.Je=Ih(),this.He=Ih(),this.Ye=new ot(je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,a)=>{this.rt(a)&&t(a)})}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const c=a.target;if(zp(c))if(i===0){const u=new fe(c.path);this.et(t,u,rn.newNoDocument(u,we.min()))}else Fe(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const f=this.ut(e),g=f?this.ct(f,e,u):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:c=0}=t;let u,f;try{u=ar(i).toUint8Array()}catch(g){if(g instanceof dT)return Eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Qg(u,a,c)}catch(g){return Eo(g instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach(c=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.et(t,c,null),a++)}),a}Tt(e){const t=new Map;this.ze.forEach((c,u)=>{const f=this.ot(u);if(f){if(c.current&&zp(f.target)){const g=new fe(f.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,rn.newNoDocument(g,e))}c.Be&&(t.set(u,c.ke()),c.qe())}});let i=Ve();this.He.forEach((c,u)=>{let f=!0;u.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(c))}),this.je.forEach((c,u)=>u.setReadTime(e));const a=new Ud(e,t,this.Ye,this.je,i);return this.je=pi(),this.Je=Ih(),this.He=Ih(),this.Ye=new ot(je),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new mb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Dt(je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Dt(je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ih(){return new ot(fe.comparator)}function pb(){return new ot(fe.comparator)}const eI={asc:"ASCENDING",desc:"DESCENDING"},tI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nI={and:"AND",or:"OR"};class sI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hp(n,e){return n.useProto3Json||jd(e)?e:{value:e}}function md(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function iI(n,e){return md(n,e.toTimestamp())}function Ns(n){return Fe(!!n,49232),we.fromTimestamp(function(t){const i=rr(t);return new Je(i.seconds,i.nanos)}(n))}function $g(n,e){return qp(n,e).canonicalString()}function qp(n,e){const t=function(a){return new rt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function HT(n){const e=rt.fromString(n);return Fe(XT(e),10190,{key:e.toString()}),e}function Gp(n,e){return $g(n.databaseId,e.path)}function lp(n,e){const t=HT(e);if(t.get(1)!==n.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(GT(t))}function qT(n,e){return $g(n.databaseId,e)}function rI(n){const e=HT(n);return e.length===4?rt.emptyPath():GT(e)}function Kp(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GT(n){return Fe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gb(n,e,t){return{name:Gp(n,e),fields:t.value.mapValue.fields}}function aI(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(y,x){return y.useProto3Json?(Fe(x===void 0||typeof x=="string",58123),$t.fromBase64String(x||"")):(Fe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),$t.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(y){const x=y.code===void 0?ne.UNKNOWN:UT(y.code);return new he(x,y.message||"")}(u);t=new zT(i,a,c,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=lp(n,i.document.name),c=Ns(i.document.updateTime),u=i.document.createTime?Ns(i.document.createTime):we.min(),f=new Gn({mapValue:{fields:i.document.fields}}),g=rn.newFoundDocument(a,c,u,f),y=i.targetIds||[],x=i.removedTargetIds||[];t=new Kh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=lp(n,i.document),c=i.readTime?Ns(i.readTime):we.min(),u=rn.newNoDocument(a,c),f=i.removedTargetIds||[];t=new Kh([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=lp(n,i.document),c=i.removedTargetIds||[];t=new Kh([],c,a,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:c}=i,u=new Q4(a,c),f=i.targetId;t=new BT(f,u)}}return t}function oI(n,e){let t;if(e instanceof Kc)t={update:gb(n,e.key,e.value)};else if(e instanceof LT)t={delete:Gp(n,e.key)};else if(e instanceof da)t={update:gb(n,e.key,e.data),updateMask:gI(e.fieldMask)};else{if(!(e instanceof K4))return ye(16599,{Vt:e.type});t={verify:Gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,u){const f=u.transform;if(f instanceof dd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Cc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ic)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof fd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw ye(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:iI(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)}(n,e.precondition)),t}function lI(n,e){return n&&n.length>0?(Fe(e!==void 0,14353),n.map(t=>function(a,c){let u=a.updateTime?Ns(a.updateTime):Ns(c);return u.isEqual(we.min())&&(u=Ns(c)),new H4(u,a.transformResults||[])}(t,e))):[]}function cI(n,e){return{documents:[qT(n,e.path)]}}function uI(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=qT(n,a);const c=function(y){if(y.length!==0)return YT(Os.create(y,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const u=function(y){if(y.length!==0)return y.map(x=>function(T){return{field:co(T.field),direction:fI(T.dir)}}(x))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Hp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:t,parent:a}}function hI(n){let e=rI(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Fe(i===1,65062);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=function(_){const T=KT(_);return T instanceof Os&&wT(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(T=>function(V){return new hd(uo(V.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(_){let T;return T=typeof _=="object"?_.value:_,jd(T)?null:T}(t.limit));let g=null;t.startAt&&(g=function(_){const T=!!_.before,C=_.values||[];return new ud(C,T)}(t.startAt));let y=null;return t.endAt&&(y=function(_){const T=!_.before,C=_.values||[];return new ud(C,T)}(t.endAt)),C4(e,a,u,c,f,"F",g,y)}function dI(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=uo(t.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=uo(t.unaryFilter.field);return It.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=uo(t.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=uo(t.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(n):n.fieldFilter!==void 0?function(t){return It.create(uo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Os.create(t.compositeFilter.filters.map(i=>KT(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(t.compositeFilter.op))}(n):ye(30097,{filter:n})}function fI(n){return eI[n]}function mI(n){return tI[n]}function pI(n){return nI[n]}function co(n){return{fieldPath:n.canonicalString()}}function uo(n){return Qt.fromServerFormat(n.fieldPath)}function YT(n){return n instanceof It?function(t){if(t.op==="=="){if(sb(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NAN"}};if(nb(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sb(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NOT_NAN"}};if(nb(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(t.field),op:mI(t.op),value:t.value}}}(n):n instanceof Os?function(t){const i=t.getFilters().map(a=>YT(a));return i.length===1?i[0]:{compositeFilter:{op:pI(t.op),filters:i}}}(n):ye(54877,{filter:n})}function gI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function XT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t,i,a,c=we.min(),u=we.min(),f=$t.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.yt=e}}function vI(n){const e=hI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.Cn=new bI}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(ir.min())}updateCollectionGroup(e,t,i){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class bI{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Dt(rt.comparator),c=!a.has(i);return this.index[t]=a.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Dt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(QT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new No(0)}static cr(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="LruGarbageCollector",_I=1048576;function xb([n,e],[t,i]){const a=je(n,t);return a===0?je(e,i):a}class wI{constructor(e){this.Ir=e,this.buffer=new Dt(xb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();xb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TI{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(vb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?le(vb,"Ignoring IndexedDB error during garbage collection: ",t):await Uo(t)}await this.Vr(3e5)})}}class EI{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Dd.ce);const i=new wI(t);return this.mr.forEachTarget(e,a=>i.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>i.Ar(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(yb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yb):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,c,u,f,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,f=Date.now(),this.removeTargets(e,i,t))).next(_=>(c=_,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(y=Date.now(),oo()<=De.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${c} targets in `+(g-f)+`ms
	Removed ${_} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:_})))}}function SI(n,e){return new EI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&pc(i.mutation,a,rs.empty(),Je.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ve()){const a=Wr();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(c=>{let u=rc();return c.forEach((f,g)=>{u=u.insert(f,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Wr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ve()))}populateOverlays(e,t,i){const a=[];return i.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,a){let c=pi();const u=mc(),f=function(){return mc()}();return t.forEach((g,y)=>{const x=i.get(y.key);a.has(y.key)&&(x===void 0||x.mutation instanceof da)?c=c.insert(y.key,y):x!==void 0?(u.set(y.key,x.mutation.getFieldMask()),pc(x.mutation,y,x.mutation.getFieldMask(),Je.now())):u.set(y.key,rs.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,x)=>u.set(y,x)),t.forEach((y,x)=>f.set(y,new RI(x,u.get(y)??null))),f))}recalculateAndSaveOverlays(e,t){const i=mc();let a=new ot((u,f)=>u-f),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let x=i.get(g)||rs.empty();x=f.applyToLocalView(y,x),i.set(g,x);const _=(a.get(f.batchId)||Ve()).add(g);a=a.insert(f.batchId,_)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,x=g.value,_=IT();x.forEach(T=>{if(!c.has(T)){const C=OT(t.get(T),i.get(T));C!==null&&_.set(T,C),c=c.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,_))}return te.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(u){return fe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):I4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(c=>{const u=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-c.size):te.resolve(Wr());let f=Sc,g=c;return u.next(y=>te.forEach(y,(x,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),c.get(x)?te.resolve():this.remoteDocumentCache.getEntry(e,x).next(T=>{g=g.insert(x,T)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,Ve())).next(x=>({batchId:f,changes:CT(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next(i=>{let a=rc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const c=t.collectionGroup;let u=rc();return this.indexManager.getCollectionParents(e,c).next(f=>te.forEach(f,g=>{const y=function(_,T){return new Md(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,a).next(x=>{x.forEach((_,T)=>{u=u.insert(_,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,a))).next(u=>{c.forEach((g,y)=>{const x=y.getKey();u.get(x)===null&&(u=u.insert(x,rn.newInvalidDocument(x)))});let f=rc();return u.forEach((g,y)=>{const x=c.get(g);x!==void 0&&pc(x.mutation,y,rs.empty(),Je.now()),Od(t,y)&&(f=f.insert(g,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ns(a.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(a){return{name:a.name,query:vI(a.bundledQuery),readTime:Ns(a.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.overlays=new ot(fe.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Wr();return te.forEach(t,a=>this.getOverlay(e,a).next(c=>{c!==null&&i.set(a,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,c)=>{this.St(e,t,c)}),te.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(i)),te.resolve()}getOverlaysForCollection(e,t,i){const a=Wr(),c=t.length+1,u=new fe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&a.set(g.getKey(),g)}return te.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let c=new ot((y,x)=>y-x);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let x=c.get(y.largestBatchId);x===null&&(x=Wr(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const f=Wr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,x)=>f.set(y,x)),!(f.size()>=a)););return te.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new X4(t,i));let c=this.qr.get(t);c===void 0&&(c=Ve(),this.qr.set(t,c)),this.qr.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this.Qr=new Dt(Ut.$r),this.Ur=new Dt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Ut(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new Ut(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new fe(new rt([])),i=new Ut(t,e),a=new Ut(t,e+1),c=[];return this.Ur.forEachInRange([i,a],u=>{this.Gr(u),c.push(u.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new fe(new rt([])),i=new Ut(t,e),a=new Ut(t,e+1);let c=Ve();return this.Ur.forEachInRange([i,a],u=>{c=c.add(u.key)}),c}containsKey(e){const t=new Ut(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ut{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return fe.comparator(e.key,t.key)||je(e.Yr,t.Yr)}static Kr(e,t){return je(e.Yr,t.Yr)||fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Ut.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Y4(c,t,i,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new Ut(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),c=a<0?0:a;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?zg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ut(t,0),a=new Ut(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,a],u=>{const f=this.Xr(u.Yr);c.push(f)}),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dt(je);return t.forEach(a=>{const c=new Ut(a,0),u=new Ut(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],f=>{i=i.add(f.Yr)})}),te.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let c=i;fe.isDocumentKey(c)||(c=c.child(""));const u=new Ut(new fe(c),0);let f=new Dt(je);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===a&&(f=f.add(g.Yr)),!0)},u),te.resolve(this.ti(f))}ti(e){const t=[];return e.forEach(i=>{const a=this.Xr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Fe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return te.forEach(t.mutations,a=>{const c=new Ut(a.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new Ut(t,0),a=this.Zr.firstAfterOrEqual(i);return te.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.ri=e,this.docs=function(){return new ot(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),c=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return te.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let i=pi();return t.forEach(a=>{const c=this.docs.get(a);i=i.insert(a,c?c.document.mutableCopy():rn.newInvalidDocument(a))}),te.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let c=pi();const u=t.path,f=new fe(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||o4(a4(x),i)<=0||(a.has(x.key)||Od(t,x))&&(c=c.insert(x.key,x.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,t,i,a){ye(9500)}ii(e,t){return te.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new MI(this)}getSize(e){return te.resolve(this.size)}}class MI extends AI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)}),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.persistence=e,this.si=new ha(t=>qg(t),Gg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Wg,this.targetCount=0,this.ai=No.ur()}forEachTarget(e,t){return this.si.forEach((i,a)=>t(a)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new No(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,i){let a=0;const c=[];return this.si.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),te.waitFor(c).next(()=>a)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return te.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),te.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(u=>{c.push(a.markPotentiallyOrphaned(e,u))}),te.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return te.resolve(i)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t){this.ui={},this.overlays={},this.ci=new Dd(0),this.li=!1,this.li=!0,this.hi=new DI,this.referenceDelegate=e(this),this.Pi=new PI(this),this.indexManager=new xI,this.remoteDocumentCache=function(a){return new VI(a)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new yI(t),this.Ii=new CI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new II,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new jI(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const a=new OI(this.ci.next());return this.referenceDelegate.Ei(),i(a).next(c=>this.referenceDelegate.di(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ai(e,t){return te.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class OI extends c4{constructor(e){super(),this.currentSequenceNumber=e}}class Zg{constructor(e){this.persistence=e,this.Ri=new Wg,this.Vi=null}static mi(e){return new Zg(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),te.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(a=>this.fi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.fi.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,i=>{const a=fe.fromPath(i);return this.gi(e,a).next(c=>{c||t.removeEntry(a,we.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class pd{constructor(e,t){this.persistence=e,this.pi=new ha(i=>d4(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=SI(this,t)}static mi(e,t){return new pd(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return te.forEach(this.pi,(i,a)=>this.br(e,i,a).next(c=>c?te.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,u=>this.br(e,u,t).next(f=>{f||(i++,c.removeEntry(u,we.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hh(e.data.value)),t}br(e,t,i){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return te.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Ve(),a=Ve();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Jg(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _R()?8:u4(on())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const c={result:null};return this.ys(e,t).next(u=>{c.result=u}).next(()=>{if(!c.result)return this.ws(e,t,a,i).next(u=>{c.result=u})}).next(()=>{if(c.result)return;const u=new kI;return this.Ss(e,t,u).next(f=>{if(c.result=f,this.Vs)return this.bs(e,t,u,f.size)})}).next(()=>c.result)}bs(e,t,i,a){return i.documentReadCount<this.fs?(oo()<=De.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(oo()<=De.DEBUG&&le("QueryEngine","Query:",lo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(oo()<=De.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rs(t))):te.resolve())}ys(e,t){if(ob(t))return te.resolve(null);let i=Rs(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Fp(t,null,"F"),i=Rs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const u=Ve(...c);return this.ps.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(g=>{const y=this.Ds(t,f);return this.Cs(t,y,u,g.readTime)?this.ys(e,Fp(t,null,"F")):this.vs(e,y,t,g)}))})))}ws(e,t,i,a){return ob(t)||a.isEqual(we.min())?te.resolve(null):this.ps.getDocuments(e,i).next(c=>{const u=this.Ds(t,c);return this.Cs(t,u,i,a)?te.resolve(null):(oo()<=De.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),lo(t)),this.vs(e,u,t,r4(a,Sc)).next(f=>f))})}Ds(e,t){let i=new Dt(RT(e));return t.forEach((a,c)=>{Od(e,c)&&(i=i.add(c))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,t,i){return oo()<=De.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",lo(t)),this.ps.getDocumentsMatchingQuery(e,t,ir.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next(c=>(t.forEach(u=>{c=c.insert(u.key,u)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="LocalStore",UI=3e8;class BI{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new ot(je),this.xs=new ha(c=>qg(c),Gg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function zI(n,e,t,i){return new BI(n,e,t,i)}async function WT(n,e){const t=Te(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(c=>(a=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const u=[],f=[];let g=Ve();for(const y of a){u.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){f.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return t.localDocuments.getDocuments(i,g).next(y=>({Ls:y,removedBatchIds:u,addedBatchIds:f}))})})}function FI(n,e){const t=Te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return function(f,g,y,x){const _=y.batch,T=_.keys();let C=te.resolve();return T.forEach(V=>{C=C.next(()=>x.getEntry(g,V)).next(U=>{const B=y.docVersions.get(V);Fe(B!==null,48541),U.version.compareTo(B)<0&&(_.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),x.addEntry(U)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(g,_))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let g=Ve();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(g=g.add(f.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function ZT(n){const e=Te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function HI(n,e){const t=Te(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach((x,_)=>{const T=a.get(_);if(!T)return;f.push(t.Pi.removeMatchingKeys(c,x.removedDocuments,_).next(()=>t.Pi.addMatchingKeys(c,x.addedDocuments,_)));let C=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken($t.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):x.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(x.resumeToken,i)),a=a.insert(_,C),function(U,B,K){return U.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=UI?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(T,C,x)&&f.push(t.Pi.updateTargetData(c,C))});let g=pi(),y=Ve();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(c,x))}),f.push(qI(c,u,e.documentUpdates).next(x=>{g=x.ks,y=x.qs})),!i.isEqual(we.min())){const x=t.Pi.getLastRemoteSnapshotVersion(c).next(_=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i));f.push(x)}return te.waitFor(f).next(()=>u.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(t.Ms=a,c))}function qI(n,e,t){let i=Ve(),a=Ve();return t.forEach(c=>i=i.add(c)),e.getEntries(n,i).next(c=>{let u=pi();return t.forEach((f,g)=>{const y=c.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(f)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(f,g.readTime),u=u.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(f,g)):le(e0,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)}),{ks:u,qs:a}})}function GI(n,e){const t=Te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=zg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function KI(n,e){const t=Te(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Pi.getTargetData(i,e).next(c=>c?(a=c,te.resolve(a)):t.Pi.allocateTargetId(i).next(u=>(a=new Zi(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function Yp(n,e,t){const i=Te(n),a=i.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Bo(u))throw u;le(e0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function bb(n,e,t){const i=Te(n);let a=we.min(),c=Ve();return i.persistence.runTransaction("Execute query","readwrite",u=>function(g,y,x){const _=Te(g),T=_.xs.get(x);return T!==void 0?te.resolve(_.Ms.get(T)):_.Pi.getTargetData(y,x)}(i,u,Rs(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next(g=>{c=g})}).next(()=>i.Fs.getDocumentsMatchingQuery(u,e,t?a:we.min(),t?c:Ve())).next(f=>(YI(i,j4(e),f),{documents:f,Qs:c})))}function YI(n,e,t){let i=n.Os.get(e)||we.min();t.forEach((a,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.Os.set(e,i)}class _b{constructor(){this.activeTargetIds=L4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XI{constructor(){this.Mo=new _b,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _b,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="ConnectivityMonitor";class Tb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(wb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(wb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function Xp(){return Dh===null?Dh=function(){return 268435456+Math.round(2147483648*Math.random())}():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="RestConnection",$I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===ld?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,c){const u=Xp(),f=this.zo(e,t.toUriEncodedString());le(cp,`Sending RPC '${e}' ${u}:`,f,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,c);const{host:y}=new URL(f),x=Po(y);return this.Jo(e,f,g,i,x).then(_=>(le(cp,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Eo(cp,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",i),_})}Ho(e,t,i,a,c,u){return this.Go(e,t,i,a,c)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),i&&i.headers.forEach((a,c)=>e[c]=a)}zo(e,t){const i=$I[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class JI extends WI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,c){const u=Xp();return new Promise((f,g)=>{const y=new nT;y.setWithCredentials(!0),y.listenOnce(sT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Fh.NO_ERROR:const _=y.getResponseJson();le(nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case Fh.TIMEOUT:le(nn,`RPC '${e}' ${u} timed out`),g(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const T=y.getStatus();if(le(nn,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C?.error;if(V&&V.status&&V.message){const U=function(K){const $=K.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf($)>=0?$:ne.UNKNOWN}(V.status);g(new he(U,V.message))}else g(new he(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(ne.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(nn,`RPC '${e}' ${u} completed.`)}});const x=JSON.stringify(a);le(nn,`RPC '${e}' ${u} sending request:`,a),y.send(t,"POST",x,i,15)})}T_(e,t,i){const a=Xp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=aT(),f=rT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const x=c.join("");le(nn,`Creating RPC '${e}' stream ${a}: ${x}`,g);const _=u.createWebChannel(x,g);this.I_(_);let T=!1,C=!1;const V=new ZI({Yo:B=>{C?le(nn,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(T||(le(nn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),le(nn,`RPC '${e}' stream ${a} sending:`,B),_.send(B))},Zo:()=>_.close()}),U=(B,K,$)=>{B.listen(K,Q=>{try{$(Q)}catch(ae){setTimeout(()=>{throw ae},0)}})};return U(_,ic.EventType.OPEN,()=>{C||(le(nn,`RPC '${e}' stream ${a} transport opened.`),V.o_())}),U(_,ic.EventType.CLOSE,()=>{C||(C=!0,le(nn,`RPC '${e}' stream ${a} transport closed`),V.a_(),this.E_(_))}),U(_,ic.EventType.ERROR,B=>{C||(C=!0,Eo(nn,`RPC '${e}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),V.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))}),U(_,ic.EventType.MESSAGE,B=>{if(!C){const K=B.data[0];Fe(!!K,16349);const $=K,Q=$?.error||$[0]?.error;if(Q){le(nn,`RPC '${e}' stream ${a} received error:`,Q);const ae=Q.status;let re=function(E){const A=wt[E];if(A!==void 0)return UT(A)}(ae),oe=Q.message;re===void 0&&(re=ne.INTERNAL,oe="Unknown error status: "+ae+" with message "+Q.message),C=!0,V.a_(new he(re,oe)),_.close()}else le(nn,`RPC '${e}' stream ${a} received:`,K),V.u_(K)}}),U(f,iT.STAT_EVENT,B=>{B.stat===Op.PROXY?le(nn,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===Op.NOPROXY&&le(nn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{V.__()},0),V}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(n){return new sI(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t,i=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="PersistentStream";class e2{constructor(e,t,i,a,c,u,f,g){this.Mi=e,this.S_=i,this.b_=a,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.D_===t&&this.G_(i,a)},i=>{e(()=>{const a=new he(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{i(()=>this.z_(a))}),this.stream.onMessage(a=>{i(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return le(Eb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(le(Eb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e3 extends e2{constructor(e,t,i,a,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=aI(this.serializer,e),i=function(c){if(!("targetChange"in c))return we.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?we.min():u.readTime?Ns(u.readTime):we.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Kp(this.serializer),t.addTarget=function(c,u){let f;const g=u.target;if(f=zp(g)?{documents:cI(c,g)}:{query:uI(c,g).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=FT(c,u.resumeToken);const y=Hp(c,u.expectedCount);y!==null&&(f.expectedCount=y)}else if(u.snapshotVersion.compareTo(we.min())>0){f.readTime=md(c,u.snapshotVersion.toTimestamp());const y=Hp(c,u.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=dI(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Kp(this.serializer),t.removeTarget=e,this.q_(t)}}class t3 extends e2{constructor(e,t,i,a,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=lI(e.writeResults,e.commitTime),i=Ns(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Kp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>oI(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{}class s3 extends n3{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Go(e,qp(t,i),a,c,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ne.UNKNOWN,c.toString())})}Ho(e,t,i,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Ho(e,qp(t,i),a,u,f,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class i3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class r3{constructor(e,t,i,a,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(u=>{i.enqueueAndForget(async()=>{fa(this)&&(le(ca,"Restarting streams for network reachability change."),await async function(g){const y=Te(g);y.Ea.add(4),await Xc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await zd(y)}(this))})}),this.Ra=new i3(i,a)}}async function zd(n){if(fa(n))for(const e of n.da)await e(!0)}async function Xc(n){for(const e of n.da)await e(!1)}function t2(n,e){const t=Te(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),i0(t)?s0(t):zo(t).O_()&&n0(t,e))}function t0(n,e){const t=Te(n),i=zo(t);t.Ia.delete(e),i.O_()&&n2(t,e),t.Ia.size===0&&(i.O_()?i.L_():fa(t)&&t.Ra.set("Unknown"))}function n0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zo(n).Y_(e)}function n2(n,e){n.Va.Ue(e),zo(n).Z_(e)}function s0(n){n.Va=new J4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),zo(n).start(),n.Ra.ua()}function i0(n){return fa(n)&&!zo(n).x_()&&n.Ia.size>0}function fa(n){return Te(n).Ea.size===0}function s2(n){n.Va=void 0}async function a3(n){n.Ra.set("Online")}async function o3(n){n.Ia.forEach((e,t)=>{n0(n,e)})}async function l3(n,e){s2(n),i0(n)?(n.Ra.ha(e),s0(n)):n.Ra.set("Unknown")}async function c3(n,e,t){if(n.Ra.set("Online"),e instanceof zT&&e.state===2&&e.cause)try{await async function(a,c){const u=c.cause;for(const f of c.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))}(n,e)}catch(i){le(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await gd(n,i)}else if(e instanceof Kh?n.Va.Ze(e):e instanceof BT?n.Va.st(e):n.Va.tt(e),!t.isEqual(we.min()))try{const i=await ZT(n.localStore);t.compareTo(i)>=0&&await function(c,u){const f=c.Va.Tt(u);return f.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,u))}}),f.targetMismatches.forEach((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken($t.EMPTY_BYTE_STRING,x.snapshotVersion)),n2(c,g);const _=new Zi(x.target,g,y,x.sequenceNumber);n0(c,_)}),c.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){le(ca,"Failed to raise snapshot:",i),await gd(n,i)}}async function gd(n,e,t){if(!Bo(e))throw e;n.Ea.add(1),await Xc(n),n.Ra.set("Offline"),t||(t=()=>ZT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(ca,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await zd(n)})}function i2(n,e){return e().catch(t=>gd(n,t,e))}async function Fd(n){const e=Te(n),t=lr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zg;for(;u3(e);)try{const a=await GI(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,h3(e,a)}catch(a){await gd(e,a)}r2(e)&&a2(e)}function u3(n){return fa(n)&&n.Ta.length<10}function h3(n,e){n.Ta.push(e);const t=lr(n);t.O_()&&t.X_&&t.ea(e.mutations)}function r2(n){return fa(n)&&!lr(n).x_()&&n.Ta.length>0}function a2(n){lr(n).start()}async function d3(n){lr(n).ra()}async function f3(n){const e=lr(n);for(const t of n.Ta)e.ea(t.mutations)}async function m3(n,e,t){const i=n.Ta.shift(),a=Xg.from(i,e,t);await i2(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Fd(n)}async function p3(n,e){e&&lr(n).X_&&await async function(i,a){if(function(u){return $4(u)&&u!==ne.ABORTED}(a.code)){const c=i.Ta.shift();lr(i).B_(),await i2(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,a)),await Fd(i)}}(n,e),r2(n)&&a2(n)}async function Sb(n,e){const t=Te(n);t.asyncQueue.verifyOperationInProgress(),le(ca,"RemoteStore received new credentials");const i=fa(t);t.Ea.add(3),await Xc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await zd(t)}async function g3(n,e){const t=Te(n);e?(t.Ea.delete(2),await zd(t)):e||(t.Ea.add(2),await Xc(t),t.Ra.set("Unknown"))}function zo(n){return n.ma||(n.ma=function(t,i,a){const c=Te(t);return c.sa(),new e3(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(n.datastore,n.asyncQueue,{Xo:a3.bind(null,n),t_:o3.bind(null,n),r_:l3.bind(null,n),H_:c3.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),i0(n)?s0(n):n.Ra.set("Unknown")):(await n.ma.stop(),s2(n))})),n.ma}function lr(n){return n.fa||(n.fa=function(t,i,a){const c=Te(t);return c.sa(),new t3(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:d3.bind(null,n),r_:p3.bind(null,n),ta:f3.bind(null,n),na:m3.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Fd(n)):(await n.fa.stop(),n.Ta.length>0&&(le(ca,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t,i,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,c){const u=Date.now()+i,f=new r0(e,t,u,a,c);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a0(n,e){if(mi("AsyncQueue",`${e}: ${n}`),Bo(n))return new he(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||fe.comparator(t.key,i.key):(t,i)=>fe.comparator(t.key,i.key),this.keyedMap=rc(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=i.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.ga=new ot(fe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class Co{constructor(e,t,i,a,c,u,f,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,a,c){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Co(e,t,bo.emptySet(t),u,i,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class v3{constructor(){this.queries=Rb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Te(t),c=a.queries;a.queries=Rb(),c.forEach((u,f)=>{for(const g of f.Sa)g.onError(i)})})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function Rb(){return new ha(n=>AT(n),Pd)}async function x3(n,e){const t=Te(n);let i=3;const a=e.query;let c=t.queries.get(a);c?!c.ba()&&e.Da()&&(i=2):(c=new y3,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await t.onListen(a,!0);break;case 1:c.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=a0(u,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&o0(t)}async function b3(n,e){const t=Te(n),i=e.query;let a=3;const c=t.queries.get(i);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function _3(n,e){const t=Te(n);let i=!1;for(const a of e){const c=a.query,u=t.queries.get(c);if(u){for(const f of u.Sa)f.Fa(a)&&(i=!0);u.wa=a}}i&&o0(t)}function w3(n,e,t){const i=Te(n),a=i.queries.get(e);if(a)for(const c of a.Sa)c.onError(t);i.queries.delete(e)}function o0(n){n.Ca.forEach(e=>{e.next()})}var Qp,Nb;(Nb=Qp||(Qp={})).Ma="default",Nb.Cache="cache";class T3{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Co(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.key=e}}class l2{constructor(e){this.key=e}}class E3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=RT(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Ab,a=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,_)=>{const T=a.get(x),C=Od(this.query,_)?_:null,V=!!T&&this.mutatedKeys.has(T.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let B=!1;T&&C?T.data.isEqual(C.data)?V!==U&&(i.track({type:3,doc:C}),B=!0):this.su(T,C)||(i.track({type:2,doc:C}),B=!0,(g&&this.eu(C,g)>0||y&&this.eu(C,y)<0)&&(f=!0)):!T&&C?(i.track({type:0,doc:C}),B=!0):T&&!C&&(i.track({type:1,doc:T}),B=!0,(g||y)&&(f=!0)),B&&(C?(u=u.add(C),c=U?c.add(x):c.delete(x)):(u=u.delete(x),c=c.delete(x)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{tu:u,iu:i,Cs:f,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((x,_)=>function(C,V){const U=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:B})}};return U(C)-U(V)}(x.type,_.type)||this.eu(x.doc,_.doc)),this.ou(i),a=a??!1;const f=t&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,y=g!==this.Za;return this.Za=g,u.length!==0||y?{snapshot:new Co(this.query,e.tu,c,u,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ab,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new l2(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new o2(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const l0="SyncEngine";class S3{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class A3{constructor(e){this.key=e,this.hu=!1}}class R3{constructor(e,t,i,a,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ha(f=>AT(f),Pd),this.Iu=new Map,this.Eu=new Set,this.du=new ot(fe.comparator),this.Au=new Map,this.Ru=new Wg,this.Vu={},this.mu=new Map,this.fu=No.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N3(n,e,t=!0){const i=m2(n);let a;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await c2(i,e,t,!0),a}async function C3(n,e){const t=m2(n);await c2(t,e,!0,!1)}async function c2(n,e,t,i){const a=await KI(n.localStore,Rs(e)),c=a.targetId,u=n.sharedClientState.addLocalQueryTarget(c,t);let f;return i&&(f=await I3(n,e,c,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&t2(n.remoteStore,a),f}async function I3(n,e,t,i,a){n.pu=(_,T,C)=>async function(U,B,K,$){let Q=B.view.ru(K);Q.Cs&&(Q=await bb(U.localStore,B.query,!1).then(({documents:P})=>B.view.ru(P,Q)));const ae=$&&$.targetChanges.get(B.targetId),re=$&&$.targetMismatches.get(B.targetId)!=null,oe=B.view.applyChanges(Q,U.isPrimaryClient,ae,re);return Ib(U,B.targetId,oe.au),oe.snapshot}(n,_,T,C);const c=await bb(n.localStore,e,!0),u=new E3(e,c.Qs),f=u.ru(c.documents),g=Yc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),y=u.applyChanges(f,n.isPrimaryClient,g);Ib(n,t,y.au);const x=new S3(e,t,u);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function D3(n,e,t){const i=Te(n),a=i.Tu.get(e),c=i.Iu.get(a.targetId);if(c.length>1)return i.Iu.set(a.targetId,c.filter(u=>!Pd(u,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Yp(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&t0(i.remoteStore,a.targetId),$p(i,a.targetId)}).catch(Uo)):($p(i,a.targetId),await Yp(i.localStore,a.targetId,!0))}async function j3(n,e){const t=Te(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),t0(t.remoteStore,i.targetId))}async function V3(n,e,t){const i=B3(n);try{const a=await function(u,f){const g=Te(u),y=Je.now(),x=f.reduce((C,V)=>C.add(V.key),Ve());let _,T;return g.persistence.runTransaction("Locally write mutations","readwrite",C=>{let V=pi(),U=Ve();return g.Ns.getEntries(C,x).next(B=>{V=B,V.forEach((K,$)=>{$.isValidDocument()||(U=U.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(C,V)).next(B=>{_=B;const K=[];for(const $ of f){const Q=G4($,_.get($.key).overlayedDocument);Q!=null&&K.push(new da($.key,Q,xT(Q.value.mapValue),hi.exists(!0)))}return g.mutationQueue.addMutationBatch(C,y,K,f)}).next(B=>{T=B;const K=B.applyToLocalDocumentSet(_,U);return g.documentOverlayCache.saveOverlays(C,B.batchId,K)})}).then(()=>({batchId:T.batchId,changes:CT(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,f,g){let y=u.Vu[u.currentUser.toKey()];y||(y=new ot(je)),y=y.insert(f,g),u.Vu[u.currentUser.toKey()]=y}(i,a.batchId,t),await Qc(i,a.changes),await Fd(i.remoteStore)}catch(a){const c=a0(a,"Failed to persist write");t.reject(c)}}async function u2(n,e){const t=Te(n);try{const i=await HI(t.localStore,e);e.targetChanges.forEach((a,c)=>{const u=t.Au.get(c);u&&(Fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Fe(u.hu,14607):a.removedDocuments.size>0&&(Fe(u.hu,42227),u.hu=!1))}),await Qc(t,i,e)}catch(i){await Uo(i)}}function Cb(n,e,t){const i=Te(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach((c,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const g=Te(u);g.onlineState=f;let y=!1;g.queries.forEach((x,_)=>{for(const T of _.Sa)T.va(f)&&(y=!0)}),y&&o0(g)}(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function M3(n,e,t){const i=Te(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),c=a&&a.key;if(c){let u=new ot(fe.comparator);u=u.insert(c,rn.newNoDocument(c,we.min()));const f=Ve().add(c),g=new Ud(we.min(),new Map,new ot(je),u,f);await u2(i,g),i.du=i.du.remove(c),i.Au.delete(e),c0(i)}else await Yp(i.localStore,e,!1).then(()=>$p(i,e,t)).catch(Uo)}async function P3(n,e){const t=Te(n),i=e.batch.batchId;try{const a=await FI(t.localStore,e);d2(t,i,null),h2(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Qc(t,a)}catch(a){await Uo(a)}}async function O3(n,e,t){const i=Te(n);try{const a=await function(u,f){const g=Te(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let x;return g.mutationQueue.lookupMutationBatch(y,f).next(_=>(Fe(_!==null,37113),x=_.keys(),g.mutationQueue.removeMutationBatch(y,_))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x)).next(()=>g.localDocuments.getDocuments(y,x))})}(i.localStore,e);d2(i,e,t),h2(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Qc(i,a)}catch(a){await Uo(a)}}function h2(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function d2(n,e,t){const i=Te(n);let a=i.Vu[i.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function $p(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||f2(n,i)})}function f2(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(t0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),c0(n))}function Ib(n,e,t){for(const i of t)i instanceof o2?(n.Ru.addReference(i.key,e),k3(n,i)):i instanceof l2?(le(l0,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||f2(n,i.key)):ye(19791,{wu:i})}function k3(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(le(l0,"New document in limbo: "+t),n.Eu.add(i),c0(n))}function c0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new fe(rt.fromString(e)),i=n.fu.next();n.Au.set(i,new A3(t)),n.du=n.du.insert(t,i),t2(n.remoteStore,new Zi(Rs(Kg(t.path)),i,"TargetPurposeLimboResolution",Dd.ce))}}async function Qc(n,e,t){const i=Te(n),a=[],c=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach((f,g)=>{u.push(i.pu(g,e,t).then(y=>{if((y||t)&&i.isPrimaryClient){const x=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){a.push(y);const x=Jg.As(g.targetId,y);c.push(x)}}))}),await Promise.all(u),i.Pu.H_(a),await async function(g,y){const x=Te(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>te.forEach(y,T=>te.forEach(T.Es,C=>x.persistence.referenceDelegate.addReference(_,T.targetId,C)).next(()=>te.forEach(T.ds,C=>x.persistence.referenceDelegate.removeReference(_,T.targetId,C)))))}catch(_){if(!Bo(_))throw _;le(e0,"Failed to update sequence numbers: "+_)}for(const _ of y){const T=_.targetId;if(!_.fromCache){const C=x.Ms.get(T),V=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(V);x.Ms=x.Ms.insert(T,U)}}}(i.localStore,c))}async function L3(n,e){const t=Te(n);if(!t.currentUser.isEqual(e)){le(l0,"User change. New user:",e.toKey());const i=await WT(t.localStore,e);t.currentUser=e,function(c,u){c.mu.forEach(f=>{f.forEach(g=>{g.reject(new he(ne.CANCELLED,u))})}),c.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Qc(t,i.Ls)}}function U3(n,e){const t=Te(n),i=t.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let a=Ve();const c=t.Iu.get(e);if(!c)return a;for(const u of c){const f=t.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function m2(n){const e=Te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=u2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M3.bind(null,e),e.Pu.H_=_3.bind(null,e.eventManager),e.Pu.yu=w3.bind(null,e.eventManager),e}function B3(n){const e=Te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O3.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return zI(this.persistence,new LI,e.initialUser,this.serializer)}Cu(e){return new $T(Zg.mi,this.serializer)}Du(e){return new XI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class z3 extends yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Fe(this.persistence.referenceDelegate instanceof pd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new TI(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new $T(i=>pd.mi(i,t),this.serializer)}}class Wp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Cb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=L3.bind(null,this.syncEngine),await g3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v3}()}createDatastore(e){const t=Bd(e.databaseInfo.databaseId),i=function(c){return new JI(c)}(e.databaseInfo);return function(c,u,f,g){return new s3(c,u,f,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,c,u,f){return new r3(i,a,c,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Cb(this.syncEngine,t,0),function(){return Tb.v()?new Tb:new QI}())}createSyncEngine(e,t){return function(a,c,u,f,g,y,x){const _=new R3(a,c,u,f,g,y);return x&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const i=Te(t);le(ca,"RemoteStore shutting down."),i.Ea.add(5),await Xc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wp.provider={build:()=>new Wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="FirestoreClient";class H3{constructor(e,t,i,a,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=Ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async u=>{le(cr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(le(cr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=a0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function hp(n,e){n.asyncQueue.verifyOperationInProgress(),le(cr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await WT(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Db(n,e){n.asyncQueue.verifyOperationInProgress();const t=await q3(n);le(cr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Sb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Sb(e.remoteStore,a)),n._onlineComponents=e}async function q3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(cr,"Using user provided OfflineComponentProvider");try{await hp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Eo("Error using user provided cache. Falling back to memory cache: "+t),await hp(n,new yd)}}else le(cr,"Using default OfflineComponentProvider"),await hp(n,new z3(void 0));return n._offlineComponents}async function p2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(cr,"Using user provided OnlineComponentProvider"),await Db(n,n._uninitializedComponentsProvider._online)):(le(cr,"Using default OnlineComponentProvider"),await Db(n,new Wp))),n._onlineComponents}function G3(n){return p2(n).then(e=>e.syncEngine)}async function K3(n){const e=await p2(n),t=e.eventManager;return t.onListen=N3.bind(null,e.syncEngine),t.onUnlisten=D3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=C3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=j3.bind(null,e.syncEngine),t}function Y3(n,e,t={}){const i=new sr;return n.asyncQueue.enqueueAndForget(async()=>function(c,u,f,g,y){const x=new F3({next:T=>{x.Nu(),u.enqueueAndForget(()=>b3(c,_));const C=T.docs.has(f);!C&&T.fromCache?y.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&g&&g.source==="server"?y.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),_=new T3(Kg(f.path),x,{includeMetadataChanges:!0,qa:!0});return x3(c,_)}(await K3(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="firestore.googleapis.com",Vb=!0;class Mb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y2,this.ssl=Vb}else this.host=e.host,this.ssl=e.ssl??Vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_I)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g2(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class u0{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new YC;switch(i.type){case"firstParty":return new WC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=jb.get(t);i&&(le("ComponentProvider","Removing Datastore"),jb.delete(t),i.terminate())}(this),Promise.resolve()}}function X3(n,e,t,i={}){n=Ec(n,u0);const a=Po(e),c=n._getSettings(),u={...c,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(yw(`https://${f}`),vw("Firestore",!0)),c.host!==y2&&c.host!==f&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:f,ssl:a,emulatorOptions:i};if(!ra(g,u)&&(n._setSettings(g),i.mockUserToken)){let y,x;if(typeof i.mockUserToken=="string")y=i.mockUserToken,x=sn.MOCK_USER;else{y=dR(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new sn(_)}n._authCredentials=new XC(new lT(y,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new h0(this.firestore,e,this._query)}}class zt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Gc(t,zt._jsonSchema))return new zt(e,i||null,new fe(rt.fromString(t.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Et("string",zt._jsonSchemaVersion),referencePath:Et("string")};class Dc extends h0{constructor(e,t,i){super(e,t,Kg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new fe(e))}withConverter(e){return new Dc(this.firestore,e,this._path)}}function v2(n,e,...t){if(n=Xn(n),arguments.length===1&&(e=Ug.newId()),s4("doc","path",e),n instanceof u0){const i=rt.fromString(e,...t);return Xx(i),new zt(n,null,new fe(i))}{if(!(n instanceof zt||n instanceof Dc))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rt.fromString(e,...t));return Xx(i),new zt(n.firestore,n instanceof Dc?n.converter:null,new fe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="AsyncQueue";class Ob{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JT(this,"async_queue_retry"),this._c=()=>{const i=up();i&&le(Pb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=up();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=up();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new sr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;le(Pb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",kb(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=r0.createAndSchedule(this,e,t,i,c=>this.hc(c));return this.tc.push(a),a}uc(){this.nc&&ye(47125,{Pc:kb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function kb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class d0 extends u0{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Ob,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ob(e),this._firestoreClient=void 0,await e}}}function Q3(n,e){const t=ww(),i=ld,a=Ag(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const c=uR("firestore");c&&X3(a,...c)}return a}function x2(n){if(n._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$3(n),n._firestoreClient}function $3(n){const e=n._freezeSettings(),t=function(a,c,u,f){return new p4(a,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,g2(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new H3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn($t.fromBase64String(e))}catch(t){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gc(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Et("string",Kn._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cs._jsonSchemaVersion}}static fromJSON(e){if(Gc(e,Cs._jsonSchema))return new Cs(e.latitude,e.longitude)}}Cs._jsonSchemaVersion="firestore/geoPoint/1.0",Cs._jsonSchema={type:Et("string",Cs._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==a[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gc(e,Is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Is(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Is._jsonSchemaVersion="firestore/vectorValue/1.0",Is._jsonSchema={type:Et("string",Is._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=/^__.*__$/;class Z3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kc(e,this.data,t,this.fieldTransforms)}}function _2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:n})}}class m0{constructor(e,t,i,a,c,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new m0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_2(this.Ac)&&W3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class J3{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Bd(e)}Cc(e,t,i,a=!1){return new m0({Ac:e,methodName:t,Dc:i,path:Qt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e6(n){const e=n._freezeSettings(),t=Bd(n._databaseId);return new J3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function t6(n,e,t,i,a,c={}){const u=n.Cc(c.merge||c.mergeFields?2:0,e,t,a);S2("Data must be an object, but it was:",u,i);const f=T2(i,u);let g,y;if(c.merge)g=new rs(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const x=[];for(const _ of c.mergeFields){const T=n6(e,_,t);if(!u.contains(T))throw new he(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);i6(x,T)||x.push(T)}g=new rs(x),y=u.fieldTransforms.filter(_=>g.covers(_.field))}else g=null,y=u.fieldTransforms;return new Z3(new Gn(f),g,y)}function w2(n,e){if(E2(n=Xn(n)))return S2("Unsupported field value:",e,n),T2(n,e);if(n instanceof b2)return function(i,a){if(!_2(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,a){const c=[];let u=0;for(const f of i){let g=w2(f,a.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}}(n,e)}return function(i,a){if((i=Xn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return U4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Je.fromDate(i);return{timestampValue:md(a.serializer,c)}}if(i instanceof Je){const c=new Je(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:md(a.serializer,c)}}if(i instanceof Cs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Kn)return{bytesValue:FT(a.serializer,i._byteString)};if(i instanceof zt){const c=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(c))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$g(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Is)return function(u,f){return{mapValue:{fields:{[yT]:{stringValue:vT},[cd]:{arrayValue:{values:u.toArray().map(y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return Yg(f.serializer,y)})}}}}}}(i,a);throw a.Sc(`Unsupported field value: ${Bg(i)}`)}(n,e)}function T2(n,e){const t={};return hT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(n,(i,a)=>{const c=w2(a,e.mc(i));c!=null&&(t[i]=c)}),{mapValue:{fields:t}}}function E2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Je||n instanceof Cs||n instanceof Kn||n instanceof zt||n instanceof b2||n instanceof Is)}function S2(n,e,t){if(!E2(t)||!cT(t)){const i=Bg(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function n6(n,e,t){if((e=Xn(e))instanceof f0)return e._internalPath;if(typeof e=="string")return A2(n,e);throw vd("Field path arguments must be of type string or ",n,!1,void 0,t)}const s6=new RegExp("[~\\*/\\[\\]]");function A2(n,e,t){if(e.search(s6)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new f0(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vd(n,e,t,i,a){const c=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${i}`),u&&(g+=` in document ${a}`),g+=")"),new he(ne.INVALID_ARGUMENT,f+n+g)}function i6(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t,i,a,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(N2("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class r6 extends R2{data(){return super.data()}}function N2(n,e){return typeof e=="string"?A2(n,e):e instanceof f0?e._internalPath:e._delegate._internalPath}class a6{convertValue(e,t="none"){switch(or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ua(e,(a,c)=>{i[a]=this.convertValue(c,t)}),i}convertVectorValue(e){const t=e.fields?.[cd].arrayValue?.values?.map(i=>yt(i.doubleValue));return new Is(t)}convertGeoPoint(e){return new Cs(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Vd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const t=rr(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);Fe(XT(i),9688,{name:e});const a=new Rc(i.get(1),i.get(3)),c=new fe(i.popFirst(5));return a.isEqual(t)||mi(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class oc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends R2{constructor(e,t,i,a,c,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(N2("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=na._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Et("string",na._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class Yh extends na{data(e={}){return super.data(e)}}class gc{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new oc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Yh(this._firestore,this._userDataWriter,i.key,i,new oc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const g=new Yh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new oc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>c||f.type!==3).map(f=>{const g=new Yh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new oc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,x=-1;return f.type!==0&&(y=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),x=u.indexOf(f.doc.key)),{type:l6(f.type),doc:g,oldIndex:y,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n){n=Ec(n,zt);const e=Ec(n.firestore,d0);return Y3(x2(e),n._key).then(t=>d6(e,n,t))}gc._jsonSchemaVersion="firestore/querySnapshot/1.0",gc._jsonSchema={type:Et("string",gc._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class c6 extends a6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}}function u6(n,e,t){n=Ec(n,zt);const i=Ec(n.firestore,d0),a=o6(n.converter,e);return h6(i,[t6(e6(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,hi.none())])}function h6(n,e){return function(i,a){const c=new sr;return i.asyncQueue.enqueueAndForget(async()=>V3(await G3(i),a,c)),c.promise}(x2(n),e)}function d6(n,e,t){const i=t.docs.get(e._key),a=new c6(n);return new na(n,a,e._key,i,new oc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Lo=a})(Oo),wo(new aa("firestore",(i,{instanceIdentifier:a,options:c})=>{const u=i.getProvider("app").getImmediate(),f=new d0(new QC(i.getProvider("auth-internal")),new ZC(u,i.getProvider("app-check-internal")),function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(y.options.projectId,x)}(u,a),u);return c={useFetchStreams:t,...c},f._setSettings(c),f},"PUBLIC").setMultipleInstances(!0)),tr(qx,Gx,e),tr(qx,Gx,"esm2020")})();const Io="password123";let jc=[{id:"doc1",role:"doctor",email:"sarah.j@caresync.com",password:Io,name:"Dr. Sarah Johnson",specialization:"Cardiology",availability:["09:00 AM","11:00 AM","02:00 PM"]},{id:"doc2",role:"doctor",email:"emily.w@caresync.com",password:Io,name:"Dr. Emily White",specialization:"Dermatology",availability:["10:00 AM","12:00 PM","03:00 PM"]}],xd=[{id:"pat1",role:"patient",email:"john.d@caresync.com",password:Io,name:"John Doe"},{id:"pat2",role:"patient",email:"jane.s@caresync.com",password:Io,name:"Jane Smith"}],bd=[{id:"pharma1",role:"pharmacist",email:"mike.w@caresync.com",password:Io,name:"Mike Wilson"},{id:"pharma2",role:"pharmacist",email:"susan.c@caresync.com",password:Io,name:"Susan Clark"}],Lb=[{id:"apt1",patientId:"pat1",doctorId:"doc1",date:"2025-08-15",time:"09:00 AM",status:"Confirmed"},{id:"apt2",patientId:"pat2",doctorId:"doc2",date:"2025-08-16",time:"10:00 AM",status:"Pending"}],Do=[...xd,...jc,...bd],f6=Do.reduce((n,e)=>(n[e.email]=e,n),{});const m6=n=>Do.find(e=>e.id===n&&e.role==="doctor"),I2=n=>Do.find(e=>e.id===n&&e.role==="patient"),p6=n=>{n.role==="patient"?xd.push(n):n.role==="doctor"?jc.push(n):n.role==="pharmacist"&&bd.push(n),Do.push(n),f6[n.email]=n},D2=Q3(),j2=I.createContext(),os=()=>{const n=I.useContext(j2);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},Ub=async(n,e="patient")=>{try{const t=v2(D2,"users",n.uid);(await C2(t)).exists()||await u6(t,{uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,role:e,createdAt:new Date})}catch(t){console.error("Error creating user document:",t)}},Bb=async n=>{try{const e=v2(D2,"users",n),t=await C2(e);return t.exists()&&t.data().role||null}catch(e){return console.error("Failed to fetch user role:",e),null}},V2=({children:n})=>{const[e,t]=I.useState(null),[i,a]=I.useState(!0),[c,u]=I.useState(()=>{try{const T=localStorage.getItem("users");return T?JSON.parse(T):Do}catch(T){return console.error("Error parsing users from localStorage",T),Do}});I.useEffect(()=>{try{localStorage.setItem("users",JSON.stringify(c))}catch(T){console.error("Error saving users to localStorage",T)}},[c]),I.useEffect(()=>NN(kg,async C=>{if(C){await Ub(C);const V=await Bb(C.uid);t({uid:C.uid,email:C.email,displayName:C.displayName,photoURL:C.photoURL,role:V})}else t(null);a(!1)}),[]);const _={user:e,loading:i,allUsers:c,loginWithGoogle:async()=>{a(!0);try{const T=await GC();await Ub(T.user);const C=await Bb(T.user.uid);t({uid:T.user.uid,email:T.user.email,displayName:T.user.displayName,photoURL:T.user.photoURL,role:C})}catch(T){throw console.error("Login failed:",T),T}finally{a(!1)}},login:async(T,C,V)=>{a(!0);try{await new Promise($=>setTimeout($,1e3));const U=c.find($=>$.email===T);if(!U)throw new Error("User not found");if(U.password!==C)throw new Error("Invalid password");if(U.role!==V)throw new Error("Invalid role selected");const{password:B,...K}=U;return t(K),localStorage.setItem("caresync_user",JSON.stringify(K)),{success:!0,user:K}}catch(U){throw new Error(U.message)}finally{a(!1)}},register:async T=>{a(!0);try{if(await new Promise(K=>setTimeout(K,1e3)),c.find(K=>K.email===T.email))throw new Error("User already exists with this email");const C={id:`user${Date.now()}`,name:`${T.firstName} ${T.lastName}`,...T};p6(C),u(K=>[...K,C]);const{password:V,confirmPassword:U,...B}=C;return t(B),localStorage.setItem("caresync_user",JSON.stringify(B)),{success:!0,user:B}}catch(C){throw new Error(C.message)}finally{a(!1)}},logout:async()=>{a(!0);try{await KC(),t(null),localStorage.removeItem("caresync_user")}catch(T){console.error("Logout failed:",T)}finally{a(!1)}}};return m.jsx(j2.Provider,{value:_,children:!i&&n})};function g6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const y6=I.forwardRef(g6);function v6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Xh=I.forwardRef(v6);function x6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const M2=I.forwardRef(x6);function b6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Zp=I.forwardRef(b6);function _6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const w6=I.forwardRef(_6);function T6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const E6=I.forwardRef(T6);function S6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const A6=I.forwardRef(S6);function R6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const zb=I.forwardRef(R6);function N6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Hd=I.forwardRef(N6);function C6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const p0=I.forwardRef(C6);function I6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const ec=I.forwardRef(I6);function D6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const j6=I.forwardRef(D6);function V6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Vc=I.forwardRef(V6);function M6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const jo=I.forwardRef(M6);function P6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const g0=I.forwardRef(P6);function O6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const P2=I.forwardRef(O6);function k6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const L6=I.forwardRef(k6);function U6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const B6=I.forwardRef(U6);function z6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const F6=I.forwardRef(z6);function H6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Jp=I.forwardRef(H6);function q6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const eg=I.forwardRef(q6);function G6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"}))}const K6=I.forwardRef(G6);function Y6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Zr=I.forwardRef(Y6);function X6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const y0=I.forwardRef(X6);function Q6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const $6=I.forwardRef(Q6);function W6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Z6=I.forwardRef(W6);function J6({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Fb=I.forwardRef(J6);function eD({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const tD=I.forwardRef(eD);function nD({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const sD=I.forwardRef(nD);function iD({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const _d=I.forwardRef(iD);function rD({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const aD=I.forwardRef(rD);function oD({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const lD=I.forwardRef(oD);function cD({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const $c=I.forwardRef(cD);function uD({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const O2=I.forwardRef(uD);function hD({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const v0=I.forwardRef(hD);var ao={},Hb;function dD(){if(Hb)return ao;Hb=1,Object.defineProperty(ao,"__esModule",{value:!0});var n=uw(),e=Tg(),t=function(){return t=Object.assign||function(g){for(var y,x=1,_=arguments.length;x<_;x++)for(var T in y=arguments[x])Object.prototype.hasOwnProperty.call(y,T)&&(g[T]=y[T]);return g},t.apply(this,arguments)};function i(g,y){var x,_;switch(y.type){case"TYPE":return t(t({},g),{speed:y.speed,text:(x=y.payload)===null||x===void 0?void 0:x.substring(0,g.text.length+1)});case"DELAY":return t(t({},g),{speed:y.payload});case"DELETE":return t(t({},g),{speed:y.speed,text:(_=y.payload)===null||_===void 0?void 0:_.substring(0,g.text.length-1)});case"COUNT":return t(t({},g),{count:g.count+1});default:return g}}var a=function(g){var y=g.words,x=y===void 0?["Hello World!","This is","a simple Typewriter"]:y,_=g.loop,T=_===void 0?1:_,C=g.typeSpeed,V=C===void 0?80:C,U=g.deleteSpeed,B=U===void 0?50:U,K=g.delaySpeed,$=K===void 0?1500:K,Q=g.onLoopDone,ae=g.onType,re=g.onDelete,oe=g.onDelay,P=e.useReducer(i,{speed:V,text:"",count:0}),E=P[0],A=E.speed,N=E.text,D=E.count,O=P[1],j=e.useRef(0),Ie=e.useRef(!1),Ee=e.useRef(!1),Y=e.useRef(!1),J=e.useRef(!1),ie=e.useCallback(function(){var me=D%x.length,ve=x[me];Ee.current?(O({type:"DELETE",payload:ve,speed:B}),N===""&&(Ee.current=!1,O({type:"COUNT"}))):(O({type:"TYPE",payload:ve,speed:V}),Y.current=!0,N===ve&&(O({type:"DELAY",payload:$}),Y.current=!1,J.current=!0,setTimeout(function(){J.current=!1,Ee.current=!0},$),T>0&&(j.current+=1,j.current/x.length===T&&(J.current=!1,Ie.current=!0)))),Y.current&&ae&&ae(j.current),Ee.current&&re&&re(),J.current&&oe&&oe()},[D,$,B,T,V,x,N,ae,re,oe]);return e.useEffect(function(){var me=setTimeout(ie,A);return Ie.current&&clearTimeout(me),function(){return clearTimeout(me)}},[ie,A]),e.useEffect(function(){Q&&Ie.current&&Q()},[Q]),[N,{isType:Y.current,isDelay:J.current,isDelete:Ee.current,isDone:Ie.current}]},c="styles-module_blinkingCursor__yugAC",u="styles-module_blinking__9VXRT";(function(g,y){y===void 0&&(y={});var x=y.insertAt;if(typeof document<"u"){var _=document.head||document.getElementsByTagName("head")[0],T=document.createElement("style");T.type="text/css",x==="top"&&_.firstChild?_.insertBefore(T,_.firstChild):_.appendChild(T),T.styleSheet?T.styleSheet.cssText=g:T.appendChild(document.createTextNode(g))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var f=e.memo(function(g){var y=g.cursorBlinking,x=y===void 0||y,_=g.cursorStyle,T=_===void 0?"|":_,C=g.cursorColor,V=C===void 0?"inherit":C;return n.jsx("span",t({style:{color:V},className:"".concat(c," ").concat(x?u:"")},{children:T}))});return ao.Cursor=f,ao.Typewriter=function(g){var y=g.words,x=y===void 0?["Hello World!","This is","a simple Typewriter"]:y,_=g.loop,T=_===void 0?1:_,C=g.typeSpeed,V=C===void 0?80:C,U=g.deleteSpeed,B=U===void 0?50:U,K=g.delaySpeed,$=K===void 0?1500:K,Q=g.cursor,ae=Q!==void 0&&Q,re=g.cursorStyle,oe=re===void 0?"|":re,P=g.cursorColor,E=P===void 0?"inherit":P,A=g.cursorBlinking,N=A===void 0||A,D=g.onLoopDone,O=g.onType,j=g.onDelay,Ie=g.onDelete,Ee=a({words:x,loop:T,typeSpeed:V,deleteSpeed:B,delaySpeed:$,onLoopDone:D,onType:O,onDelay:j,onDelete:Ie})[0];return n.jsxs(n.Fragment,{children:[n.jsx("span",{children:Ee}),ae&&n.jsx(f,{cursorStyle:oe,cursorColor:E,cursorBlinking:N})]})},ao.useTypewriter=a,ao}var fD=dD(),tc={},lc={exports:{}},mD=lc.exports,qb;function pD(){return qb||(qb=1,function(n,e){(function(t,i){i(e)})(mD,function(t){var i=function(){return i=Object.assign||function(c){for(var u,f=1,g=arguments.length;f<g;f++)for(var y in u=arguments[f])Object.prototype.hasOwnProperty.call(u,y)&&(c[y]=u[y]);return c},i.apply(this,arguments)},a=function(){function c(u,f,g){var y=this;this.endVal=f,this.options=g,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(x){y.startTime||(y.startTime=x);var _=x-y.startTime;y.remaining=y.duration-_,y.useEasing?y.countDown?y.frameVal=y.startVal-y.easingFn(_,0,y.startVal-y.endVal,y.duration):y.frameVal=y.easingFn(_,y.startVal,y.endVal-y.startVal,y.duration):y.frameVal=y.startVal+(y.endVal-y.startVal)*(_/y.duration);var T=y.countDown?y.frameVal<y.endVal:y.frameVal>y.endVal;y.frameVal=T?y.endVal:y.frameVal,y.frameVal=Number(y.frameVal.toFixed(y.options.decimalPlaces)),y.printValue(y.frameVal),_<y.duration?y.rAF=requestAnimationFrame(y.count):y.finalEndVal!==null?y.update(y.finalEndVal):y.options.onCompleteCallback&&y.options.onCompleteCallback()},this.formatNumber=function(x){var _,T,C,V,U=x<0?"-":"";_=Math.abs(x).toFixed(y.options.decimalPlaces);var B=(_+="").split(".");if(T=B[0],C=B.length>1?y.options.decimal+B[1]:"",y.options.useGrouping){V="";for(var K=3,$=0,Q=0,ae=T.length;Q<ae;++Q)y.options.useIndianSeparators&&Q===4&&(K=2,$=1),Q!==0&&$%K==0&&(V=y.options.separator+V),$++,V=T[ae-Q-1]+V;T=V}return y.options.numerals&&y.options.numerals.length&&(T=T.replace(/[0-9]/g,function(re){return y.options.numerals[+re]}),C=C.replace(/[0-9]/g,function(re){return y.options.numerals[+re]})),U+y.options.prefix+T+C+y.options.suffix},this.easeOutExpo=function(x,_,T,C){return T*(1-Math.pow(2,-10*x/C))*1024/1023+_},this.options=i(i({},this.defaults),g),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof u=="string"?document.getElementById(u):u,f=f??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(f),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,u):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return y.handleScroll(y)}),window.onscroll=function(){window.onScrollFns.forEach(function(x){return x()})},this.handleScroll(this)))}return c.prototype.handleScroll=function(u){if(u&&window&&!u.once){var f=window.innerHeight+window.scrollY,g=u.el.getBoundingClientRect(),y=g.top+window.pageYOffset,x=g.top+g.height+window.pageYOffset;x<f&&x>window.scrollY&&u.paused?(u.paused=!1,setTimeout(function(){return u.start()},u.options.scrollSpyDelay),u.options.scrollSpyOnce&&(u.once=!0)):(window.scrollY>x||y>f)&&!u.paused&&u.reset()}},c.prototype.determineDirectionAndSmartEasing=function(){var u=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>u;var f=u-this.startVal;if(Math.abs(f)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=u;var g=this.countDown?1:-1;this.endVal=u+g*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=u,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},c.prototype.start=function(u){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),u&&(this.options.onCompleteCallback=u),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},c.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},c.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},c.prototype.update=function(u){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(u),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},c.prototype.printValue=function(u){var f;if(this.el){var g=this.formattingFn(u);!((f=this.options.plugin)===null||f===void 0)&&f.render?this.options.plugin.render(this.el,g):this.el.tagName==="INPUT"?this.el.value=g:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=g:this.el.innerHTML=g}},c.prototype.ensureNumber=function(u){return typeof u=="number"&&!isNaN(u)},c.prototype.validateValue=function(u){var f=Number(u);return this.ensureNumber(f)?f:(this.error="[CountUp] invalid start or end value: ".concat(u),null)},c.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},c.prototype.parse=function(u){var f=function(_){return _.replace(/([.,' ])/g,"\\$1")},g=f(this.options.separator),y=f(this.options.decimal),x=u.replace(new RegExp(g,"g"),"").replace(new RegExp(y,"g"),".");return parseFloat(x)},c}();t.CountUp=a})}(lc,lc.exports)),lc.exports}var Gb;function gD(){if(Gb)return tc;Gb=1,Object.defineProperty(tc,"__esModule",{value:!0});var n=Tg(),e=pD();function t(E,A){var N=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(N!=null){var D,O,j,Ie,Ee=[],Y=!0,J=!1;try{if(j=(N=N.call(E)).next,A!==0)for(;!(Y=(D=j.call(N)).done)&&(Ee.push(D.value),Ee.length!==A);Y=!0);}catch(ie){J=!0,O=ie}finally{try{if(!Y&&N.return!=null&&(Ie=N.return(),Object(Ie)!==Ie))return}finally{if(J)throw O}}return Ee}}function i(E,A){var N=Object.keys(E);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(E);A&&(D=D.filter(function(O){return Object.getOwnPropertyDescriptor(E,O).enumerable})),N.push.apply(N,D)}return N}function a(E){for(var A=1;A<arguments.length;A++){var N=arguments[A]!=null?arguments[A]:{};A%2?i(Object(N),!0).forEach(function(D){f(E,D,N[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(N)):i(Object(N)).forEach(function(D){Object.defineProperty(E,D,Object.getOwnPropertyDescriptor(N,D))})}return E}function c(E,A){if(typeof E!="object"||!E)return E;var N=E[Symbol.toPrimitive];if(N!==void 0){var D=N.call(E,A);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(E)}function u(E){var A=c(E,"string");return typeof A=="symbol"?A:String(A)}function f(E,A,N){return A=u(A),A in E?Object.defineProperty(E,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):E[A]=N,E}function g(){return g=Object.assign?Object.assign.bind():function(E){for(var A=1;A<arguments.length;A++){var N=arguments[A];for(var D in N)Object.prototype.hasOwnProperty.call(N,D)&&(E[D]=N[D])}return E},g.apply(this,arguments)}function y(E,A){if(E==null)return{};var N={},D=Object.keys(E),O,j;for(j=0;j<D.length;j++)O=D[j],!(A.indexOf(O)>=0)&&(N[O]=E[O]);return N}function x(E,A){if(E==null)return{};var N=y(E,A),D,O;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(E);for(O=0;O<j.length;O++)D=j[O],!(A.indexOf(D)>=0)&&Object.prototype.propertyIsEnumerable.call(E,D)&&(N[D]=E[D])}return N}function _(E,A){return T(E)||t(E,A)||C(E,A)||U()}function T(E){if(Array.isArray(E))return E}function C(E,A){if(E){if(typeof E=="string")return V(E,A);var N=Object.prototype.toString.call(E).slice(8,-1);if(N==="Object"&&E.constructor&&(N=E.constructor.name),N==="Map"||N==="Set")return Array.from(E);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return V(E,A)}}function V(E,A){(A==null||A>E.length)&&(A=E.length);for(var N=0,D=new Array(A);N<A;N++)D[N]=E[N];return D}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?n.useLayoutEffect:n.useEffect;function K(E){var A=n.useRef(E);return B(function(){A.current=E}),n.useCallback(function(){for(var N=arguments.length,D=new Array(N),O=0;O<N;O++)D[O]=arguments[O];return A.current.apply(void 0,D)},[])}var $=function(A,N){var D=N.decimal,O=N.decimals,j=N.duration,Ie=N.easingFn,Ee=N.end,Y=N.formattingFn,J=N.numerals,ie=N.prefix,me=N.separator,ve=N.start,We=N.suffix,Se=N.useEasing,de=N.useGrouping,Ue=N.useIndianSeparators,st=N.enableScrollSpy,lt=N.scrollSpyDelay,Wt=N.scrollSpyOnce,Zt=N.plugin;return new e.CountUp(A,Ee,{startVal:ve,duration:j,decimal:D,decimalPlaces:O,easingFn:Ie,formattingFn:Y,numerals:J,separator:me,prefix:ie,suffix:We,plugin:Zt,useEasing:Se,useIndianSeparators:Ue,useGrouping:de,enableScrollSpy:st,scrollSpyDelay:lt,scrollSpyOnce:Wt})},Q=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],ae={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},re=function(A){var N=Object.fromEntries(Object.entries(A).filter(function(Vt){var bn=_(Vt,2),ls=bn[1];return ls!==void 0})),D=n.useMemo(function(){return a(a({},ae),N)},[A]),O=D.ref,j=D.startOnMount,Ie=D.enableReinitialize,Ee=D.delay,Y=D.onEnd,J=D.onStart,ie=D.onPauseResume,me=D.onReset,ve=D.onUpdate,We=x(D,Q),Se=n.useRef(),de=n.useRef(),Ue=n.useRef(!1),st=K(function(){return $(typeof O=="string"?O:O.current,We)}),lt=K(function(Vt){var bn=Se.current;if(bn&&!Vt)return bn;var ls=st();return Se.current=ls,ls}),Wt=K(function(){var Vt=function(){return lt(!0).start(function(){Y?.({pauseResume:Zt,reset:jt,start:ln,update:mn})})};Ee&&Ee>0?de.current=setTimeout(Vt,Ee*1e3):Vt(),J?.({pauseResume:Zt,reset:jt,update:mn})}),Zt=K(function(){lt().pauseResume(),ie?.({reset:jt,start:ln,update:mn})}),jt=K(function(){lt().el&&(de.current&&clearTimeout(de.current),lt().reset(),me?.({pauseResume:Zt,start:ln,update:mn}))}),mn=K(function(Vt){lt().update(Vt),ve?.({pauseResume:Zt,reset:jt,start:ln})}),ln=K(function(){jt(),Wt()}),Qn=K(function(Vt){j&&(Vt&&jt(),Wt())});return n.useEffect(function(){Ue.current?Ie&&Qn(!0):(Ue.current=!0,Qn())},[Ie,Ue,Qn,Ee,A.start,A.suffix,A.prefix,A.duration,A.separator,A.decimals,A.decimal,A.formattingFn]),n.useEffect(function(){return function(){jt()}},[jt]),{start:ln,pauseResume:Zt,reset:jt,update:mn,getCountUp:lt}},oe=["className","redraw","containerProps","children","style"],P=function(A){var N=A.className,D=A.redraw,O=A.containerProps,j=A.children,Ie=A.style,Ee=x(A,oe),Y=n.useRef(null),J=n.useRef(!1),ie=re(a(a({},Ee),{},{ref:Y,startOnMount:typeof j!="function"||A.delay===0,enableReinitialize:!1})),me=ie.start,ve=ie.reset,We=ie.update,Se=ie.pauseResume,de=ie.getCountUp,Ue=K(function(){me()}),st=K(function(Zt){A.preserveValue||ve(),We(Zt)}),lt=K(function(){if(typeof A.children=="function"&&!(Y.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}de()});n.useEffect(function(){lt()},[lt]),n.useEffect(function(){J.current&&st(A.end)},[A.end,st]);var Wt=D&&A;return n.useEffect(function(){D&&J.current&&Ue()},[Ue,D,Wt]),n.useEffect(function(){!D&&J.current&&Ue()},[Ue,D,A.start,A.suffix,A.prefix,A.duration,A.separator,A.decimals,A.decimal,A.className,A.formattingFn]),n.useEffect(function(){J.current=!0},[]),typeof j=="function"?j({countUpRef:Y,start:me,reset:ve,update:We,pauseResume:Se,getCountUp:de}):n.createElement("span",g({className:N,ref:Y,style:Ie},O),typeof A.start<"u"?de().formattingFn(A.start):"")};return tc.default=P,tc.useCountUp=re,tc}var yD=gD();const vD=cw(yD),x0=I.createContext({});function b0(n){const e=I.useRef(null);return e.current===null&&(e.current=n()),e.current}const _0=typeof window<"u",k2=_0?I.useLayoutEffect:I.useEffect,qd=I.createContext(null);function w0(n,e){n.indexOf(e)===-1&&n.push(e)}function T0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const gi=(n,e,t)=>t>e?e:t<n?n:t;let E0=()=>{};const yi={},L2=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function U2(n){return typeof n=="object"&&n!==null}const B2=n=>/^0[^.\s]+$/u.test(n);function S0(n){let e;return()=>(e===void 0&&(e=n()),e)}const Yn=n=>n,xD=(n,e)=>t=>e(n(t)),Wc=(...n)=>n.reduce(xD),Mc=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class A0{constructor(){this.subscriptions=[]}add(e){return w0(this.subscriptions,e),()=>T0(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let c=0;c<a;c++){const u=this.subscriptions[c];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ds=n=>n*1e3,js=n=>n/1e3;function z2(n,e){return e?n*(1e3/e):0}const F2=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,bD=1e-7,_D=12;function wD(n,e,t,i,a){let c,u,f=0;do u=e+(t-e)/2,c=F2(u,i,a)-n,c>0?t=u:e=u;while(Math.abs(c)>bD&&++f<_D);return u}function Zc(n,e,t,i){if(n===e&&t===i)return Yn;const a=c=>wD(c,0,1,n,t);return c=>c===0||c===1?c:F2(a(c),e,i)}const H2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,q2=n=>e=>1-n(1-e),G2=Zc(.33,1.53,.69,.99),R0=q2(G2),K2=H2(R0),Y2=n=>(n*=2)<1?.5*R0(n):.5*(2-Math.pow(2,-10*(n-1))),N0=n=>1-Math.sin(Math.acos(n)),X2=q2(N0),Q2=H2(N0),TD=Zc(.42,0,1,1),ED=Zc(0,0,.58,1),$2=Zc(.42,0,.58,1),SD=n=>Array.isArray(n)&&typeof n[0]!="number",W2=n=>Array.isArray(n)&&typeof n[0]=="number",AD={linear:Yn,easeIn:TD,easeInOut:$2,easeOut:ED,circIn:N0,circInOut:Q2,circOut:X2,backIn:R0,backInOut:K2,backOut:G2,anticipate:Y2},RD=n=>typeof n=="string",Kb=n=>{if(W2(n)){E0(n.length===4);const[e,t,i,a]=n;return Zc(e,t,i,a)}else if(RD(n))return AD[n];return n},jh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ND(n,e){let t=new Set,i=new Set,a=!1,c=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function g(x){u.has(x)&&(y.schedule(x),n()),x(f)}const y={schedule:(x,_=!1,T=!1)=>{const V=T&&a?t:i;return _&&u.add(x),V.has(x)||V.add(x),x},cancel:x=>{i.delete(x),u.delete(x)},process:x=>{if(f=x,a){c=!0;return}a=!0,[t,i]=[i,t],t.forEach(g),t.clear(),a=!1,c&&(c=!1,y.process(x))}};return y}const CD=40;function Z2(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>t=!0,u=jh.reduce((Q,ae)=>(Q[ae]=ND(c),Q),{}),{setup:f,read:g,resolveKeyframes:y,preUpdate:x,update:_,preRender:T,render:C,postRender:V}=u,U=()=>{const Q=yi.useManualTiming?a.timestamp:performance.now();t=!1,yi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(Q-a.timestamp,CD),1)),a.timestamp=Q,a.isProcessing=!0,f.process(a),g.process(a),y.process(a),x.process(a),_.process(a),T.process(a),C.process(a),V.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(U))},B=()=>{t=!0,i=!0,a.isProcessing||n(U)};return{schedule:jh.reduce((Q,ae)=>{const re=u[ae];return Q[ae]=(oe,P=!1,E=!1)=>(t||B(),re.schedule(oe,P,E)),Q},{}),cancel:Q=>{for(let ae=0;ae<jh.length;ae++)u[jh[ae]].cancel(Q)},state:a,steps:u}}const{schedule:nt,cancel:ur,state:Yt,steps:dp}=Z2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yn,!0);let Qh;function ID(){Qh=void 0}const xn={now:()=>(Qh===void 0&&xn.set(Yt.isProcessing||yi.useManualTiming?Yt.timestamp:performance.now()),Qh),set:n=>{Qh=n,queueMicrotask(ID)}},J2=n=>e=>typeof e=="string"&&e.startsWith(n),C0=J2("--"),DD=J2("var(--"),I0=n=>DD(n)?jD.test(n.split("/*")[0].trim()):!1,jD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Pc={...Fo,transform:n=>gi(0,1,n)},Vh={...Fo,default:1},yc=n=>Math.round(n*1e5)/1e5,D0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VD(n){return n==null}const MD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,j0=(n,e)=>t=>!!(typeof t=="string"&&MD.test(t)&&t.startsWith(n)||e&&!VD(t)&&Object.prototype.hasOwnProperty.call(t,e)),eE=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,c,u,f]=i.match(D0);return{[n]:parseFloat(a),[e]:parseFloat(c),[t]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},PD=n=>gi(0,255,n),fp={...Fo,transform:n=>Math.round(PD(n))},Jr={test:j0("rgb","red"),parse:eE("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+fp.transform(n)+", "+fp.transform(e)+", "+fp.transform(t)+", "+yc(Pc.transform(i))+")"};function OD(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const tg={test:j0("#"),parse:OD,transform:Jr.transform},Jc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Xi=Jc("deg"),Vs=Jc("%"),be=Jc("px"),kD=Jc("vh"),LD=Jc("vw"),Yb={...Vs,parse:n=>Vs.parse(n)/100,transform:n=>Vs.transform(n*100)},ho={test:j0("hsl","hue"),parse:eE("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Vs.transform(yc(e))+", "+Vs.transform(yc(t))+", "+yc(Pc.transform(i))+")"},Tt={test:n=>Jr.test(n)||tg.test(n)||ho.test(n),parse:n=>Jr.test(n)?Jr.parse(n):ho.test(n)?ho.parse(n):tg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Jr.transform(n):ho.transform(n),getAnimatableNone:n=>{const e=Tt.parse(n);return e.alpha=0,Tt.transform(e)}},UD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BD(n){return isNaN(n)&&typeof n=="string"&&(n.match(D0)?.length||0)+(n.match(UD)?.length||0)>0}const tE="number",nE="color",zD="var",FD="var(",Xb="${}",HD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oc(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let c=0;const f=e.replace(HD,g=>(Tt.test(g)?(i.color.push(c),a.push(nE),t.push(Tt.parse(g))):g.startsWith(FD)?(i.var.push(c),a.push(zD),t.push(g)):(i.number.push(c),a.push(tE),t.push(parseFloat(g))),++c,Xb)).split(Xb);return{values:t,split:f,indexes:i,types:a}}function sE(n){return Oc(n).values}function iE(n){const{split:e,types:t}=Oc(n),i=e.length;return a=>{let c="";for(let u=0;u<i;u++)if(c+=e[u],a[u]!==void 0){const f=t[u];f===tE?c+=yc(a[u]):f===nE?c+=Tt.transform(a[u]):c+=a[u]}return c}}const qD=n=>typeof n=="number"?0:Tt.test(n)?Tt.getAnimatableNone(n):n;function GD(n){const e=sE(n);return iE(n)(e.map(qD))}const hr={test:BD,parse:sE,createTransformer:iE,getAnimatableNone:GD};function mp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function KD({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,c=0,u=0;if(!e)a=c=u=t;else{const f=t<.5?t*(1+e):t+e-t*e,g=2*t-f;a=mp(g,f,n+1/3),c=mp(g,f,n),u=mp(g,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function wd(n,e){return t=>t>0?e:n}const at=(n,e,t)=>n+(e-n)*t,pp=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},YD=[tg,Jr,ho],XD=n=>YD.find(e=>e.test(n));function Qb(n){const e=XD(n);if(!e)return!1;let t=e.parse(n);return e===ho&&(t=KD(t)),t}const $b=(n,e)=>{const t=Qb(n),i=Qb(e);if(!t||!i)return wd(n,e);const a={...t};return c=>(a.red=pp(t.red,i.red,c),a.green=pp(t.green,i.green,c),a.blue=pp(t.blue,i.blue,c),a.alpha=at(t.alpha,i.alpha,c),Jr.transform(a))},ng=new Set(["none","hidden"]);function QD(n,e){return ng.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function $D(n,e){return t=>at(n,e,t)}function V0(n){return typeof n=="number"?$D:typeof n=="string"?I0(n)?wd:Tt.test(n)?$b:JD:Array.isArray(n)?rE:typeof n=="object"?Tt.test(n)?$b:WD:wd}function rE(n,e){const t=[...n],i=t.length,a=n.map((c,u)=>V0(c)(c,e[u]));return c=>{for(let u=0;u<i;u++)t[u]=a[u](c);return t}}function WD(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=V0(n[a])(n[a],e[a]));return a=>{for(const c in i)t[c]=i[c](a);return t}}function ZD(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const c=e.types[a],u=n.indexes[c][i[c]],f=n.values[u]??0;t[a]=f,i[c]++}return t}const JD=(n,e)=>{const t=hr.createTransformer(e),i=Oc(n),a=Oc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?ng.has(n)&&!a.values.length||ng.has(e)&&!i.values.length?QD(n,e):Wc(rE(ZD(i,a),a.values),t):wd(n,e)};function aE(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?at(n,e,t):V0(n)(n,e)}const ej=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>nt.update(e,t),stop:()=>ur(e),now:()=>Yt.isProcessing?Yt.timestamp:xn.now()}},oE=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let c=0;c<a;c++)i+=Math.round(n(c/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Td=2e4;function M0(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Td;)e+=t,i=n.next(e);return e>=Td?1/0:e}function tj(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(M0(i),Td);return{type:"keyframes",ease:c=>i.next(a*c).value/e,duration:js(a)}}const nj=5;function lE(n,e,t){const i=Math.max(e-nj,0);return z2(t-n(i),e-i)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gp=.001;function sj({duration:n=dt.duration,bounce:e=dt.bounce,velocity:t=dt.velocity,mass:i=dt.mass}){let a,c,u=1-e;u=gi(dt.minDamping,dt.maxDamping,u),n=gi(dt.minDuration,dt.maxDuration,js(n)),u<1?(a=y=>{const x=y*u,_=x*n,T=x-t,C=sg(y,u),V=Math.exp(-_);return gp-T/C*V},c=y=>{const _=y*u*n,T=_*t+t,C=Math.pow(u,2)*Math.pow(y,2)*n,V=Math.exp(-_),U=sg(Math.pow(y,2),u);return(-a(y)+gp>0?-1:1)*((T-C)*V)/U}):(a=y=>{const x=Math.exp(-y*n),_=(y-t)*n+1;return-gp+x*_},c=y=>{const x=Math.exp(-y*n),_=(t-y)*(n*n);return x*_});const f=5/n,g=rj(a,c,f);if(n=Ds(n),isNaN(g))return{stiffness:dt.stiffness,damping:dt.damping,duration:n};{const y=Math.pow(g,2)*i;return{stiffness:y,damping:u*2*Math.sqrt(i*y),duration:n}}}const ij=12;function rj(n,e,t){let i=t;for(let a=1;a<ij;a++)i=i-n(i)/e(i);return i}function sg(n,e){return n*Math.sqrt(1-e*e)}const aj=["duration","bounce"],oj=["stiffness","damping","mass"];function Wb(n,e){return e.some(t=>n[t]!==void 0)}function lj(n){let e={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...n};if(!Wb(n,oj)&&Wb(n,aj))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,c=2*gi(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:dt.mass,stiffness:a,damping:c}}else{const t=sj(n);e={...e,...t,mass:dt.mass},e.isResolvedFromDuration=!0}return e}function Ed(n=dt.visualDuration,e=dt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const c=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],f={done:!1,value:c},{stiffness:g,damping:y,mass:x,duration:_,velocity:T,isResolvedFromDuration:C}=lj({...t,velocity:-js(t.velocity||0)}),V=T||0,U=y/(2*Math.sqrt(g*x)),B=u-c,K=js(Math.sqrt(g/x)),$=Math.abs(B)<5;i||(i=$?dt.restSpeed.granular:dt.restSpeed.default),a||(a=$?dt.restDelta.granular:dt.restDelta.default);let Q;if(U<1){const re=sg(K,U);Q=oe=>{const P=Math.exp(-U*K*oe);return u-P*((V+U*K*B)/re*Math.sin(re*oe)+B*Math.cos(re*oe))}}else if(U===1)Q=re=>u-Math.exp(-K*re)*(B+(V+K*B)*re);else{const re=K*Math.sqrt(U*U-1);Q=oe=>{const P=Math.exp(-U*K*oe),E=Math.min(re*oe,300);return u-P*((V+U*K*B)*Math.sinh(E)+re*B*Math.cosh(E))/re}}const ae={calculatedDuration:C&&_||null,next:re=>{const oe=Q(re);if(C)f.done=re>=_;else{let P=re===0?V:0;U<1&&(P=re===0?Ds(V):lE(Q,re,oe));const E=Math.abs(P)<=i,A=Math.abs(u-oe)<=a;f.done=E&&A}return f.value=f.done?u:oe,f},toString:()=>{const re=Math.min(M0(ae),Td),oe=oE(P=>ae.next(re*P).value,re,30);return re+"ms "+oe},toTransition:()=>{}};return ae}Ed.applyToOptions=n=>{const e=tj(n,100,Ed);return n.ease=e.ease,n.duration=Ds(e.duration),n.type="keyframes",n};function ig({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:u,min:f,max:g,restDelta:y=.5,restSpeed:x}){const _=n[0],T={done:!1,value:_},C=E=>f!==void 0&&E<f||g!==void 0&&E>g,V=E=>f===void 0?g:g===void 0||Math.abs(f-E)<Math.abs(g-E)?f:g;let U=t*e;const B=_+U,K=u===void 0?B:u(B);K!==B&&(U=K-_);const $=E=>-U*Math.exp(-E/i),Q=E=>K+$(E),ae=E=>{const A=$(E),N=Q(E);T.done=Math.abs(A)<=y,T.value=T.done?K:N};let re,oe;const P=E=>{C(T.value)&&(re=E,oe=Ed({keyframes:[T.value,V(T.value)],velocity:lE(Q,E,T.value),damping:a,stiffness:c,restDelta:y,restSpeed:x}))};return P(0),{calculatedDuration:null,next:E=>{let A=!1;return!oe&&re===void 0&&(A=!0,ae(E),P(E)),re!==void 0&&E>=re?oe.next(E-re):(!A&&ae(E),T)}}}function cj(n,e,t){const i=[],a=t||yi.mix||aE,c=n.length-1;for(let u=0;u<c;u++){let f=a(n[u],n[u+1]);if(e){const g=Array.isArray(e)?e[u]||Yn:e;f=Wc(g,f)}i.push(f)}return i}function uj(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const c=n.length;if(E0(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[c-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=cj(e,i,a),g=f.length,y=x=>{if(u&&x<n[0])return e[0];let _=0;if(g>1)for(;_<n.length-2&&!(x<n[_+1]);_++);const T=Mc(n[_],n[_+1],x);return f[_](T)};return t?x=>y(gi(n[0],n[c-1],x)):y}function hj(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=Mc(0,e,i);n.push(at(t,1,a))}}function dj(n){const e=[0];return hj(e,n.length-1),e}function fj(n,e){return n.map(t=>t*e)}function mj(n,e){return n.map(()=>e||$2).splice(0,n.length-1)}function vc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=SD(i)?i.map(Kb):Kb(i),c={done:!1,value:e[0]},u=fj(t&&t.length===e.length?t:dj(e),n),f=uj(u,e,{ease:Array.isArray(a)?a:mj(e,a)});return{calculatedDuration:n,next:g=>(c.value=f(g),c.done=g>=n,c)}}const pj=n=>n!==null;function P0(n,{repeat:e,repeatType:t="loop"},i,a=1){const c=n.filter(pj),f=a<0||e&&t!=="loop"&&e%2===1?0:c.length-1;return!f||i===void 0?c[f]:i}const gj={decay:ig,inertia:ig,tween:vc,keyframes:vc,spring:Ed};function cE(n){typeof n.type=="string"&&(n.type=gj[n.type])}class O0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const yj=n=>n/100;class k0 extends O0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cE(e);const{type:t=vc,repeat:i=0,repeatDelay:a=0,repeatType:c,velocity:u=0}=e;let{keyframes:f}=e;const g=t||vc;g!==vc&&typeof f[0]!="number"&&(this.mixKeyframes=Wc(yj,aE(f[0],f[1])),f=[0,100]);const y=g({...e,keyframes:f});c==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...f].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=M0(y));const{calculatedDuration:x}=y;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=y}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:a,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:g}=this;if(this.startTime===null)return i.next(0);const{delay:y=0,keyframes:x,repeat:_,repeatType:T,repeatDelay:C,type:V,onUpdate:U,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const K=this.currentTime-y*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?K<0:K>a;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Q=this.currentTime,ae=i;if(_){const E=Math.min(this.currentTime,a)/f;let A=Math.floor(E),N=E%1;!N&&E>=1&&(N=1),N===1&&A--,A=Math.min(A,_+1),!!(A%2)&&(T==="reverse"?(N=1-N,C&&(N-=C/f)):T==="mirror"&&(ae=u)),Q=gi(0,1,N)*f}const re=$?{done:!1,value:x[0]}:ae.next(Q);c&&(re.value=c(re.value));let{done:oe}=re;!$&&g!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return P&&V!==ig&&(re.value=P0(x,this.options,B,this.speed)),U&&U(re.value),P&&this.finish(),re}then(e,t){return this.finished.then(e,t)}get duration(){return js(this.calculatedDuration)}get time(){return js(this.currentTime)}set time(e){e=Ds(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=js(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ej,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function vj(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ea=n=>n*180/Math.PI,rg=n=>{const e=ea(Math.atan2(n[1],n[0]));return ag(e)},xj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:rg,rotateZ:rg,skewX:n=>ea(Math.atan(n[1])),skewY:n=>ea(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},ag=n=>(n=n%360,n<0&&(n+=360),n),Zb=rg,Jb=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),e_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),bj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Jb,scaleY:e_,scale:n=>(Jb(n)+e_(n))/2,rotateX:n=>ag(ea(Math.atan2(n[6],n[5]))),rotateY:n=>ag(ea(Math.atan2(-n[2],n[0]))),rotateZ:Zb,rotate:Zb,skewX:n=>ea(Math.atan(n[4])),skewY:n=>ea(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function og(n){return n.includes("scale")?1:0}function lg(n,e){if(!n||n==="none")return og(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=bj,a=t;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=xj,a=f}if(!a)return og(e);const c=i[e],u=a[1].split(",").map(wj);return typeof c=="function"?c(u):u[c]}const _j=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return lg(t,e)};function wj(n){return parseFloat(n.trim())}const Ho=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qo=new Set(Ho),t_=n=>n===Fo||n===be,Tj=new Set(["x","y","z"]),Ej=Ho.filter(n=>!Tj.has(n));function Sj(n){const e=[];return Ej.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const sa={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>lg(e,"x"),y:(n,{transform:e})=>lg(e,"y")};sa.translateX=sa.x;sa.translateY=sa.y;const ia=new Set;let cg=!1,ug=!1,hg=!1;function uE(){if(ug){const n=Array.from(ia).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=Sj(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([c,u])=>{i.getValue(c)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ug=!1,cg=!1,ia.forEach(n=>n.complete(hg)),ia.clear()}function hE(){ia.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ug=!0)})}function Aj(){hg=!0,hE(),uE(),hg=!1}class L0{constructor(e,t,i,a,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ia.add(this),cg||(cg=!0,nt.read(hE),nt.resolveKeyframes(uE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(e[0]===null){const c=a?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&t){const f=i.readValue(t,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}vj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ia.delete(this)}cancel(){this.state==="scheduled"&&(ia.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Rj=n=>n.startsWith("--");function Nj(n,e,t){Rj(e)?n.style.setProperty(e,t):n.style[e]=t}const Cj=S0(()=>window.ScrollTimeline!==void 0),Ij={};function Dj(n,e){const t=S0(n);return()=>Ij[e]??t()}const dE=Dj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,n_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cc([0,.65,.55,1]),circOut:cc([.55,0,1,.45]),backIn:cc([.31,.01,.66,-.59]),backOut:cc([.33,1.53,.69,.99])};function fE(n,e){if(n)return typeof n=="function"?dE()?oE(n,e):"ease-out":W2(n)?cc(n):Array.isArray(n)?n.map(t=>fE(t,e)||n_.easeOut):n_[n]}function jj(n,e,t,{delay:i=0,duration:a=300,repeat:c=0,repeatType:u="loop",ease:f="easeOut",times:g}={},y=void 0){const x={[e]:t};g&&(x.offset=g);const _=fE(f,a);Array.isArray(_)&&(x.easing=_);const T={delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return y&&(T.pseudoElement=y),n.animate(x,T)}function mE(n){return typeof n=="function"&&"applyToOptions"in n}function Vj({type:n,...e}){return mE(n)&&dE()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Mj extends O0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:f,onComplete:g}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,E0(typeof e.type!="string");const y=Vj(e);this.animation=jj(t,i,a,y,c),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const x=P0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(x):Nj(t,i,x),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return js(Number(e))}get time(){return js(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Cj()?(this.animation.timeline=e,Yn):t(this)}}const pE={anticipate:Y2,backInOut:K2,circInOut:Q2};function Pj(n){return n in pE}function Oj(n){typeof n.ease=="string"&&Pj(n.ease)&&(n.ease=pE[n.ease])}const s_=10;class kj extends Mj{constructor(e){Oj(e),cE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:a,element:c,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const f=new k0({...u,autoplay:!1}),g=Ds(this.finishedTime??this.time);t.setWithVelocity(f.sample(g-s_).value,f.sample(g).value,s_),f.stop()}}const i_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(hr.test(n)||n==="0")&&!n.startsWith("url("));function Lj(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Uj(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const c=n[n.length-1],u=i_(a,e),f=i_(c,e);return!u||!f?!1:Lj(n)||(t==="spring"||mE(t))&&i}function dg(n){n.duration=0,n.type}const Bj=new Set(["opacity","clipPath","filter","transform"]),zj=S0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Fj(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:a,damping:c,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:y}=e.owner.getProps();return zj()&&t&&Bj.has(t)&&(t!=="transform"||!y)&&!g&&!i&&a!=="mirror"&&c!==0&&u!=="inertia"}const Hj=40;class qj extends O0{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",keyframes:f,name:g,motionValue:y,element:x,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xn.now();const T={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:c,repeatType:u,name:g,motionValue:y,element:x,..._},C=x?.KeyframeResolver||L0;this.keyframeResolver=new C(f,(V,U,B)=>this.onKeyframesResolved(V,U,T,!B),g,y,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;const{name:c,type:u,velocity:f,delay:g,isHandoff:y,onUpdate:x}=i;this.resolvedAt=xn.now(),Uj(e,c,u,f)||((yi.instantAnimations||!g)&&x?.(P0(e,i,t)),e[0]=e[e.length-1],dg(i),i.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Hj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},C=!y&&Fj(T)?new kj({...T,element:T.motionValue.owner.current}):new k0(T);C.finished.then(()=>this.notifyFinished()).catch(Yn),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Aj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Gj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kj(n){const e=Gj.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function gE(n,e,t=1){const[i,a]=Kj(n);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const u=c.trim();return L2(u)?parseFloat(u):u}return I0(a)?gE(a,e,t+1):a}function U0(n,e){return n?.[e]??n?.default??n}const yE=new Set(["width","height","top","left","right","bottom",...Ho]),Yj={test:n=>n==="auto",parse:n=>n},vE=n=>e=>e.test(n),xE=[Fo,be,Vs,Xi,LD,kD,Yj],r_=n=>xE.find(vE(n));function Xj(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||B2(n):!0}const Qj=new Set(["brightness","contrast","saturate","opacity"]);function $j(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(D0)||[];if(!i)return n;const a=t.replace(i,"");let c=Qj.has(e)?1:0;return i!==t&&(c*=100),e+"("+c+a+")"}const Wj=/\b([a-z-]*)\(.*?\)/gu,fg={...hr,getAnimatableNone:n=>{const e=n.match(Wj);return e?e.map($j).join(" "):n}},a_={...Fo,transform:Math.round},Zj={rotate:Xi,rotateX:Xi,rotateY:Xi,rotateZ:Xi,scale:Vh,scaleX:Vh,scaleY:Vh,scaleZ:Vh,skew:Xi,skewX:Xi,skewY:Xi,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Pc,originX:Yb,originY:Yb,originZ:be},B0={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...Zj,zIndex:a_,fillOpacity:Pc,strokeOpacity:Pc,numOctaves:a_},Jj={...B0,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:fg,WebkitFilter:fg},bE=n=>Jj[n];function _E(n,e){let t=bE(n);return t!==fg&&(t=hr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const eV=new Set(["auto","none","0"]);function tV(n,e,t){let i=0,a;for(;i<n.length&&!a;){const c=n[i];typeof c=="string"&&!eV.has(c)&&Oc(c).values.length&&(a=n[i]),i++}if(a&&t)for(const c of e)n[c]=_E(t,a)}class nV extends L0{constructor(e,t,i,a,c){super(e,t,i,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let y=e[g];if(typeof y=="string"&&(y=y.trim(),I0(y))){const x=gE(y,t.current);x!==void 0&&(e[g]=x),g===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!yE.has(i)||e.length!==2)return;const[a,c]=e,u=r_(a),f=r_(c);if(u!==f)if(t_(u)&&t_(f))for(let g=0;g<e.length;g++){const y=e[g];typeof y=="string"&&(e[g]=parseFloat(y))}else sa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||Xj(e[a]))&&i.push(a);i.length&&tV(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=sa[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,g])=>{e.getValue(f).set(g)}),this.resolveNoneKeyframes()}}function sV(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=t?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const wE=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function TE(n){return U2(n)&&"offsetHeight"in n}const o_=30,iV=n=>!isNaN(parseFloat(n));class rV{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=xn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new A0);const i=this.events[e].add(t);return e==="change"?()=>{i(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>o_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,o_);return z2(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vo(n,e){return new rV(n,e)}const{schedule:z0}=Z2(queueMicrotask,!1),ns={x:!1,y:!1};function EE(){return ns.x||ns.y}function aV(n){return n==="x"||n==="y"?ns[n]?null:(ns[n]=!0,()=>{ns[n]=!1}):ns.x||ns.y?null:(ns.x=ns.y=!0,()=>{ns.x=ns.y=!1})}function SE(n,e){const t=sV(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function l_(n){return!(n.pointerType==="touch"||EE())}function oV(n,e,t={}){const[i,a,c]=SE(n,t),u=f=>{if(!l_(f))return;const{target:g}=f,y=e(g,f);if(typeof y!="function"||!g)return;const x=_=>{l_(_)&&(y(_),g.removeEventListener("pointerleave",x))};g.addEventListener("pointerleave",x,a)};return i.forEach(f=>{f.addEventListener("pointerenter",u,a)}),c}const AE=(n,e)=>e?n===e?!0:AE(n,e.parentElement):!1,F0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,lV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cV(n){return lV.has(n.tagName)||n.tabIndex!==-1}const $h=new WeakSet;function c_(n){return e=>{e.key==="Enter"&&n(e)}}function yp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uV=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=c_(()=>{if($h.has(t))return;yp(t,"down");const a=c_(()=>{yp(t,"up")}),c=()=>yp(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",c,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function u_(n){return F0(n)&&!EE()}function hV(n,e,t={}){const[i,a,c]=SE(n,t),u=f=>{const g=f.currentTarget;if(!u_(f))return;$h.add(g);const y=e(g,f),x=(C,V)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),$h.has(g)&&$h.delete(g),u_(C)&&typeof y=="function"&&y(C,{success:V})},_=C=>{x(C,g===window||g===document||t.useGlobalTarget||AE(g,C.target))},T=C=>{x(C,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return i.forEach(f=>{(t.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),TE(f)&&(f.addEventListener("focus",y=>uV(y,a)),!cV(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),c}function RE(n){return U2(n)&&"ownerSVGElement"in n}function dV(n){return RE(n)&&n.tagName==="svg"}const an=n=>!!(n&&n.getVelocity),fV=[...xE,Tt,hr],mV=n=>fV.find(vE(n)),H0=I.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class pV extends I.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,a=TE(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=t.offsetHeight||0,c.width=t.offsetWidth||0,c.top=t.offsetTop,c.left=t.offsetLeft,c.right=a-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gV({children:n,isPresent:e,anchorX:t,root:i}){const a=I.useId(),c=I.useRef(null),u=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=I.useContext(H0);return I.useInsertionEffect(()=>{const{width:g,height:y,top:x,left:_,right:T}=u.current;if(e||!c.current||!g||!y)return;const C=t==="left"?`left: ${_}`:`right: ${T}`;c.current.dataset.motionPopId=a;const V=document.createElement("style");f&&(V.nonce=f);const U=i??document.head;return U.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${C}px !important;
            top: ${x}px !important;
          }
        `),()=>{U.contains(V)&&U.removeChild(V)}},[e]),m.jsx(pV,{isPresent:e,childRef:c,sizeRef:u,children:I.cloneElement(n,{ref:c})})}const yV=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:a,presenceAffectsLayout:c,mode:u,anchorX:f,root:g})=>{const y=b0(vV),x=I.useId();let _=!0,T=I.useMemo(()=>(_=!1,{id:x,initial:e,isPresent:t,custom:a,onExitComplete:C=>{y.set(C,!0);for(const V of y.values())if(!V)return;i&&i()},register:C=>(y.set(C,!1),()=>y.delete(C))}),[t,y,i]);return c&&_&&(T={...T}),I.useMemo(()=>{y.forEach((C,V)=>y.set(V,!1))},[t]),I.useEffect(()=>{!t&&!y.size&&i&&i()},[t]),u==="popLayout"&&(n=m.jsx(gV,{isPresent:t,anchorX:f,root:g,children:n})),m.jsx(qd.Provider,{value:T,children:n})};function vV(){return new Map}function NE(n=!0){const e=I.useContext(qd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,c=I.useId();I.useEffect(()=>{if(n)return a(c)},[n]);const u=I.useCallback(()=>n&&i&&i(c),[c,i,n]);return!t&&i?[!1,u]:[!0]}const Mh=n=>n.key||"";function h_(n){const e=[];return I.Children.forEach(n,t=>{I.isValidElement(t)&&e.push(t)}),e}const xV=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:c="sync",propagate:u=!1,anchorX:f="left",root:g})=>{const[y,x]=NE(u),_=I.useMemo(()=>h_(n),[n]),T=u&&!y?[]:_.map(Mh),C=I.useRef(!0),V=I.useRef(_),U=b0(()=>new Map),[B,K]=I.useState(_),[$,Q]=I.useState(_);k2(()=>{C.current=!1,V.current=_;for(let oe=0;oe<$.length;oe++){const P=Mh($[oe]);T.includes(P)?U.delete(P):U.get(P)!==!0&&U.set(P,!1)}},[$,T.length,T.join("-")]);const ae=[];if(_!==B){let oe=[..._];for(let P=0;P<$.length;P++){const E=$[P],A=Mh(E);T.includes(A)||(oe.splice(P,0,E),ae.push(E))}return c==="wait"&&ae.length&&(oe=ae),Q(h_(oe)),K(_),null}const{forceRender:re}=I.useContext(x0);return m.jsx(m.Fragment,{children:$.map(oe=>{const P=Mh(oe),E=u&&!y?!1:_===$||T.includes(P),A=()=>{if(U.has(P))U.set(P,!0);else return;let N=!0;U.forEach(D=>{D||(N=!1)}),N&&(re?.(),Q(V.current),u&&x?.(),i&&i())};return m.jsx(yV,{isPresent:E,initial:!C.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:c,root:g,onExitComplete:E?void 0:A,anchorX:f,children:oe},P)})})},CE=I.createContext({strict:!1}),d_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mo={};for(const n in d_)Mo[n]={isEnabled:e=>d_[n].some(t=>!!e[t])};function bV(n){for(const e in n)Mo[e]={...Mo[e],...n[e]}}const _V=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||_V.has(n)}let IE=n=>!Sd(n);function wV(n){typeof n=="function"&&(IE=e=>e.startsWith("on")?!Sd(e):n(e))}try{wV(require("@emotion/is-prop-valid").default)}catch{}function TV(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(IE(a)||t===!0&&Sd(a)||!e&&!Sd(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const Gd=I.createContext({});function Kd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function kc(n){return typeof n=="string"||Array.isArray(n)}const q0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G0=["initial",...q0];function Yd(n){return Kd(n.animate)||G0.some(e=>kc(n[e]))}function DE(n){return!!(Yd(n)||n.variants)}function EV(n,e){if(Yd(n)){const{initial:t,animate:i}=n;return{initial:t===!1||kc(t)?t:void 0,animate:kc(i)?i:void 0}}return n.inherit!==!1?e:{}}function SV(n){const{initial:e,animate:t}=EV(n,I.useContext(Gd));return I.useMemo(()=>({initial:e,animate:t}),[f_(e),f_(t)])}function f_(n){return Array.isArray(n)?n.join(" "):n}const Lc={};function AV(n){for(const e in n)Lc[e]=n[e],C0(e)&&(Lc[e].isCSSVariable=!0)}function jE(n,{layout:e,layoutId:t}){return qo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Lc[n]||n==="opacity")}const RV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NV=Ho.length;function CV(n,e,t){let i="",a=!0;for(let c=0;c<NV;c++){const u=Ho[c],f=n[u];if(f===void 0)continue;let g=!0;if(typeof f=="number"?g=f===(u.startsWith("scale")?1:0):g=parseFloat(f)===0,!g||t){const y=wE(f,B0[u]);if(!g){a=!1;const x=RV[u]||u;i+=`${x}(${y}) `}t&&(e[u]=y)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function K0(n,e,t){const{style:i,vars:a,transformOrigin:c}=n;let u=!1,f=!1;for(const g in e){const y=e[g];if(qo.has(g)){u=!0;continue}else if(C0(g)){a[g]=y;continue}else{const x=wE(y,B0[g]);g.startsWith("origin")?(f=!0,c[g]=x):i[g]=x}}if(e.transform||(u||t?i.transform=CV(e,n.transform,t):i.transform&&(i.transform="none")),f){const{originX:g="50%",originY:y="50%",originZ:x=0}=c;i.transformOrigin=`${g} ${y} ${x}`}}const Y0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VE(n,e,t){for(const i in e)!an(e[i])&&!jE(i,t)&&(n[i]=e[i])}function IV({transformTemplate:n},e){return I.useMemo(()=>{const t=Y0();return K0(t,e,n),Object.assign({},t.vars,t.style)},[e])}function DV(n,e){const t=n.style||{},i={};return VE(i,t,n),Object.assign(i,IV(n,e)),i}function jV(n,e){const t={},i=DV(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const VV={offset:"stroke-dashoffset",array:"stroke-dasharray"},MV={offset:"strokeDashoffset",array:"strokeDasharray"};function PV(n,e,t=1,i=0,a=!0){n.pathLength=1;const c=a?VV:MV;n[c.offset]=be.transform(-i);const u=be.transform(e),f=be.transform(t);n[c.array]=`${u} ${f}`}function ME(n,{attrX:e,attrY:t,attrScale:i,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...f},g,y,x){if(K0(n,f,y),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:T}=n;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=x?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),i!==void 0&&(_.scale=i),a!==void 0&&PV(_,a,c,u,!1)}const PE=()=>({...Y0(),attrs:{}}),OE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function OV(n,e,t,i){const a=I.useMemo(()=>{const c=PE();return ME(c,e,OE(i),n.transformTemplate,n.style),{...c.attrs,style:{...c.style}}},[e]);if(n.style){const c={};VE(c,n.style,n),a.style={...c,...a.style}}return a}const kV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function X0(n){return typeof n!="string"||n.includes("-")?!1:!!(kV.indexOf(n)>-1||/[A-Z]/u.test(n))}function LV(n,e,t,{latestValues:i},a,c=!1){const f=(X0(n)?OV:jV)(e,i,a,n),g=TV(e,typeof n=="string",c),y=n!==I.Fragment?{...g,...f,ref:t}:{},{children:x}=e,_=I.useMemo(()=>an(x)?x.get():x,[x]);return I.createElement(n,{...y,children:_})}function m_(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Q0(n,e,t,i){if(typeof e=="function"){const[a,c]=m_(i);e=e(t!==void 0?t:n.custom,a,c)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,c]=m_(i);e=e(t!==void 0?t:n.custom,a,c)}return e}function Wh(n){return an(n)?n.get():n}function UV({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,a){return{latestValues:BV(t,i,a,n),renderState:e()}}function BV(n,e,t,i){const a={},c=i(n,{});for(const T in c)a[T]=Wh(c[T]);let{initial:u,animate:f}=n;const g=Yd(n),y=DE(n);e&&y&&!g&&n.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let x=t?t.initial===!1:!1;x=x||u===!1;const _=x?f:u;if(_&&typeof _!="boolean"&&!Kd(_)){const T=Array.isArray(_)?_:[_];for(let C=0;C<T.length;C++){const V=Q0(n,T[C]);if(V){const{transitionEnd:U,transition:B,...K}=V;for(const $ in K){let Q=K[$];if(Array.isArray(Q)){const ae=x?Q.length-1:0;Q=Q[ae]}Q!==null&&(a[$]=Q)}for(const $ in U)a[$]=U[$]}}}return a}const kE=n=>(e,t)=>{const i=I.useContext(Gd),a=I.useContext(qd),c=()=>UV(n,e,i,a);return t?c():b0(c)};function $0(n,e,t){const{style:i}=n,a={};for(const c in i)(an(i[c])||e.style&&an(e.style[c])||jE(c,n)||t?.getValue(c)?.liveStyle!==void 0)&&(a[c]=i[c]);return a}const zV=kE({scrapeMotionValuesFromProps:$0,createRenderState:Y0});function LE(n,e,t){const i=$0(n,e,t);for(const a in n)if(an(n[a])||an(e[a])){const c=Ho.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[c]=n[a]}return i}const FV=kE({scrapeMotionValuesFromProps:LE,createRenderState:PE}),HV=Symbol.for("motionComponentSymbol");function fo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function qV(n,e,t){return I.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):fo(t)&&(t.current=i))},[e])}const W0=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GV="framerAppearId",UE="data-"+W0(GV),BE=I.createContext({});function KV(n,e,t,i,a){const{visualElement:c}=I.useContext(Gd),u=I.useContext(CE),f=I.useContext(qd),g=I.useContext(H0).reducedMotion,y=I.useRef(null);i=i||u.renderer,!y.current&&i&&(y.current=i(n,{visualState:e,parent:c,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const x=y.current,_=I.useContext(BE);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&YV(y.current,t,a,_);const T=I.useRef(!1);I.useInsertionEffect(()=>{x&&T.current&&x.update(t,f)});const C=t[UE],V=I.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return k2(()=>{x&&(T.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),V.current&&x.animationState&&x.animationState.animateChanges())}),I.useEffect(()=>{x&&(!V.current&&x.animationState&&x.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),V.current=!1),x.enteringChildren=void 0)}),x}function YV(n,e,t,i){const{layoutId:a,layout:c,drag:u,dragConstraints:f,layoutScroll:g,layoutRoot:y,layoutCrossfade:x}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:zE(n.parent)),n.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!u||f&&fo(f),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:g,layoutRoot:y})}function zE(n){if(n)return n.options.allowProjection!==!1?n.projection:zE(n.parent)}function vp(n,{forwardMotionProps:e=!1}={},t,i){t&&bV(t);const a=X0(n)?FV:zV;function c(f,g){let y;const x={...I.useContext(H0),...f,layoutId:XV(f)},{isStatic:_}=x,T=SV(f),C=a(f,_);if(!_&&_0){QV();const V=$V(x);y=V.MeasureLayout,T.visualElement=KV(n,C,x,i,V.ProjectionNode)}return m.jsxs(Gd.Provider,{value:T,children:[y&&T.visualElement?m.jsx(y,{visualElement:T.visualElement,...x}):null,LV(n,f,qV(C,T.visualElement,g),C,_,e)]})}c.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=I.forwardRef(c);return u[HV]=n,u}function XV({layoutId:n}){const e=I.useContext(x0).id;return e&&n!==void 0?e+"-"+n:n}function QV(n,e){I.useContext(CE).strict}function $V(n){const{drag:e,layout:t}=Mo;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function WV(n,e){if(typeof Proxy>"u")return vp;const t=new Map,i=(c,u)=>vp(c,u,n,e),a=(c,u)=>i(c,u);return new Proxy(a,{get:(c,u)=>u==="create"?i:(t.has(u)||t.set(u,vp(u,void 0,n,e)),t.get(u))})}function FE({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function ZV({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function JV(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function xp(n){return n===void 0||n===1}function mg({scale:n,scaleX:e,scaleY:t}){return!xp(n)||!xp(e)||!xp(t)}function Qr(n){return mg(n)||HE(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function HE(n){return p_(n.x)||p_(n.y)}function p_(n){return n&&n!=="0%"}function Ad(n,e,t){const i=n-t,a=e*i;return t+a}function g_(n,e,t,i,a){return a!==void 0&&(n=Ad(n,a,i)),Ad(n,t,i)+e}function pg(n,e=0,t=1,i,a){n.min=g_(n.min,e,t,i,a),n.max=g_(n.max,e,t,i,a)}function qE(n,{x:e,y:t}){pg(n.x,e.translate,e.scale,e.originPoint),pg(n.y,t.translate,t.scale,t.originPoint)}const y_=.999999999999,v_=1.0000000000001;function eM(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let c,u;for(let f=0;f<a;f++){c=t[f],u=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&po(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,qE(n,u)),i&&Qr(c.latestValues)&&po(n,c.latestValues))}e.x<v_&&e.x>y_&&(e.x=1),e.y<v_&&e.y>y_&&(e.y=1)}function mo(n,e){n.min=n.min+e,n.max=n.max+e}function x_(n,e,t,i,a=.5){const c=at(n.min,n.max,a);pg(n,e,t,c,i)}function po(n,e){x_(n.x,e.x,e.scaleX,e.scale,e.originX),x_(n.y,e.y,e.scaleY,e.scale,e.originY)}function GE(n,e){return FE(JV(n.getBoundingClientRect(),e))}function tM(n,e,t){const i=GE(n,t),{scroll:a}=e;return a&&(mo(i.x,a.offset.x),mo(i.y,a.offset.y)),i}const b_=()=>({translate:0,scale:1,origin:0,originPoint:0}),go=()=>({x:b_(),y:b_()}),__=()=>({min:0,max:0}),gt=()=>({x:__(),y:__()}),gg={current:null},KE={current:!1};function nM(){if(KE.current=!0,!!_0)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>gg.current=n.matches;n.addEventListener("change",e),e()}else gg.current=!1}const sM=new WeakMap;function iM(n,e,t){for(const i in e){const a=e[i],c=t[i];if(an(a))n.addValue(i,a);else if(an(c))n.addValue(i,Vo(a,{owner:n}));else if(c!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,Vo(u!==void 0?u:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const w_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rM{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:c,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=L0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=xn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,nt.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=u;this.latestValues=g,this.baseTarget={...g},this.initialValues=t.initial?{...g}:{},this.renderState=y,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=Yd(t),this.isVariantNode=DE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const T in _){const C=_[T];g[T]!==void 0&&an(C)&&C.set(g[T])}}mount(e){this.current=e,sM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),KE.current||nM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ur(this.notifyUpdate),ur(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=qo.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&nt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),c&&c(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Mo){const t=Mo[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<w_.length;i++){const a=w_[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,u=e[c];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=iM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Vo(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(L2(i)||B2(i))?i=parseFloat(i):!mV(i)&&hr.test(t)&&(i=_E(e,t)),this.setBaseTarget(e,an(i)?i.get():i)),an(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const c=Q0(this.props,t,this.presenceContext?.custom);c&&(i=c[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!an(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new A0),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){z0.render(this.render)}}class YE extends rM{constructor(){super(...arguments),this.KeyframeResolver=nV}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;an(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function XE(n,{style:e,vars:t},i,a){const c=n.style;let u;for(u in e)c[u]=e[u];a?.applyProjectionStyles(c,i);for(u in t)c.setProperty(u,t[u])}function aM(n){return window.getComputedStyle(n)}class oM extends YE{constructor(){super(...arguments),this.type="html",this.renderInstance=XE}readValueFromInstance(e,t){if(qo.has(t))return this.projection?.isProjecting?og(t):_j(e,t);{const i=aM(e),a=(C0(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return GE(e,t)}build(e,t,i){K0(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return $0(e,t,i)}}const QE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lM(n,e,t,i){XE(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(QE.has(a)?a:W0(a),e.attrs[a])}class cM extends YE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(qo.has(t)){const i=bE(t);return i&&i.default||0}return t=QE.has(t)?t:W0(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return LE(e,t,i)}build(e,t,i){ME(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,a){lM(e,t,i,a)}mount(e){this.isSVGTag=OE(e.tagName),super.mount(e)}}const uM=(n,e)=>X0(n)?new cM(e):new oM(e,{allowProjection:n!==I.Fragment});function _o(n,e,t){const i=n.getProps();return Q0(i,e,t!==void 0?t:i.custom,n)}const yg=n=>Array.isArray(n);function hM(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Vo(t))}function dM(n){return yg(n)?n[n.length-1]||0:n}function fM(n,e){const t=_o(n,e);let{transitionEnd:i={},transition:a={},...c}=t||{};c={...c,...i};for(const u in c){const f=dM(c[u]);hM(n,u,f)}}function mM(n){return!!(an(n)&&n.add)}function vg(n,e){const t=n.getValue("willChange");if(mM(t))return t.add(e);if(!t&&yi.WillChange){const i=new yi.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function $E(n){return n.props[UE]}const pM=n=>n!==null;function gM(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(pM),c=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[c]}const yM={type:"spring",stiffness:500,damping:25,restSpeed:10},vM=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),xM={type:"keyframes",duration:.8},bM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_M=(n,{keyframes:e})=>e.length>2?xM:qo.has(n)?n.startsWith("scale")?vM(e[1]):yM:bM;function wM({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:c,repeatType:u,repeatDelay:f,from:g,elapsed:y,...x}){return!!Object.keys(x).length}const Z0=(n,e,t,i={},a,c)=>u=>{const f=U0(i,n)||{},g=f.delay||i.delay||0;let{elapsed:y=0}=i;y=y-Ds(g);const x={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-y,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:c?void 0:a};wM(f)||Object.assign(x,_M(n,x)),x.duration&&(x.duration=Ds(x.duration)),x.repeatDelay&&(x.repeatDelay=Ds(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let _=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(dg(x),x.delay===0&&(_=!0)),(yi.instantAnimations||yi.skipAnimations)&&(_=!0,dg(x),x.delay=0),x.allowFlatten=!f.type&&!f.ease,_&&!c&&e.get()!==void 0){const T=gM(x.keyframes,f);if(T!==void 0){nt.update(()=>{x.onUpdate(T),x.onComplete()});return}}return f.isSync?new k0(x):new qj(x)};function TM({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function WE(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:c=n.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(c=i);const g=[],y=a&&n.animationState&&n.animationState.getState()[a];for(const x in f){const _=n.getValue(x,n.latestValues[x]??null),T=f[x];if(T===void 0||y&&TM(y,x))continue;const C={delay:t,...U0(c||{},x)},V=_.get();if(V!==void 0&&!_.isAnimating&&!Array.isArray(T)&&T===V&&!C.velocity)continue;let U=!1;if(window.MotionHandoffAnimation){const K=$E(n);if(K){const $=window.MotionHandoffAnimation(K,x,nt);$!==null&&(C.startTime=$,U=!0)}}vg(n,x),_.start(Z0(x,_,T,n.shouldReduceMotion&&yE.has(x)?{type:!1}:C,n,U));const B=_.animation;B&&g.push(B)}return u&&Promise.all(g).then(()=>{nt.update(()=>{u&&fM(n,u)})}),g}function ZE(n,e,t,i=0,a=1){const c=Array.from(n).sort((y,x)=>y.sortNodePosition(x)).indexOf(e),u=n.size,f=(u-1)*i;return typeof t=="function"?t(c,u):a===1?c*i:f-c*i}function xg(n,e,t={}){const i=_o(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const c=i?()=>Promise.all(WE(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:x,staggerDirection:_}=a;return EM(n,e,g,y,x,_,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[g,y]=f==="beforeChildren"?[c,u]:[u,c];return g().then(()=>y())}else return Promise.all([c(),u(t.delay)])}function EM(n,e,t=0,i=0,a=0,c=1,u){const f=[];for(const g of n.variantChildren)g.notify("AnimationStart",e),f.push(xg(g,e,{...u,delay:t+(typeof i=="function"?0:i)+ZE(n.variantChildren,g,i,a,c)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(f)}function SM(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(c=>xg(n,c,t));i=Promise.all(a)}else if(typeof e=="string")i=xg(n,e,t);else{const a=typeof e=="function"?_o(n,e,t.custom):e;i=Promise.all(WE(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function JE(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const AM=G0.length;function eS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?eS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<AM;t++){const i=G0[t],a=n.props[i];(kc(a)||a===!1)&&(e[i]=a)}return e}const RM=[...q0].reverse(),NM=q0.length;function CM(n){return e=>Promise.all(e.map(({animation:t,options:i})=>SM(n,t,i)))}function IM(n){let e=CM(n),t=T_(),i=!0;const a=g=>(y,x)=>{const _=_o(n,x,g==="exit"?n.presenceContext?.custom:void 0);if(_){const{transition:T,transitionEnd:C,...V}=_;y={...y,...V,...C}}return y};function c(g){e=g(n)}function u(g){const{props:y}=n,x=eS(n.parent)||{},_=[],T=new Set;let C={},V=1/0;for(let B=0;B<NM;B++){const K=RM[B],$=t[K],Q=y[K]!==void 0?y[K]:x[K],ae=kc(Q),re=K===g?$.isActive:null;re===!1&&(V=B);let oe=Q===x[K]&&Q!==y[K]&&ae;if(oe&&i&&n.manuallyAnimateOnMount&&(oe=!1),$.protectedKeys={...C},!$.isActive&&re===null||!Q&&!$.prevProp||Kd(Q)||typeof Q=="boolean")continue;const P=DM($.prevProp,Q);let E=P||K===g&&$.isActive&&!oe&&ae||B>V&&ae,A=!1;const N=Array.isArray(Q)?Q:[Q];let D=N.reduce(a(K),{});re===!1&&(D={});const{prevResolvedValues:O={}}=$,j={...O,...D},Ie=J=>{E=!0,T.has(J)&&(A=!0,T.delete(J)),$.needsAnimating[J]=!0;const ie=n.getValue(J);ie&&(ie.liveStyle=!1)};for(const J in j){const ie=D[J],me=O[J];if(C.hasOwnProperty(J))continue;let ve=!1;yg(ie)&&yg(me)?ve=!JE(ie,me):ve=ie!==me,ve?ie!=null?Ie(J):T.add(J):ie!==void 0&&T.has(J)?Ie(J):$.protectedKeys[J]=!0}$.prevProp=Q,$.prevResolvedValues=D,$.isActive&&(C={...C,...D}),i&&n.blockInitialAnimation&&(E=!1);const Ee=oe&&P;E&&(!Ee||A)&&_.push(...N.map(J=>{const ie={type:K};if(typeof J=="string"&&i&&!Ee&&n.manuallyAnimateOnMount&&n.parent){const{parent:me}=n,ve=_o(me,J);if(me.enteringChildren&&ve){const{delayChildren:We}=ve.transition||{};ie.delay=ZE(me.enteringChildren,n,We)}}return{animation:J,options:ie}}))}if(T.size){const B={};if(typeof y.initial!="boolean"){const K=_o(n,Array.isArray(y.initial)?y.initial[0]:y.initial);K&&K.transition&&(B.transition=K.transition)}T.forEach(K=>{const $=n.getBaseTarget(K),Q=n.getValue(K);Q&&(Q.liveStyle=!0),B[K]=$??null}),_.push({animation:B})}let U=!!_.length;return i&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(U=!1),i=!1,U?e(_):Promise.resolve()}function f(g,y){if(t[g].isActive===y)return Promise.resolve();n.variantChildren?.forEach(_=>_.animationState?.setActive(g,y)),t[g].isActive=y;const x=u(g);for(const _ in t)t[_].protectedKeys={};return x}return{animateChanges:u,setActive:f,setAnimateFunction:c,getState:()=>t,reset:()=>{t=T_(),i=!0}}}function DM(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!JE(e,n):!1}function Yr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function T_(){return{animate:Yr(!0),whileInView:Yr(),whileHover:Yr(),whileTap:Yr(),whileDrag:Yr(),whileFocus:Yr(),exit:Yr()}}class dr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jM extends dr{constructor(e){super(e),e.animationState||(e.animationState=IM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let VM=0;class MM extends dr{constructor(){super(...arguments),this.id=VM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PM={animation:{Feature:jM},exit:{Feature:MM}};function Uc(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function eu(n){return{point:{x:n.pageX,y:n.pageY}}}const OM=n=>e=>F0(e)&&n(e,eu(e));function xc(n,e,t,i){return Uc(n,e,OM(t),i)}const tS=1e-4,kM=1-tS,LM=1+tS,nS=.01,UM=0-nS,BM=0+nS;function fn(n){return n.max-n.min}function zM(n,e,t){return Math.abs(n-e)<=t}function E_(n,e,t,i=.5){n.origin=i,n.originPoint=at(e.min,e.max,n.origin),n.scale=fn(t)/fn(e),n.translate=at(t.min,t.max,n.origin)-n.originPoint,(n.scale>=kM&&n.scale<=LM||isNaN(n.scale))&&(n.scale=1),(n.translate>=UM&&n.translate<=BM||isNaN(n.translate))&&(n.translate=0)}function bc(n,e,t,i){E_(n.x,e.x,t.x,i?i.originX:void 0),E_(n.y,e.y,t.y,i?i.originY:void 0)}function S_(n,e,t){n.min=t.min+e.min,n.max=n.min+fn(e)}function FM(n,e,t){S_(n.x,e.x,t.x),S_(n.y,e.y,t.y)}function A_(n,e,t){n.min=e.min-t.min,n.max=n.min+fn(e)}function _c(n,e,t){A_(n.x,e.x,t.x),A_(n.y,e.y,t.y)}function qn(n){return[n("x"),n("y")]}const sS=({current:n})=>n?n.ownerDocument.defaultView:null,R_=(n,e)=>Math.abs(n-e);function HM(n,e){const t=R_(n.x,e.x),i=R_(n.y,e.y);return Math.sqrt(t**2+i**2)}class iS{constructor(e,t,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=_p(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,V=HM(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!V)return;const{point:U}=T,{timestamp:B}=Yt;this.history.push({...U,timestamp:B});const{onStart:K,onMove:$}=this.handlers;C||(K&&K(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,T)},this.handlePointerMove=(T,C)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=bp(C,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(T,C)=>{this.end();const{onEnd:V,onSessionEnd:U,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const K=_p(T.type==="pointercancel"?this.lastMoveEventInfo:bp(C,this.transformPagePoint),this.history);this.startEvent&&V&&V(T,K),U&&U(T,K)},!F0(e))return;this.dragSnapToOrigin=c,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const f=eu(e),g=bp(f,this.transformPagePoint),{point:y}=g,{timestamp:x}=Yt;this.history=[{...y,timestamp:x}];const{onSessionStart:_}=t;_&&_(e,_p(g,this.history)),this.removeListeners=Wc(xc(this.contextWindow,"pointermove",this.handlePointerMove),xc(this.contextWindow,"pointerup",this.handlePointerUp),xc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ur(this.updatePoint)}}function bp(n,e){return e?{point:e(n.point)}:n}function N_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function _p({point:n},e){return{point:n,delta:N_(n,rS(e)),offset:N_(n,qM(e)),velocity:GM(e,.1)}}function qM(n){return n[0]}function rS(n){return n[n.length-1]}function GM(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=rS(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>Ds(e)));)t--;if(!i)return{x:0,y:0};const c=js(a.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(a.x-i.x)/c,y:(a.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function KM(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?at(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?at(t,n,i.max):Math.min(n,t)),n}function C_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function YM(n,{top:e,left:t,bottom:i,right:a}){return{x:C_(n.x,t,a),y:C_(n.y,e,i)}}function I_(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function XM(n,e){return{x:I_(n.x,e.x),y:I_(n.y,e.y)}}function QM(n,e){let t=.5;const i=fn(n),a=fn(e);return a>i?t=Mc(e.min,e.max-i,n.min):i>a&&(t=Mc(n.min,n.max-a,e.min)),gi(0,1,t)}function $M(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const bg=.35;function WM(n=bg){return n===!1?n=0:n===!0&&(n=bg),{x:D_(n,"left","right"),y:D_(n,"top","bottom")}}function D_(n,e,t){return{min:j_(n,e),max:j_(n,t)}}function j_(n,e){return typeof n=="number"?n:n[e]||0}const ZM=new WeakMap;class JM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const c=_=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(eu(_).point)},u=(_,T)=>{const{drag:C,dragPropagation:V,onDragStart:U}=this.getProps();if(C&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aV(C),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(K=>{let $=this.getAxisMotionValue(K).get()||0;if(Vs.test($)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const ae=Q.layout.layoutBox[K];ae&&($=fn(ae)*(parseFloat($)/100))}}this.originPoint[K]=$}),U&&nt.postRender(()=>U(_,T)),vg(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},f=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T;const{dragPropagation:C,dragDirectionLock:V,onDirectionLock:U,onDrag:B}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:K}=T;if(V&&this.currentDirection===null){this.currentDirection=eP(K),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",T.point,K),this.updateAxis("y",T.point,K),this.visualElement.render(),B&&B(_,T)},g=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T,this.stop(_,T),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>qn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new iS(e,{onSessionStart:c,onStart:u,onMove:f,onSessionEnd:g,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:sS(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,a=t||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&nt.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!Ph(e,a,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=KM(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&fo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=YM(i.layoutBox,e):this.constraints=!1,this.elastic=WM(t),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=$M(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!fo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=tM(i,a.root,this.visualElement.getTransformPagePoint());let u=XM(a.layout.layoutBox,c);if(t){const f=t(ZV(u));this.hasMutatedConstraints=!!f,f&&(u=FE(f))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),g=this.constraints||{},y=qn(x=>{if(!Ph(x,t,this.currentDirection))return;let _=g&&g[x]||{};u&&(_={min:0,max:0});const T=a?200:1e6,C=a?40:1e7,V={type:"inertia",velocity:i?e[x]:0,bounceStiffness:T,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...c,..._};return this.startAxisValueAnimation(x,V)});return Promise.all(y).then(f)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return vg(this.visualElement,e),i.start(Z0(e,i,0,t,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){qn(t=>{const{drag:i}=this.getProps();if(!Ph(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(t);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[t];c.set(e[t]-at(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!fo(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};qn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const g=f.get();a[u]=QM({min:g,max:g},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),qn(u=>{if(!Ph(u,e,null))return;const f=this.getAxisMotionValue(u),{min:g,max:y}=this.constraints[u];f.set(at(g,y,a[u]))})}addListeners(){if(!this.visualElement.current)return;ZM.set(this.visualElement,this);const e=this.visualElement.current,t=xc(e,"pointerdown",g=>{const{drag:y,dragListener:x=!0}=this.getProps();y&&x&&this.start(g)}),i=()=>{const{dragConstraints:g}=this.getProps();fo(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),nt.read(i);const u=Uc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(qn(x=>{const _=this.getAxisMotionValue(x);_&&(this.originPoint[x]+=g[x].translate,_.set(_.get()+g[x].translate))}),this.visualElement.render())});return()=>{u(),t(),c(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:u=bg,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:c,dragElastic:u,dragMomentum:f}}}function Ph(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function eP(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class tP extends dr{constructor(e){super(e),this.removeGroupControls=Yn,this.removeListeners=Yn,this.controls=new JM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const V_=n=>(e,t)=>{n&&nt.postRender(()=>n(e,t))};class nP extends dr{constructor(){super(...arguments),this.removePointerDownListener=Yn}onPointerDown(e){this.session=new iS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:V_(e),onStart:V_(t),onMove:i,onEnd:(c,u)=>{delete this.session,a&&nt.postRender(()=>a(c,u))}}}mount(){this.removePointerDownListener=xc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function M_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const nc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(be.test(n))n=parseFloat(n);else return n;const t=M_(n,e.target.x),i=M_(n,e.target.y);return`${t}% ${i}%`}},sP={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=hr.parse(n);if(a.length>5)return i;const c=hr.createTransformer(n),u=typeof a[0]!="number"?1:0,f=t.x.scale*e.x,g=t.y.scale*e.y;a[0+u]/=f,a[1+u]/=g;const y=at(f,g,.5);return typeof a[2+u]=="number"&&(a[2+u]/=y),typeof a[3+u]=="number"&&(a[3+u]/=y),c(a)}};let wp=!1;class iP extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:c}=e;AV(rP),c&&(t.group&&t.group.add(c),i&&i.register&&a&&i.register(c),wp&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,wp=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||nt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),z0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;wp=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aS(n){const[e,t]=NE(),i=I.useContext(x0);return m.jsx(iP,{...n,layoutGroup:i,switchLayoutGroup:I.useContext(BE),isPresent:e,safeToRemove:t})}const rP={borderRadius:{...nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nc,borderTopRightRadius:nc,borderBottomLeftRadius:nc,borderBottomRightRadius:nc,boxShadow:sP};function aP(n,e,t){const i=an(n)?n:Vo(n);return i.start(Z0("",i,e,t)),i.animation}const oP=(n,e)=>n.depth-e.depth;class lP{constructor(){this.children=[],this.isDirty=!1}add(e){w0(this.children,e),this.isDirty=!0}remove(e){T0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oP),this.isDirty=!1,this.children.forEach(e)}}function cP(n,e){const t=xn.now(),i=({timestamp:a})=>{const c=a-t;c>=e&&(ur(i),n(c-e))};return nt.setup(i,!0),()=>ur(i)}const oS=["TopLeft","TopRight","BottomLeft","BottomRight"],uP=oS.length,P_=n=>typeof n=="string"?parseFloat(n):n,O_=n=>typeof n=="number"||be.test(n);function hP(n,e,t,i,a,c){a?(n.opacity=at(0,t.opacity??1,dP(i)),n.opacityExit=at(e.opacity??1,0,fP(i))):c&&(n.opacity=at(e.opacity??1,t.opacity??1,i));for(let u=0;u<uP;u++){const f=`border${oS[u]}Radius`;let g=k_(e,f),y=k_(t,f);if(g===void 0&&y===void 0)continue;g||(g=0),y||(y=0),g===0||y===0||O_(g)===O_(y)?(n[f]=Math.max(at(P_(g),P_(y),i),0),(Vs.test(y)||Vs.test(g))&&(n[f]+="%")):n[f]=y}(e.rotate||t.rotate)&&(n.rotate=at(e.rotate||0,t.rotate||0,i))}function k_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const dP=lS(0,.5,X2),fP=lS(.5,.95,Yn);function lS(n,e,t){return i=>i<n?0:i>e?1:t(Mc(n,e,i))}function L_(n,e){n.min=e.min,n.max=e.max}function Hn(n,e){L_(n.x,e.x),L_(n.y,e.y)}function U_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function B_(n,e,t,i,a){return n-=e,n=Ad(n,1/t,i),a!==void 0&&(n=Ad(n,1/a,i)),n}function mP(n,e=0,t=1,i=.5,a,c=n,u=n){if(Vs.test(e)&&(e=parseFloat(e),e=at(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=at(c.min,c.max,i);n===c&&(f-=e),n.min=B_(n.min,e,t,f,a),n.max=B_(n.max,e,t,f,a)}function z_(n,e,[t,i,a],c,u){mP(n,e[t],e[i],e[a],e.scale,c,u)}const pP=["x","scaleX","originX"],gP=["y","scaleY","originY"];function F_(n,e,t,i){z_(n.x,e,pP,t?t.x:void 0,i?i.x:void 0),z_(n.y,e,gP,t?t.y:void 0,i?i.y:void 0)}function H_(n){return n.translate===0&&n.scale===1}function cS(n){return H_(n.x)&&H_(n.y)}function q_(n,e){return n.min===e.min&&n.max===e.max}function yP(n,e){return q_(n.x,e.x)&&q_(n.y,e.y)}function G_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function uS(n,e){return G_(n.x,e.x)&&G_(n.y,e.y)}function K_(n){return fn(n.x)/fn(n.y)}function Y_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class vP{constructor(){this.members=[]}add(e){w0(this.members,e),e.scheduleRender()}remove(e){if(T0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xP(n,e,t){let i="";const a=n.x.translate/e.x,c=n.y.translate/e.y,u=t?.z||0;if((a||c||u)&&(i=`translate3d(${a}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:y,rotate:x,rotateX:_,rotateY:T,skewX:C,skewY:V}=t;y&&(i=`perspective(${y}px) ${i}`),x&&(i+=`rotate(${x}deg) `),_&&(i+=`rotateX(${_}deg) `),T&&(i+=`rotateY(${T}deg) `),C&&(i+=`skewX(${C}deg) `),V&&(i+=`skewY(${V}deg) `)}const f=n.x.scale*e.x,g=n.y.scale*e.y;return(f!==1||g!==1)&&(i+=`scale(${f}, ${g})`),i||"none"}const Tp=["","X","Y","Z"],bP=1e3;let _P=0;function Ep(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function hS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=$E(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",nt,!(a||c))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&hS(i)}function dS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=_P++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EP),this.nodes.forEach(NP),this.nodes.forEach(CP),this.nodes.forEach(SP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new lP)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new A0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const g=this.eventHandlers.get(u);g&&g.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=RE(u)&&!dV(u),this.instance=u;const{layoutId:f,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||f)&&(this.isLayoutDirty=!0),n){let x,_=0;const T=()=>this.root.updateBlockedByResize=!1;nt.read(()=>{_=window.innerWidth}),n(u,()=>{const C=window.innerWidth;C!==_&&(_=C,this.root.updateBlockedByResize=!0,x&&x(),x=cP(T,250),Zh.hasAnimatedSinceResize&&(Zh.hasAnimatedSinceResize=!1,this.nodes.forEach($_)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||g)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||y.getDefaultTransition()||MP,{onLayoutAnimationStart:U,onLayoutAnimationComplete:B}=y.getProps(),K=!this.targetLayout||!uS(this.targetLayout,C),$=!_&&T;if(this.options.layoutRoot||this.resumeFrom||$||_&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...U0(V,"layout"),onPlay:U,onComplete:B};(y.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(x,$)}else _||$_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const _=this.path[x];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:g}=this.options;if(f===void 0&&!g)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(X_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Q_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(RP),this.nodes.forEach(wP),this.nodes.forEach(TP)):this.nodes.forEach(Q_),this.clearAllSnapshots();const f=xn.now();Yt.delta=gi(0,1e3/60,f-Yt.timestamp),Yt.timestamp=f,Yt.isProcessing=!0,dp.update.process(Yt),dp.preRender.process(Yt),dp.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,z0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AP),this.sharedNodes.forEach(DP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const g=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!cS(this.projectionDelta),g=this.getTransformTemplate(),y=g?g(this.latestValues,""):void 0,x=y!==this.prevTransformTemplateValue;u&&this.instance&&(f||Qr(this.latestValues)||x)&&(a(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let g=this.removeElementScroll(f);return u&&(g=this.removeTransform(g)),PP(g),{animationId:this.root.animationId,measuredBox:f,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return gt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(OP))){const{scroll:y}=this.root;y&&(mo(f.x,y.offset.x),mo(f.y,y.offset.y))}return f}removeElementScroll(u){const f=gt();if(Hn(f,u),this.scroll?.wasRoot)return f;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:x,options:_}=y;y!==this.root&&x&&_.layoutScroll&&(x.wasRoot&&Hn(f,u),mo(f.x,x.offset.x),mo(f.y,x.offset.y))}return f}applyTransform(u,f=!1){const g=gt();Hn(g,u);for(let y=0;y<this.path.length;y++){const x=this.path[y];!f&&x.options.layoutScroll&&x.scroll&&x!==x.root&&po(g,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Qr(x.latestValues)&&po(g,x.latestValues)}return Qr(this.latestValues)&&po(g,this.latestValues),g}removeTransform(u){const f=gt();Hn(f,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];if(!y.instance||!Qr(y.latestValues))continue;mg(y.latestValues)&&y.updateSnapshot();const x=gt(),_=y.measurePageBox();Hn(x,_),F_(f,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,x)}return Qr(this.latestValues)&&F_(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==f;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:_}=this.options;if(!(!this.layout||!(x||_))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),_c(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),qE(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),_c(this.relativeTargetOrigin,this.target,T.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||mg(this.parent.latestValues)||HE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(g=!1),g)return;const{layout:y,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||x))return;Hn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;eM(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=gt());const{target:C}=u;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(U_(this.prevProjectionDelta.x,this.projectionDelta.x),U_(this.prevProjectionDelta.y,this.projectionDelta.y)),bc(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!Y_(this.projectionDelta.x,this.prevProjectionDelta.x)||!Y_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=go(),this.projectionDelta=go(),this.projectionDeltaWithTransform=go()}setAnimationOrigin(u,f=!1){const g=this.snapshot,y=g?g.latestValues:{},x={...this.latestValues},_=go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=gt(),C=g?g.source:void 0,V=this.layout?this.layout.source:void 0,U=C!==V,B=this.getStack(),K=!B||B.members.length<=1,$=!!(U&&!K&&this.options.crossfade===!0&&!this.path.some(VP));this.animationProgress=0;let Q;this.mixTargetDelta=ae=>{const re=ae/1e3;W_(_.x,u.x,re),W_(_.y,u.y,re),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_c(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jP(this.relativeTarget,this.relativeTargetOrigin,T,re),Q&&yP(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=gt()),Hn(Q,this.relativeTarget)),U&&(this.animationValues=x,hP(x,y,this.latestValues,re,$,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{Zh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vo(0)),this.currentAnimation=aP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:g,layout:y,latestValues:x}=u;if(!(!f||!g||!y)){if(this!==u&&this.layout&&y&&fS(this.options.animationType,this.layout.layoutBox,y.layoutBox)){g=this.target||gt();const _=fn(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+_;const T=fn(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+T}Hn(f,g),po(f,x),bc(this.projectionDeltaWithTransform,this.layoutCorrected,f,x)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new vP),this.sharedNodes.get(u).add(f);const y=f.options.initialPromotionConfig;f.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:g}={}){const y=this.getStack();y&&y.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(f=!0),!f)return;const y={};g.z&&Ep("z",u,y,this.animationValues);for(let x=0;x<Tp.length;x++)Ep(`rotate${Tp[x]}`,u,y,this.animationValues),Ep(`skew${Tp[x]}`,u,y,this.animationValues);u.render();for(const x in y)u.setStaticValue(x,y[x]),this.animationValues&&(this.animationValues[x]=y[x]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Wh(f?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Wh(f?.pointerEvents)||""),this.hasProjected&&!Qr(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const x=y.animationValues||y.latestValues;this.applyTransformsToTarget();let _=xP(this.projectionDeltaWithTransform,this.treeScale,x);g&&(_=g(x,_)),u.transform=_;const{x:T,y:C}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${C.origin*100}% 0`,y.animationValues?u.opacity=y===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=y===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const V in Lc){if(x[V]===void 0)continue;const{correct:U,applyTo:B,isCSSVariable:K}=Lc[V],$=_==="none"?x[V]:U(x[V],y);if(B){const Q=B.length;for(let ae=0;ae<Q;ae++)u[B[ae]]=$}else K?this.options.visualElement.renderState.vars[V]=$:u[V]=$}this.options.layoutId&&(u.pointerEvents=y===this?Wh(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(X_),this.root.sharedNodes.clear()}}}function wP(n){n.updateLayout()}function TP(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:a}=n.options,c=e.source!==n.layout.source;a==="size"?qn(x=>{const _=c?e.measuredBox[x]:e.layoutBox[x],T=fn(_);_.min=t[x].min,_.max=_.min+T}):fS(a,e.layoutBox,t)&&qn(x=>{const _=c?e.measuredBox[x]:e.layoutBox[x],T=fn(t[x]);_.max=_.min+T,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[x].max=n.relativeTarget[x].min+T)});const u=go();bc(u,t,e.layoutBox);const f=go();c?bc(f,n.applyTransform(i,!0),e.measuredBox):bc(f,t,e.layoutBox);const g=!cS(u);let y=!1;if(!n.resumeFrom){const x=n.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:_,layout:T}=x;if(_&&T){const C=gt();_c(C,e.layoutBox,_.layoutBox);const V=gt();_c(V,t,T.layoutBox),uS(C,V)||(y=!0),x.options.layoutRoot&&(n.relativeTarget=V,n.relativeTargetOrigin=C,n.relativeParent=x)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function EP(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function SP(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function AP(n){n.clearSnapshot()}function X_(n){n.clearMeasurements()}function Q_(n){n.isLayoutDirty=!1}function RP(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function $_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function NP(n){n.resolveTargetDelta()}function CP(n){n.calcProjection()}function IP(n){n.resetSkewAndRotation()}function DP(n){n.removeLeadSnapshot()}function W_(n,e,t){n.translate=at(e.translate,0,t),n.scale=at(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Z_(n,e,t,i){n.min=at(e.min,t.min,i),n.max=at(e.max,t.max,i)}function jP(n,e,t,i){Z_(n.x,e.x,t.x,i),Z_(n.y,e.y,t.y,i)}function VP(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const MP={duration:.45,ease:[.4,0,.1,1]},J_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),ew=J_("applewebkit/")&&!J_("chrome/")?Math.round:Yn;function tw(n){n.min=ew(n.min),n.max=ew(n.max)}function PP(n){tw(n.x),tw(n.y)}function fS(n,e,t){return n==="position"||n==="preserve-aspect"&&!zM(K_(e),K_(t),.2)}function OP(n){return n!==n.root&&n.scroll?.wasRoot}const kP=dS({attachResizeListener:(n,e)=>Uc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sp={current:void 0},mS=dS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Sp.current){const n=new kP({});n.mount(window),n.setOptions({layoutScroll:!0}),Sp.current=n}return Sp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),LP={pan:{Feature:nP},drag:{Feature:tP,ProjectionNode:mS,MeasureLayout:aS}};function nw(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,c=i[a];c&&nt.postRender(()=>c(e,eu(e)))}class UP extends dr{mount(){const{current:e}=this.node;e&&(this.unmount=oV(e,(t,i)=>(nw(this.node,i,"Start"),a=>nw(this.node,a,"End"))))}unmount(){}}class BP extends dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wc(Uc(this.node.current,"focus",()=>this.onFocus()),Uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sw(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),c=i[a];c&&nt.postRender(()=>c(e,eu(e)))}class zP extends dr{mount(){const{current:e}=this.node;e&&(this.unmount=hV(e,(t,i)=>(sw(this.node,i,"Start"),(a,{success:c})=>sw(this.node,a,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _g=new WeakMap,Ap=new WeakMap,FP=n=>{const e=_g.get(n.target);e&&e(n)},HP=n=>{n.forEach(FP)};function qP({root:n,...e}){const t=n||document;Ap.has(t)||Ap.set(t,{});const i=Ap.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(HP,{root:n,...e})),i[a]}function GP(n,e,t){const i=qP(e);return _g.set(n,t),i.observe(n),()=>{_g.delete(n),i.unobserve(n)}}const KP={some:0,all:1};class YP extends dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:c}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:KP[a]},f=g=>{const{isIntersecting:y}=g;if(this.isInView===y||(this.isInView=y,c&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:x,onViewportLeave:_}=this.node.getProps(),T=y?x:_;T&&T(g)};return GP(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(XP(e,t))&&this.startObserver()}unmount(){}}function XP({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const QP={inView:{Feature:YP},tap:{Feature:zP},focus:{Feature:BP},hover:{Feature:UP}},$P={layout:{ProjectionNode:mS,MeasureLayout:aS}},WP={...PM,...QP,...LP,...$P},wg=WV(WP,uM);function ZP(){const[n,e]=I.useState(!1);I.useEffect(()=>{const a=()=>{const c=document.getElementById("stats-section");c&&c.getBoundingClientRect().top<window.innerHeight-100&&(e(!0),window.removeEventListener("scroll",a))};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const t=[{label:"Healthcare Providers",value:1e4,suffix:"+",icon:O2},{label:"Patients Served",value:5e5,suffix:"+",icon:Zr},{label:"Prescriptions Processed",value:2e6,suffix:"+",icon:jo},{label:"Uptime Guarantee",value:99.9,suffix:"%",icon:_d}],i={hidden:{opacity:0,y:30},visible:a=>({opacity:1,y:0,transition:{delay:a*.15,duration:.6,ease:"easeOut"}})};return m.jsx("section",{id:"stats-section",className:"py-16 bg-gray-900 text-white",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsx(wg.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((a,c)=>m.jsxs(wg.div,{className:"text-center hover:scale-105 transition-transform duration-300",custom:c,variants:i,children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx(a.icon,{className:"h-10 w-10 text-primary-400"})}),m.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:n&&m.jsx(vD,{start:0,end:a.value,duration:2.5,separator:",",decimals:a.value%1!==0?1:0,suffix:a.suffix})}),m.jsx("div",{className:"text-gray-400",children:a.label})]},c))})})})}function JP({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const eO=I.forwardRef(JP);function tO({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const nO=I.forwardRef(tO);function sO({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const iO=I.forwardRef(sO);function rO({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const aO=I.forwardRef(rO);function oO({title:n,titleId:e,...t},i){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?I.createElement("title",{id:e},n):null,I.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const lO=I.forwardRef(oO);function cO(){const n=[{name:"Starter",price:29,period:"/month",description:"Perfect for small clinics",features:["Up to 100 patients","Basic dashboard","Prescription management","Email support","Mobile app access"],cta:"Start Free Trial",popular:!1},{name:"Professional",price:99,period:"/month",description:"Best for growing practices",features:["Up to 1,000 patients","Advanced analytics","AI-powered insights","Priority support","API integrations","Custom branding"],cta:"Start Free Trial",popular:!0},{name:"Enterprise",price:0,period:"",description:"For large healthcare systems",features:["Unlimited patients","Custom integrations","Dedicated support","Advanced security","Custom workflows","SLA guarantee"],cta:"Contact Sales",popular:!1}],[e,t]=I.useState(n.map(()=>0));return I.useEffect(()=>{n.forEach((i,a)=>{if(i.price>0){let c=0;const u=i.price/25,f=setInterval(()=>{c+=u,t(g=>{const y=[...g];return y[a]=Math.floor(c),y}),c>=i.price&&clearInterval(f)},30)}else setTimeout(()=>{t(c=>{const u=[...c];return u[a]="Custom",u})},500)})},[]),m.jsxs("section",{id:"pricing",className:"py-20 bg-gray-50",children:[m.jsx("style",{children:`
          @keyframes badgeBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-6px); }
          }
          .badge-bounce { animation: badgeBounce 0.6s ease forwards; }

          @keyframes pulseOnce {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
          }
          .pulse-once { animation: pulseOnce 0.8s ease forwards; }

          @keyframes tickPop {
            0% { transform: scale(0); opacity: 0; }
            60% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); }
          }
          .tick-animate { animation: tickPop 0.4s ease forwards; }

          @keyframes fadeInCustom {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .fade-in-custom { animation: fadeInCustom 0.5s ease forwards; }
        `}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{"data-aos":"fade-up",className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Simple, Transparent Pricing"}),m.jsx("p",{"data-aos":"fade-up","data-aos-duration":"900",className:"text-xl text-gray-600",children:"Choose the plan that's right for your healthcare needs"})]}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:n.map((i,a)=>m.jsxs("div",{"data-aos":"zoom-in","data-aos-delay":a*150,className:`bg-white rounded-2xl p-8 relative transform transition-transform duration-300 hover:rotate-x-2 hover:rotate-y-2 hover:scale-105 hover:shadow-xl ${i.popular?"ring-2 ring-primary-600 scale-105":""}`,style:{transformStyle:"preserve-3d"},children:[i.popular&&m.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 badge-bounce",children:m.jsx("span",{className:"bg-primary-600 text-white px-4 py-1 rounded-full text-sm font-medium shadow-md",children:"Most Popular"})}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:i.name}),m.jsxs("div",{className:"mb-2",children:[e[a]==="Custom"?m.jsx("span",{className:"text-4xl font-bold text-gray-900 fade-in-custom",children:"Custom"}):m.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",e[a]]}),m.jsx("span",{className:"text-gray-600",children:i.period})]}),m.jsx("p",{className:"text-gray-600",children:i.description})]}),m.jsx("ul",{className:"space-y-3 mb-8",children:i.features.map((c,u)=>m.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[m.jsx(eO,{className:"h-4 w-4 text-green-500 mr-3 tick-animate"}),c]},u))}),m.jsx("button",{className:`w-full py-3 px-4 rounded-lg font-semibold transition-colors ${i.popular?"bg-primary-600 text-white hover:bg-primary-700 pulse-once":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:i.cta})]},a))})]})]})}function uO(){const n=[{name:"Dr. Sarah Johnson",role:"Cardiologist",hospital:"Metro General Hospital",content:"CareSync has revolutionized how I manage my patients. The AI-powered insights help me make better diagnoses, and the seamless communication with pharmacists ensures my patients get the right medications quickly.",rating:5},{name:"Michael Chen",role:"Pharmacist",hospital:"HealthPlus Pharmacy",content:"The prescription management system is incredibly efficient. We've reduced processing time by 60% and eliminated prescription errors. The integration with doctors' systems is flawless.",rating:5},{name:"Emma Rodriguez",role:"Patient",hospital:"User since 2024",content:"As someone with chronic conditions, CareSync has been a lifesaver. I never miss medications thanks to smart reminders, and I can easily track my health progress and communicate with my care team.",rating:5},{name:"John Williams",role:"Surgeon",hospital:"City Hospital",content:"The scheduling and patient management tools have significantly improved our workflow. Highly recommended for busy hospital environments.",rating:5},{name:"Sophia Patel",role:"Nurse",hospital:"Green Valley Clinic",content:"Real-time updates and patient monitoring make my job much easier. The interface is intuitive and easy to use.",rating:4},{name:"David Lee",role:"Orthopedic Specialist",hospital:"Sunrise Medical Center",content:"CareSync integrates seamlessly with our existing systems. The analytics help in identifying patient trends effectively.",rating:5},{name:"Olivia Brown",role:"General Practitioner",hospital:"Community Health Hub",content:"The mobile app is a game-changer. I can check patient records and respond to messages even when I'm out of the clinic.",rating:4},{name:"James Anderson",role:"Physician",hospital:"Central Health",content:"Customer support is responsive and helpful. The software is reliable and easy to adopt.",rating:5}],[e,t]=I.useState(0),[i,a]=I.useState(0),c=4,u=Math.ceil(n.length/c),f=()=>{a(-1),t(_=>_>0?_-1:u-1)},g=()=>{a(1),t(_=>_<u-1?_+1:0)},y=n.slice(e*c,e*c+c),x={enter:_=>({x:_>0?50:-50,opacity:0}),center:{x:0,opacity:1},exit:_=>({x:_>0?-50:50,opacity:0})};return m.jsx("section",{id:"testimonials",className:"py-20 bg-white relative overflow-hidden",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Trusted by Healthcare Professionals"}),m.jsx("p",{className:"text-xl text-gray-600",children:"See what our users are saying about CareSync"})]}),m.jsx(xV,{mode:"wait",custom:i,children:m.jsx(wg.div,{custom:i,variants:x,initial:"enter",animate:"center",exit:"exit",transition:{duration:.4,ease:"easeInOut"},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:y.map((_,T)=>m.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 shadow-md hover:shadow-xl transition transform hover:-translate-y-2",children:[m.jsx("div",{className:"flex items-center mb-4",children:[...Array(_.rating)].map((C,V)=>m.jsx(lO,{className:"h-5 w-5 text-yellow-400 fill-current"},V))}),m.jsxs("p",{className:"text-gray-700 mb-6 italic",children:['"',_.content,'"']}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mr-4 font-semibold text-primary-600",children:_.name.split(" ").map(C=>C[0]).join("")}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-gray-900",children:_.name}),m.jsx("div",{className:"text-sm text-gray-600",children:_.role}),m.jsx("div",{className:"text-sm text-gray-500",children:_.hospital})]})]})]},T))},e)}),m.jsxs("div",{className:"flex justify-center items-center gap-4 mt-10",children:[m.jsx("button",{onClick:f,className:"bg-white shadow-lg rounded-full p-3 hover:bg-gray-100 transition",children:m.jsx(nO,{className:"h-6 w-6 text-gray-700"})}),m.jsxs("span",{className:"text-gray-600",children:["Page ",e+1," of ",u]}),m.jsx("button",{onClick:g,className:"bg-white shadow-lg rounded-full p-3 hover:bg-gray-100 transition",children:m.jsx(iO,{className:"h-6 w-6 text-gray-700"})})]})]})})}function hO(){const n=[{title:"Product",links:["Features","Pricing","API Documentation","Integrations","Security"]},{title:"Company",links:["About Us","Careers","Press","Partners","Contact"]},{title:"Resources",links:["Blog","Help Center","Community","Webinars","Status"]}];return m.jsx("footer",{className:"bg-gray-900 text-white w-full z-50",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-10",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-9 h-9 bg-primary-600 rounded-lg flex items-center justify-center",children:m.jsx(aO,{className:"h-5 w-5 text-white"})}),m.jsx("span",{className:"ml-2 text-xl font-bold",children:"CareSync"})]}),m.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Revolutionizing healthcare through seamless collaboration between patients, doctors, and pharmacists."}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("a",{href:"#","aria-label":"Social 1",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-primary-600 transition-colors",children:m.jsx(K6,{className:"h-5 w-5"})}),m.jsx("a",{href:"#","aria-label":"Social 2",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-primary-600 transition-colors",children:m.jsx(w6,{className:"h-5 w-5"})}),m.jsx("a",{href:"#","aria-label":"Social 3",className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-primary-600 transition-colors",children:m.jsx(E6,{className:"h-5 w-5"})})]})]}),n.map(e=>m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-4",children:e.title}),m.jsx("ul",{className:"space-y-2 text-sm",children:e.links.map(t=>m.jsx("li",{children:m.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:t})},t))})]},e.title))]}),m.jsx("div",{className:"mt-12 flex justify-center",children:m.jsxs("div",{className:"mx-auto md:mx-0 md:max-w-3xl w-full bg-gray-800/70 rounded-2xl p-6 shadow-xl border border-gray-700",children:[m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Have any questions? "}),m.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Subscribe to our newsletter or drop your query below. Well get back to you soon!"}),m.jsxs("form",{className:"flex flex-col sm:flex-row gap-3",onSubmit:e=>e.preventDefault(),children:[m.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-5 py-2.5 rounded-lg bg-gray-900 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"}),m.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-semibold transition-all duration-200 shadow-md text-sm",children:"Subscribe"})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("textarea",{placeholder:"Write your message...",rows:2,className:"w-full px-5 py-2.5 rounded-lg bg-gray-900 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"}),m.jsx("button",{type:"button",className:"mt-3 w-full py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-all duration-200 shadow-md text-sm",children:"Send Message"})]})]})}),m.jsxs("div",{className:"mt-10 border-t border-gray-800 pt-6 text-xs text-gray-500 flex flex-col sm:flex-row items-center justify-between gap-3",children:[m.jsxs("span",{children:[" ",new Date().getFullYear()," CareSync. All rights reserved."]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("a",{href:"#",className:"hover:text-white",children:"Privacy"}),m.jsx("a",{href:"#",className:"hover:text-white",children:"Terms"}),m.jsx("a",{href:"#",className:"hover:text-white",children:"Cookies"})]})]})]})})}const dO=()=>{const[n,e]=I.useState(!1),[t,i]=I.useState(!1);return m.jsxs("div",{className:"min-h-screen bg-white",children:[m.jsxs("nav",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-lg border-b border-gray-200/50 z-50 shadow-sm",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:m.jsx(Zr,{className:"h-6 w-6 text-white"})}),m.jsx("span",{className:"ml-3 text-2xl font-bold text-gray-900",children:"CareSync"})]}),m.jsx("div",{className:"hidden md:block",children:m.jsx("div",{className:"ml-10 flex items-center space-x-8",children:["Features","Pricing","Testimonials","Contact"].map(a=>a==="Contact"?m.jsxs(Bt,{to:"/contact",className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium relative group",children:[a,m.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-emerald-500 to-teal-600 group-hover:w-full transition-all duration-300"})]},a):m.jsxs("a",{href:`#${a.toLowerCase()}`,className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium relative group",children:[a,m.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-emerald-500 to-teal-600 group-hover:w-full transition-all duration-300"})]},a))})}),m.jsx("div",{className:"md:hidden",children:m.jsx("button",{onClick:()=>i(!t),className:"text-gray-600 hover:text-gray-900 transition-colors",children:m.jsx(M2,{className:"h-6 w-6"})})}),m.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[m.jsx(Bt,{to:"/login",className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium",children:"Sign In"}),m.jsx(Bt,{to:"/register",className:"bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-6 py-2.5 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold transform hover:scale-105",children:"Get Started"})]})]})}),t&&m.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:m.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[["Features","Pricing","Testimonials","Contact"].map(a=>a==="Contact"?m.jsx(Bt,{to:"/contact",className:"block px-3 py-2 text-gray-600 hover:text-emerald-600 transition-colors",onClick:()=>i(!1),children:a},a):m.jsx("a",{href:`#${a.toLowerCase()}`,className:"block px-3 py-2 text-gray-600 hover:text-emerald-600 transition-colors",onClick:()=>i(!1),children:a},a)),m.jsxs("div",{className:"flex flex-col space-y-2 mt-4 px-3",children:[m.jsx(Bt,{to:"/login",className:"text-center py-2 text-gray-600 hover:text-emerald-600 transition-colors",children:"Sign In"}),m.jsx(Bt,{to:"/register",className:"bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-4 py-2 rounded-lg text-center font-semibold",children:"Get Started"})]})]})})]}),m.jsxs("section",{className:"relative min-h-screen flex items-center bg-gradient-to-br from-emerald-50 via-white to-teal-50 overflow-hidden pt-16",children:[m.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[m.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-emerald-400/20 to-teal-400/20 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-teal-400/20 to-blue-400/20 rounded-full blur-3xl animate-pulse"})]}),m.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[m.jsxs("div",{className:"space-y-8",children:[m.jsx("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700 px-4 py-2 rounded-full text-sm font-semibold shadow-sm",children:" Trusted by 500+ Healthcare Providers"}),m.jsxs("h1",{className:"text-5xl lg:text-7xl font-black text-gray-900 leading-tight",children:["Healthcare",m.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 bg-clip-text text-transparent",children:" Management"}),m.jsx("br",{}),"Made Simple"]}),m.jsx("p",{className:"text-xl lg:text-2xl text-gray-600 leading-relaxed font-medium",children:"Streamline patient care with our comprehensive healthcare platform. Connect doctors, patients, and pharmacies in one secure ecosystem."}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsxs(Bt,{to:"/register",className:`bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-8 py-4 rounded-xl \r
                  flex items-center justify-center space-x-2 font-bold text-lg shadow-xl hover:shadow-2xl \r
                  transition-all duration-300 transform hover:scale-105`,children:[m.jsx("span",{children:"Start Free Trial"}),m.jsx(Xh,{className:"h-5 w-5"})]}),m.jsxs("button",{onClick:()=>e(!0),className:`border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-xl \r
                  hover:border-emerald-500 hover:text-emerald-600 hover:bg-emerald-50 \r
                  flex items-center justify-center space-x-2 font-bold text-lg \r
                  transition-all duration-300 transform hover:scale-105`,children:[m.jsx(Fb,{className:"h-5 w-5"}),m.jsx("span",{children:"Watch Demo"})]})]}),m.jsx("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-8 space-y-3 sm:space-y-0 text-base text-gray-600",children:["HIPAA Compliant & Secure","24/7 Support Available"].map((a,c)=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:"h-6 w-6 bg-emerald-100 rounded-full flex items-center justify-center",children:m.jsx(ec,{className:"h-4 w-4 text-emerald-600"})}),m.jsx("span",{className:"font-medium",children:m.jsx(fD.Typewriter,{words:[a],loop:1,cursor:!0,typeSpeed:50,delaySpeed:c*1e3})})]},c))})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 transform rotate-1 hover:rotate-0 transition-all duration-500 hover:scale-105",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:m.jsx(Zr,{className:"h-6 w-6 text-white"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"CareSync Dashboard"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Dr. Sarah Johnson"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Zp,{className:"h-6 w-6 text-gray-400"}),m.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]})]}),m.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[{label:"Today's Appointments",value:"12",icon:A6,color:"text-blue-600",bg:"bg-blue-100"},{label:"Pending Reports",value:"5",icon:P2,color:"text-orange-600",bg:"bg-orange-100"},{label:"Active Patients",value:"1,247",icon:$c,color:"text-emerald-600",bg:"bg-emerald-100"},{label:"Urgent Cases",value:"3",icon:F6,color:"text-red-600",bg:"bg-red-100"}].map((a,c)=>m.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:`w-10 h-10 ${a.bg} rounded-lg flex items-center justify-center`,children:m.jsx(a.icon,{className:`h-5 w-5 ${a.color}`})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.value}),m.jsx("p",{className:"text-xs text-gray-500 leading-tight",children:a.label})]})]})},c))}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Recent Activity"}),[{patient:"John Smith",action:"Prescription updated",time:"10 min ago",status:"completed"},{patient:"Maria Garcia",action:"Lab results available",time:"25 min ago",status:"new"},{patient:"Robert Chen",action:"Appointment scheduled",time:"1 hour ago",status:"scheduled"}].map((a,c)=>m.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:a.patient.split(" ").map(u=>u[0]).join("")}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.patient}),m.jsx("p",{className:"text-xs text-gray-500",children:a.action})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${a.status==="completed"?"bg-green-500":a.status==="new"?"bg-blue-500":"bg-yellow-500"}`}),m.jsx("span",{className:"text-xs text-gray-500",children:a.time})]})]},c))]}),m.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:m.jsxs("button",{className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 text-white py-3 px-4 rounded-lg font-semibold flex items-center justify-center space-x-2 hover:shadow-lg transition-all duration-300",children:[m.jsx(tD,{className:"h-5 w-5"}),m.jsx("span",{children:"New Patient"})]})})]}),m.jsx("div",{className:"absolute -top-6 -left-6 bg-emerald-100 text-emerald-600 p-4 rounded-2xl shadow-lg animate-bounce",children:m.jsx(Zr,{className:"h-8 w-8"})}),m.jsx("div",{className:"absolute -bottom-6 -right-6 bg-blue-100 text-blue-600 p-4 rounded-2xl shadow-lg animate-pulse",children:m.jsx(_d,{className:"h-8 w-8"})}),m.jsx("div",{className:"absolute top-1/2 -right-8 bg-orange-100 text-orange-600 p-3 rounded-xl shadow-lg animate-pulse delay-1000",children:m.jsx(Zp,{className:"h-6 w-6"})})]})]})})]}),m.jsx(ZP,{}),m.jsx("section",{id:"features",className:"py-24 bg-gradient-to-b from-white to-gray-50",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-20",children:[m.jsxs("h2",{className:"text-4xl lg:text-5xl font-black text-gray-900 mb-6",children:["Complete Healthcare",m.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 bg-clip-text text-transparent",children:" Management Suite"})]}),m.jsx("p",{className:"text-xl lg:text-2xl text-gray-600 max-w-4xl mx-auto font-medium leading-relaxed",children:"From patient records to prescription management, everything healthcare providers need in one secure platform"})]}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[{icon:Zr,title:"Patient Care Portal",description:"Comprehensive patient management with secure medical records, appointment scheduling, and health tracking.",features:["Electronic Health Records","Appointment Management","Medication Tracking","Health Monitoring"],gradient:"from-emerald-500 to-teal-600"},{icon:O2,title:"Doctor Dashboard",description:"Powerful tools for healthcare providers with AI-assisted diagnosis and treatment planning.",features:["Patient Management","AI Diagnosis Assistant","Digital Prescriptions","Clinical Analytics"],gradient:"from-blue-500 to-indigo-600"},{icon:_d,title:"Pharmacy Network",description:"Integrated pharmacy services with prescription processing and medication delivery.",features:["Prescription Processing","Inventory Management","Delivery Coordination","Drug Interaction Alerts"],gradient:"from-purple-500 to-pink-600"}].map((a,c)=>m.jsx("div",{className:"group transform hover:-translate-y-2 transition-all duration-300",children:m.jsxs("div",{className:"bg-white border border-gray-200 rounded-3xl p-8 h-full hover:shadow-2xl hover:shadow-emerald-500/10 transition-all duration-500 relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-5 transition-opacity duration-500 from-emerald-500 to-teal-600"}),m.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${a.gradient} rounded-2xl flex items-center justify-center mb-8 shadow-lg group-hover:scale-110 transition-transform duration-300`,children:m.jsx(a.icon,{className:"h-8 w-8 text-white"})}),m.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 group-hover:text-emerald-600 transition-colors",children:a.title}),m.jsx("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed",children:a.description}),m.jsx("ul",{className:"space-y-3",children:a.features.map((u,f)=>m.jsxs("li",{className:"flex items-center text-gray-700 font-medium",children:[m.jsx("div",{className:"h-5 w-5 bg-emerald-100 rounded-full flex items-center justify-center mr-3",children:m.jsx(ec,{className:"h-3 w-3 text-emerald-600"})}),u]},f))})]})},c))})]})}),m.jsx(cO,{}),m.jsx(uO,{}),m.jsxs("section",{className:"py-24 bg-gradient-to-br from-emerald-500 via-teal-600 to-blue-600 relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-black/10"}),m.jsx("div",{className:"absolute inset-0 opacity-20",children:m.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-y-12"})}),m.jsxs("div",{className:"relative max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[m.jsxs("h2",{className:"text-4xl lg:text-5xl font-black text-white mb-8",children:["Ready to Revolutionize",m.jsx("br",{className:"hidden sm:block"}),"Your Healthcare Practice?"]}),m.jsx("p",{className:"text-xl lg:text-2xl text-white/90 mb-12 font-medium leading-relaxed max-w-3xl mx-auto",children:"Join over 500 healthcare providers who have transformed their patient care with CareSync's comprehensive platform"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-8",children:[m.jsx(Bt,{to:"/register",className:"bg-white text-emerald-600 px-10 py-4 rounded-xl hover:bg-gray-50 transition-all duration-300 font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105",children:"Start Free Trial Today"}),m.jsx("button",{className:"border-2 border-white text-white px-10 py-4 rounded-xl hover:bg-white hover:text-emerald-600 transition-all duration-300 font-bold text-lg backdrop-blur-sm transform hover:scale-105",children:"Schedule Demo"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-8 text-white/80 font-medium",children:[m.jsxs("span",{className:"flex items-center",children:[m.jsx(ec,{className:"h-5 w-5 mr-2"}),"HIPAA Compliant"]}),m.jsxs("span",{className:"flex items-center",children:[m.jsx(ec,{className:"h-5 w-5 mr-2"}),"30-day free trial"]}),m.jsxs("span",{className:"flex items-center",children:[m.jsx(ec,{className:"h-5 w-5 mr-2"}),"24/7 support"]})]})]})]}),m.jsx(hO,{}),n&&m.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>e(!1),children:m.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-4xl w-full transform transition-all duration-300",onClick:a=>a.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"CareSync Platform Demo"}),m.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx(v0,{className:"h-8 w-8"})})]}),m.jsx("div",{className:"aspect-video bg-gray-100 rounded-xl flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Fb,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600 text-lg",children:"Healthcare platform demo video"}),m.jsx("p",{className:"text-gray-500 text-sm",children:"See how CareSync transforms patient care"})]})})]})})]})},fO=()=>{const[n,e]=I.useState({name:"",email:"",subject:"",message:"",userType:"patient"}),[t,i]=I.useState("idle"),[a,c]=I.useState(!1),u=y=>{const{name:x,value:_}=y.target;e(T=>({...T,[x]:_}))},f=y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y),g=async y=>{if(y.preventDefault(),i("loading"),!n.name||!n.email||!n.subject||!n.message){i("error");return}if(!f(n.email)){i("error");return}try{await new Promise(x=>setTimeout(x,2e3)),i("success"),e({name:"",email:"",subject:"",message:"",userType:"patient"})}catch{i("error")}};return m.jsxs("div",{className:"min-h-screen bg-white",children:[m.jsxs("nav",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-lg border-b border-gray-200/50 z-50 shadow-sm",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs(Bt,{to:"/",className:"flex items-center",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:m.jsx(Zr,{className:"h-6 w-6 text-white"})}),m.jsx("span",{className:"ml-3 text-2xl font-bold text-gray-900",children:"CareSync"})]}),m.jsx("div",{className:"hidden md:block",children:m.jsx("div",{className:"ml-10 flex items-center space-x-8",children:["Features","Pricing","Testimonials","Contact"].map(y=>y==="Contact"?m.jsxs("a",{href:"#contact-form",className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium relative group",children:[y,m.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-emerald-500 to-teal-600 group-hover:w-full transition-all duration-300"})]},y):m.jsxs("a",{href:`/#${y.toLowerCase()}`,className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium relative group",children:[y,m.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-emerald-500 to-teal-600 group-hover:w-full transition-all duration-300"})]},y))})}),m.jsx("div",{className:"md:hidden",children:m.jsx("button",{onClick:()=>c(!a),className:"text-gray-600 hover:text-gray-900 transition-colors",children:a?m.jsx(v0,{className:"h-6 w-6"}):m.jsx(M2,{className:"h-6 w-6"})})}),m.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[m.jsx(Bt,{to:"/login",className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium",children:"Sign In"}),m.jsx(Bt,{to:"/register",className:"bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-6 py-2.5 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold transform hover:scale-105",children:"Get Started"})]})]})}),a&&m.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:m.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[["Features","Pricing","Testimonials","Contact"].map(y=>y==="Contact"?m.jsx("a",{href:"#contact-form",className:"block px-3 py-2 text-gray-600 hover:text-emerald-600 transition-colors",onClick:()=>c(!1),children:y},y):m.jsx("a",{href:`/#${y.toLowerCase()}`,className:"block px-3 py-2 text-gray-600 hover:text-emerald-600 transition-colors",onClick:()=>c(!1),children:y},y)),m.jsxs("div",{className:"flex flex-col space-y-2 mt-4 px-3",children:[m.jsx(Bt,{to:"/login",className:"text-center py-2 text-gray-600 hover:text-emerald-600 transition-colors",children:"Sign In"}),m.jsx(Bt,{to:"/register",className:"bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-4 py-2 rounded-lg text-center font-semibold",children:"Get Started"})]})]})})]}),m.jsxs("section",{className:"relative pt-24 pb-16 bg-gradient-to-br from-emerald-50 via-white to-teal-50 overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[m.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-emerald-400/20 to-teal-400/20 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-teal-400/20 to-blue-400/20 rounded-full blur-3xl animate-pulse"})]}),m.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[m.jsx("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700 px-4 py-2 rounded-full text-sm font-semibold shadow-sm mb-8",children:" We're Here to Help"}),m.jsxs("h1",{className:"text-4xl lg:text-6xl font-black text-gray-900 leading-tight mb-6",children:["Get in Touch with",m.jsx("span",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 bg-clip-text text-transparent",children:" CareSync"})]}),m.jsx("p",{className:"text-xl lg:text-2xl text-gray-600 leading-relaxed font-medium max-w-3xl mx-auto mb-12",children:"Have questions about our healthcare platform? Need support or want to partner with us? We're here to help you transform healthcare delivery."}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[{icon:Hd,title:"General Inquiries",description:"Questions about our platform",action:"Send Message",href:"#contact-form"},{icon:$c,title:"Sales & Partnerships",description:"Interested in working together",action:"Contact Sales",href:"#contact-form"},{icon:_d,title:"Technical Support",description:"Need help with the platform",action:"Get Support",href:"#contact-form"}].map((y,x)=>m.jsxs("a",{href:y.href,className:"bg-white/80 backdrop-blur-sm border border-gray-200 rounded-2xl p-6 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:m.jsx(y.icon,{className:"h-6 w-6 text-white"})}),m.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:y.title}),m.jsx("p",{className:"text-gray-600 mb-4",children:y.description}),m.jsxs("span",{className:"inline-flex items-center text-emerald-600 font-semibold group-hover:text-emerald-700",children:[y.action,m.jsx(Xh,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform duration-300"})]})]},x))})]})]}),m.jsx("section",{id:"contact",className:"py-24 bg-white",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[m.jsxs("div",{className:"space-y-8",id:"contact-form",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl lg:text-4xl font-black text-gray-900 mb-4",children:"Send us a Message"}),m.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below and we'll get back to you within 24 hours."})]}),t==="success"&&m.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center space-x-3",children:[m.jsx(p0,{className:"h-6 w-6 text-green-600 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-green-800 font-semibold",children:"Message sent successfully!"}),m.jsx("p",{className:"text-green-700 text-sm",children:"We'll get back to you within 24 hours."})]})]}),t==="error"&&m.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center space-x-3",children:[m.jsx(B6,{className:"h-6 w-6 text-red-600 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-red-800 font-semibold",children:"Please check your information"}),m.jsx("p",{className:"text-red-700 text-sm",children:"Make sure all fields are filled out correctly."})]})]}),m.jsxs("form",{onSubmit:g,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),m.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:u,required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Enter your full name"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),m.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:u,required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Enter your email address"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"userType",className:"block text-sm font-semibold text-gray-700 mb-2",children:"I am a..."}),m.jsxs("select",{id:"userType",name:"userType",value:n.userType,onChange:u,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",children:[m.jsx("option",{value:"patient",children:"Patient"}),m.jsx("option",{value:"doctor",children:"Healthcare Provider"}),m.jsx("option",{value:"pharmacist",children:"Pharmacist"}),m.jsx("option",{value:"administrator",children:"Healthcare Administrator"}),m.jsx("option",{value:"partner",children:"Potential Partner"}),m.jsx("option",{value:"other",children:"Other"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"subject",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),m.jsx("input",{type:"text",id:"subject",name:"subject",value:n.subject,onChange:u,required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"What can we help you with?"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),m.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:u,required:!0,rows:6,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none",placeholder:"Tell us more about your inquiry..."})]}),m.jsx("button",{type:"submit",disabled:t==="loading",className:`w-full bg-gradient-to-r from-emerald-500 to-teal-600 text-white px-8 py-4 rounded-xl \r
                  hover:shadow-lg transition-all duration-300 font-bold text-lg transform hover:scale-105 \r
                  disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\r
                  flex items-center justify-center space-x-2`,children:t==="loading"?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"spinner"}),m.jsx("span",{children:"Sending..."})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Send Message"}),m.jsx(Xh,{className:"h-5 w-5"})]})})]})]}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl lg:text-4xl font-black text-gray-900 mb-4",children:"Contact Information"}),m.jsx("p",{className:"text-lg text-gray-600",children:"Reach out to us through any of these channels. We're always ready to help."})]}),m.jsx("div",{className:"space-y-6",children:[{icon:L6,title:"Email Us",content:"support@caresync.com",subContent:"We typically respond within 2-4 hours",action:"mailto:support@caresync.com"},{icon:Z6,title:"Call Us",content:"+1 (555) 123-4567",subContent:"Mon-Fri 8:00 AM - 8:00 PM PST",action:"tel:+15551234567"},{icon:$6,title:"Visit Us",content:"123 Healthcare Blvd, Suite 500",subContent:"San Francisco, CA 94105",action:"https://maps.google.com"},{icon:jo,title:"Business Hours",content:"Monday - Friday: 8:00 AM - 8:00 PM",subContent:"Saturday: 9:00 AM - 5:00 PM PST",action:null}].map((y,x)=>m.jsx("div",{className:"bg-gray-50 rounded-2xl p-6 hover:bg-gray-100 transition-colors",children:m.jsxs("div",{className:"flex items-start space-x-4",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center flex-shrink-0",children:m.jsx(y.icon,{className:"h-6 w-6 text-white"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:y.title}),y.action?m.jsx("a",{href:y.action,className:"text-emerald-600 font-semibold hover:text-emerald-700 transition-colors",children:y.content}):m.jsx("p",{className:"text-gray-900 font-semibold",children:y.content}),m.jsx("p",{className:"text-gray-600 text-sm mt-1",children:y.subContent})]})]})},x))}),m.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-2xl p-6 border border-emerald-100",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Additional Resources"}),m.jsx("div",{className:"space-y-3",children:[{label:"Help Center & Documentation",href:"#"},{label:"API Documentation",href:"#"},{label:"System Status",href:"#"},{label:"Privacy Policy",href:"#"},{label:"Terms of Service",href:"#"}].map((y,x)=>m.jsxs("a",{href:y.href,className:"flex items-center text-emerald-700 hover:text-emerald-800 transition-colors",children:[m.jsx(Xh,{className:"h-4 w-4 mr-2"}),y.label]},x))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Connect With Us"}),m.jsx("div",{className:"flex space-x-4",children:[{platform:"LinkedIn",href:"https://www.linkedin.com/in/akathedeveloper/"},{platform:"GitHub",href:"https://github.com/akathedeveloper/CareSync/"}].map((y,x)=>m.jsx("a",{href:y.href,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 hover:bg-emerald-100 text-gray-600 hover:text-emerald-600 p-3 rounded-xl transition-all duration-300 font-semibold",children:y.platform},x))})]})]})]})})}),m.jsxs("section",{className:"py-24 bg-gradient-to-br from-emerald-500 via-teal-600 to-blue-600 relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-black/10"}),m.jsxs("div",{className:"relative max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[m.jsx("h2",{className:"text-4xl lg:text-5xl font-black text-white mb-8",children:"Ready to Get Started?"}),m.jsx("p",{className:"text-xl lg:text-2xl text-white/90 mb-12 font-medium leading-relaxed max-w-3xl mx-auto",children:"Join thousands of healthcare providers who trust CareSync to transform their patient care"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[m.jsx(Bt,{to:"/register",className:"bg-white text-emerald-600 px-10 py-4 rounded-xl hover:bg-gray-50 transition-all duration-300 font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105",children:"Start Free Trial"}),m.jsx("a",{href:"#contact-form",className:"border-2 border-white text-white px-10 py-4 rounded-xl hover:bg-white hover:text-emerald-600 transition-all duration-300 font-bold text-lg backdrop-blur-sm transform hover:scale-105",children:"Contact Sales"})]})]})]})]})},mO=()=>{const{user:n,logout:e}=os(),t=()=>{e()},i=a=>{switch(a){case"patient":return" Patient";case"doctor":return" Doctor";case"pharmacist":return" Pharmacist";default:return a}};return m.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:m.jsx("div",{className:"px-6 py-2",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-primary-600",children:"CareSync"}),m.jsx("span",{className:"ml-2 px-2 py-1 bg-primary-100 text-primary-800 text-xs rounded-full",children:"Beta"})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("button",{className:"p-2 text-gray-600 hover:text-gray-900 relative",children:[m.jsx(Zp,{className:"h-6 w-6"}),m.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:"3"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(Bt,{to:"/dashboard/profile",className:"flex items-center space-x-2 hover:bg-gray-100 rounded-md p-2",children:[m.jsx(lD,{className:"h-8 w-8 text-gray-600"}),m.jsxs("div",{className:"text-sm",children:[m.jsx("p",{className:"font-medium text-gray-900",children:n?.name}),m.jsx("p",{className:"text-gray-500",children:i(n?.role)})]})]}),m.jsx("button",{onClick:t,className:"ml-2 p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Logout",children:m.jsx(y6,{className:"h-5 w-5"})})]})]})]})})})},pO=[{name:"Dashboard",href:"/dashboard/patient",icon:y0},{name:"Appointments",href:"/dashboard/appointments",icon:Vc},{name:"Prescriptions",href:"/patient/prescriptions",icon:Vc},{name:"Health Logs",href:"/patient/health-logs",icon:$c},{name:"Messages",href:"/patient/messages",icon:Hd},{name:"Settings",href:"/patient/settings",icon:g0}],gO=[{name:"Dashboard",href:"/dashboard/doctor",icon:y0},{name:"Schedule",href:"/dashboard/schedule",icon:Vc},{name:"Patients",href:"/doctor/patients",icon:$c},{name:"Messages",href:"/doctor/messages",icon:Hd},{name:"Settings",href:"/doctor/settings",icon:g0}],yO=[{name:"Dashboard",href:"/dashboard/pharmacist",icon:y0},{name:"Prescriptions",href:"/pharmacist/prescriptions",icon:Vc},{name:"Inventory",href:"/pharmacist/inventory",icon:$c},{name:"Messages",href:"/pharmacist/messages",icon:Hd},{name:"Settings",href:"/pharmacist/settings",icon:g0}];function vO(){const n=qA(),{user:e}=os(),[t,i]=Rp.useState(!1),a=e?.role==="doctor"?gO:e?.role==="pharmacist"?yO:pO;Rp.useEffect(()=>{i(!1)},[n.pathname]);const c="w-64",f=(()=>{switch(e?.role){case"patient":return{title:"Patient Panel",subtitle:"Your Health Hub"};case"doctor":return{title:"Doctor Panel",subtitle:"Your Practice Hub"};case"pharmacist":return{title:"Pharmacist Panel",subtitle:"Your Pharmacy Hub"};default:return{title:"CareSync",subtitle:"Integrated Health"}}})();return m.jsxs(m.Fragment,{children:[m.jsx("button",{"aria-label":"Open Sidebar",className:`
          fixed z-40 left-0 top-1/2 -translate-y-1/2
          bg-primary-600 text-white rounded-r-full shadow-md p-2
          focus:outline-none focus:ring-2 focus:ring-primary-400
          transition hover:bg-primary-700
          lg:hidden
        `,style:{},onClick:()=>i(!0),tabIndex:t?-1:0,children:m.jsx(j6,{className:"h-6 w-6"})}),t&&m.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 lg:hidden",onClick:()=>i(!1),"aria-label":"Sidebar overlay"}),m.jsxs("aside",{className:`
          fixed top-0 left-0 min-h-screen ${c}
          bg-gradient-to-b from-primary-50 via-white to-medical-50
          shadow-xl border-r border-gray-200 flex flex-col z-50
          transition-transform duration-200
          ${t?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0 lg:static lg:h-auto
        `,children:[m.jsxs("div",{className:"flex items-center gap-3 px-6 h-20 border-b border-gray-100 bg-white/80 backdrop-blur",children:[m.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-primary-100 shadow-inner",children:m.jsx("span",{className:"text-primary-600 text-2xl font-bold",children:""})}),m.jsxs("div",{children:[m.jsx("span",{className:"block text-lg font-bold text-primary-700 tracking-wide",children:f.title}),m.jsx("span",{className:"block text-xs text-gray-400",children:f.subtitle})]}),m.jsx("div",{className:"ml-auto lg:hidden",children:m.jsx("button",{"aria-label":"Close Sidebar",className:"p-1",onClick:()=>i(!1),children:m.jsx(v0,{className:"h-7 w-7 text-gray-500"})})})]}),m.jsx("nav",{className:"flex-1 mt-4 px-2 lg:px-4",children:m.jsx("ul",{className:"space-y-1",children:a.map(g=>{const y=n.pathname===g.href;return m.jsx("li",{children:m.jsxs(Bt,{to:g.href,className:`
                      flex items-center px-4 py-2 text-base rounded-lg transition-colors group
                      ${y?"bg-primary-100 text-primary-700 font-semibold shadow-inner":"text-gray-700 hover:bg-primary-50 hover:text-primary-700"}
                    `,children:[m.jsx(g.icon,{className:`
                        mr-3 h-6 w-6
                        ${y?"text-primary-500":"text-gray-400 group-hover:text-primary-400"}
                      `}),m.jsx("span",{className:"truncate",children:g.name})]})},g.name)})})}),m.jsxs("div",{className:"mt-auto mb-6 mx-4 p-4 bg-medical-50 rounded-xl shadow-sm hidden md:block",children:[m.jsx("h3",{className:"text-sm font-medium text-primary-700 mb-2 tracking-wide",children:"Quick Stats"}),m.jsxs("div",{className:"text-xs text-gray-600 space-y-1 font-mono",children:[m.jsx("p",{children:" 3 pending reminders"}),m.jsx("p",{children:" 1 new prescription"}),m.jsx("p",{children:" Next appointment: Tomorrow"})]})]}),m.jsx("div",{className:"hidden lg:block mt-auto px-6 pb-6",children:m.jsx("div",{className:"h-2 w-full rounded-xl bg-gradient-to-r from-primary-200 via-medical-200 to-primary-100 opacity-70"})})]})]})}const Oh=()=>m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(mO,{}),m.jsxs("div",{className:"flex",children:[m.jsx(vO,{}),m.jsx("main",{className:"flex-1 p-6",children:m.jsx(GA,{})})]})]}),tu=({size:n="md",color:e="primary"})=>{const t={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},i={primary:"text-primary-600",white:"text-white",gray:"text-gray-600"};return m.jsx("div",{className:"flex items-center justify-center",children:m.jsx("div",{className:`${t[n]} ${i[e]} animate-spin rounded-full border-2 border-current border-r-transparent`,role:"status","aria-label":"Loading",children:m.jsx("span",{className:"sr-only",children:"Loading..."})})})},xO=()=>{const{login:n,loginWithGoogle:e}=os(),t=lw(),[i,a]=I.useState(!1),[c,u]=I.useState(!1),[f,g]=I.useState(""),[y,x]=I.useState({email:"",password:"",role:"patient"}),_=U=>{x({...y,[U.target.name]:U.target.value}),f&&g("")},T=async U=>{U.preventDefault(),u(!0),g("");try{const B=await n(y.email,y.password,y.role);B.success&&t(`/${B.user.role}`)}catch(B){g(B.message)}finally{u(!1)}},C=async()=>{try{u(!0);const U=await e();U.success&&t(`/${U.user.role}`)}catch(U){g(U.message)}finally{u(!1)}},V=U=>{let B;U==="patient"&&(B=xd[0]),U==="doctor"&&(B=jc[0]),U==="pharmacist"&&(B=bd[0]),x({email:B.email,password:B.password,role:B.role})};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-2xl",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-center text-4xl font-extrabold text-primary-600",children:"CareSync"}),m.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Sign in to your account"}),m.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",m.jsx(Bt,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),m.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 text-blue-700 p-4 rounded-lg",children:[m.jsx("h3",{className:"text-sm font-bold mb-2",children:"Demo Credentials:"}),m.jsxs("div",{className:"space-y-2 text-xs",children:[m.jsxs("button",{type:"button",onClick:()=>V("patient"),className:"flex items-center gap-2 hover:text-blue-900 transition-colors",children:[" Patient: ",xd[0].email]}),m.jsxs("button",{type:"button",onClick:()=>V("doctor"),className:"flex items-center gap-2 hover:text-blue-900 transition-colors",children:[" Doctor: ",jc[0].email]}),m.jsxs("button",{type:"button",onClick:()=>V("pharmacist"),className:"flex items-center gap-2 hover:text-blue-900 transition-colors",children:[" Pharmacist: ",bd[0].email]}),m.jsxs("p",{className:"text-blue-600 pt-2",children:["Password: ",m.jsx("strong",{children:"password123"})]})]})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:T,children:[f&&m.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-lg",children:[m.jsx("p",{className:"font-bold",children:"Error"}),m.jsx("p",{children:f})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role",className:"sr-only",children:"Role"}),m.jsxs("select",{id:"role",name:"role",value:y.role,onChange:_,className:"appearance-none block w-full px-3 py-3 border border-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[m.jsx("option",{value:"patient",children:"Patient"}),m.jsx("option",{value:"doctor",children:"Doctor"}),m.jsx("option",{value:"pharmacist",children:"Pharmacist"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),m.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:y.email,onChange:_,placeholder:"Email address",className:"appearance-none block w-full px-3 py-3 border border-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{id:"password",name:"password",type:i?"text":"password",required:!0,value:y.password,onChange:_,placeholder:"Password",className:"appearance-none block w-full px-3 py-3 border border-gray-300 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5",onClick:()=>a(!i),children:i?m.jsx(Jp,{className:"h-5 w-5 text-gray-500"}):m.jsx(eg,{className:"h-5 w-5 text-gray-500"})})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),m.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),m.jsx("div",{className:"text-sm",children:m.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:c?m.jsx(tu,{size:"sm",color:"white"}):"Sign in"})}),m.jsxs("div",{className:"flex items-center my-4",children:[m.jsx("div",{className:"flex-grow border-t border-gray-300"}),m.jsx("span",{className:"mx-3 text-gray-500 text-sm",children:"OR"}),m.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),m.jsx("div",{children:m.jsxs("button",{type:"button",onClick:C,disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-gray-300 bg-white text-sm font-medium rounded-md shadow-sm hover:bg-gray-50",children:[m.jsx("img",{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",className:"h-5 w-5 mr-2"}),"Sign in with Google"]})})]})]})})},bO=()=>{const{register:n,loginWithGoogle:e}=os(),t=lw(),[i,a]=I.useState(!1),[c,u]=I.useState(!1),[f,g]=I.useState(!1),[y,x]=I.useState(""),[_,T]=I.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"patient",phone:"",specialization:"",licenseNumber:"",experience:"",pharmacyName:"",pharmacyAddress:""}),C=K=>{T({..._,[K.target.name]:K.target.value}),y&&x("")},V=async K=>{if(K.preventDefault(),_.password!==_.confirmPassword){x("Passwords do not match!");return}g(!0),x("");try{const $=await n(_);$.success&&t(`/${$.user.role}`)}catch($){x($.message)}finally{g(!1)}},U=async()=>{try{await e(),t("/dashboard")}catch(K){alert("Google sign-in failed: "+K.message)}},B=()=>{switch(_.role){case"doctor":return m.jsxs(m.Fragment,{children:[m.jsx("input",{name:"specialization",type:"text",required:!0,value:_.specialization,onChange:C,placeholder:"Specialization",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),m.jsx("input",{name:"licenseNumber",type:"text",required:!0,value:_.licenseNumber,onChange:C,placeholder:"Medical License Number",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),m.jsx("input",{name:"experience",type:"number",value:_.experience,onChange:C,placeholder:"Years of Experience",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"})]});case"pharmacist":return m.jsxs(m.Fragment,{children:[m.jsx("input",{name:"licenseNumber",type:"text",required:!0,value:_.licenseNumber,onChange:C,placeholder:"Pharmacy License Number",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),m.jsx("input",{name:"pharmacyName",type:"text",required:!0,value:_.pharmacyName,onChange:C,placeholder:"Pharmacy Name",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),m.jsx("textarea",{name:"pharmacyAddress",required:!0,value:_.pharmacyAddress,onChange:C,rows:3,placeholder:"Pharmacy Address",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"})]});default:return null}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-2xl",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-center text-4xl font-extrabold text-primary-600",children:"CareSync"}),m.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Create your account"}),m.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",m.jsx(Bt,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in here"})]})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:V,children:[y&&m.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-lg",children:[m.jsx("p",{className:"font-bold",children:"Error"}),m.jsx("p",{children:y})]}),m.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[m.jsxs("div",{className:"relative mb-4",children:[m.jsxs("select",{id:"role",name:"role",value:_.role,onChange:C,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",children:[m.jsx("option",{value:"patient",children:"Patient"}),m.jsx("option",{value:"doctor",children:"Doctor"}),m.jsx("option",{value:"pharmacist",children:"Pharmacist"})]}),m.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:m.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-x-2",children:[m.jsx("input",{name:"firstName",type:"text",required:!0,value:_.firstName,onChange:C,placeholder:"First Name",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),m.jsx("input",{name:"lastName",type:"text",required:!0,value:_.lastName,onChange:C,placeholder:"Last Name",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"})]}),m.jsx("input",{name:"email",type:"email",required:!0,value:_.email,onChange:C,placeholder:"Email Address",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),m.jsx("input",{name:"phone",type:"tel",required:!0,value:_.phone,onChange:C,placeholder:"Phone Number",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),B(),m.jsxs("div",{className:"relative",children:[m.jsx("input",{id:"password",name:"password",type:i?"text":"password",required:!0,value:_.password,onChange:C,placeholder:"Password",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5",onClick:()=>a(!i),children:i?m.jsx(Jp,{className:"h-5 w-5 text-gray-500"}):m.jsx(eg,{className:"h-5 w-5 text-gray-500"})})]}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:c?"text":"password",required:!0,value:_.confirmPassword,onChange:C,placeholder:"Confirm Password",className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm"}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5",onClick:()=>u(!c),children:c?m.jsx(Jp,{className:"h-5 w-5 text-gray-500"}):m.jsx(eg,{className:"h-5 w-5 text-gray-500"})})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"agree-terms",name:"agree-terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),m.jsxs("label",{htmlFor:"agree-terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",m.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Terms of Service"})]})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:f?m.jsx(tu,{size:"sm",color:"white"}):"Create Account"})}),m.jsxs("div",{className:"mt-6",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-gray-300"})}),m.jsx("div",{className:"relative flex justify-center text-sm",children:m.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Or continue with"})})]}),m.jsx("div",{className:"mt-6",children:m.jsxs("button",{type:"button",onClick:U,className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[m.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),m.jsx("span",{className:"ml-2",children:"Sign up with Google"})]})})]})]})]})})},pS=I.createContext(),Xd=()=>I.useContext(pS),gS=({children:n})=>{const[e,t]=I.useState(()=>{try{const f=localStorage.getItem("appointments");return f?JSON.parse(f):Lb}catch(f){return console.error("Error parsing appointments from localStorage",f),Lb}});I.useEffect(()=>{try{localStorage.setItem("appointments",JSON.stringify(e))}catch(f){console.error("Error saving appointments to localStorage",f)}},[e]);const i=f=>{const g={...f,id:`apt${Date.now()}`,status:"Pending"};t(y=>[...y,g])},a=(f,g)=>{t(y=>y.map(x=>x.id===f?{...x,status:g}:x))},u={appointments:e,doctors:jc,bookAppointment:i,updateAppointmentStatus:a,cancelAppointment:f=>{a(f,"Cancelled")}};return m.jsx(pS.Provider,{value:u,children:n})},_O=[{id:"RX001",doctor:"Dr. Sarah Johnson",date:"2024-01-15",status:"active",medicines:[{name:"Metformin",dosage:"500mg",frequency:"Twice daily",duration:"30 days"},{name:"Lisinopril",dosage:"10mg",frequency:"Once daily",duration:"30 days"}],instructions:"Take with meals. Monitor blood sugar levels regularly.",nextRefill:"2024-02-14"},{id:"RX002",doctor:"Dr. Michael Brown",date:"2024-01-10",status:"completed",medicines:[{name:"Amoxicillin",dosage:"500mg",frequency:"Three times daily",duration:"7 days"}],instructions:"Complete the full course even if symptoms improve.",nextRefill:null},{id:"RX003",doctor:"Dr. Sarah Johnson",date:"2024-01-05",status:"expired",medicines:[{name:"Vitamin D3",dosage:"1000 IU",frequency:"Once daily",duration:"90 days"}],instructions:"Take with fat-containing meal for better absorption.",nextRefill:"2024-04-05"}],iw={active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",expired:"bg-gray-100 text-gray-600"};function wO(){const[n,e]=I.useState(null);return m.jsxs("div",{className:"p-2 sm:p-6",children:[m.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Prescriptions"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_O.map(t=>m.jsxs("div",{className:"bg-white shadow rounded-lg p-4 flex flex-col justify-between h-full",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("span",{className:"font-semibold text-base",children:t.id}),m.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${iw[t.status]}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),m.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Doctor:"})," ",t.doctor]}),m.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Date:"})," ",t.date]}),m.jsxs("div",{className:"text-sm mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Medicines:"}),m.jsx("ul",{className:"list-disc pl-5",children:t.medicines.map((i,a)=>m.jsxs("li",{children:[i.name," (",i.dosage,")"]},a))})]}),m.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Next Refill:"})," ",t.nextRefill||m.jsx("span",{className:"text-gray-400 italic",children:"-"})]})]}),m.jsx("button",{className:"mt-3 px-4 py-2 bg-primary-600 text-white font-semibold rounded shadow hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-400 transition",onClick:()=>e(t),children:"View Details"})]},t.id))}),n&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:m.jsxs("div",{className:"bg-white w-full sm:w-auto sm:min-w-[340px] max-w-lg m-2 sm:m-0 rounded-lg shadow-lg p-4 sm:p-6 relative",children:[m.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl",onClick:()=>e(null),"aria-label":"Close prescription details",children:""}),m.jsxs("h3",{className:"text-lg font-bold mb-2",children:["Prescription ID: ",n.id]}),m.jsxs("p",{className:"mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Doctor:"})," ",n.doctor]}),m.jsxs("p",{className:"mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Date:"})," ",n.date]}),m.jsxs("p",{className:"mb-1",children:[m.jsx("span",{className:"font-semibold",children:"Status:"}),m.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-semibold ${iw[n.status]}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),m.jsxs("div",{className:"mt-2",children:[m.jsx("span",{className:"font-semibold",children:"Medicines:"}),m.jsx("ul",{className:"list-disc pl-5",children:n.medicines.map((t,i)=>m.jsxs("li",{children:[t.name,"  ",t.dosage,", ",t.frequency," (",t.duration,")"]},i))})]}),m.jsxs("p",{className:"mt-2",children:[m.jsx("span",{className:"font-semibold",children:"Instructions:"})," ",n.instructions]}),m.jsxs("p",{className:"mt-2",children:[m.jsx("span",{className:"font-semibold",children:"Next Refill:"})," ",n.nextRefill||m.jsx("span",{className:"text-gray-400 italic",children:"-"})]}),m.jsx("button",{className:"mt-4 w-full py-2 rounded bg-blue-600 text-white font-semibold hover:bg-blue-700",onClick:()=>e(null),children:"Close"})]})})]})}const yS=()=>{const{user:n}=os(),{appointments:e,doctors:t,bookAppointment:i}=Xd(),[a,c]=I.useState(""),[u,f]=I.useState(""),[g,y]=I.useState(""),x=I.useMemo(()=>{const V=new Date;return e.filter(U=>U.patientId===n.id).map(U=>({...U,doctor:m6(U.doctorId),isUpcoming:new Date(`${U.date}T${U.time.replace(" ","")}`)>=V&&U.status!=="Cancelled"&&U.status!=="Rejected"})).sort((U,B)=>new Date(B.date)-new Date(U.date))},[e,n.id]),_=V=>{V.preventDefault(),a&&u&&g&&(i({patientId:n.id,doctorId:a,date:u,time:g}),c(""),f(""),y(""))},T=V=>{switch(V.toLowerCase()){case"confirmed":return"bg-green-500";case"pending":return"bg-yellow-500";case"cancelled":case"rejected":return"bg-red-500";default:return"bg-gray-500"}},C=({apt:V})=>m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden relative",children:[m.jsx("div",{className:`absolute top-4 right-4 px-3 py-1 text-white text-xs font-bold rounded-full ${V.isUpcoming?"bg-blue-500":"bg-gray-500"}`,children:V.isUpcoming?"Upcoming":"Past"}),m.jsx("div",{className:`h-2 ${T(V.status)}`}),m.jsxs("div",{className:"p-6",children:[m.jsxs("h3",{className:"text-2xl font-bold text-gray-700 mb-4",children:["Dr. ",V.doctor?.name||"N/A"]}),m.jsxs("p",{className:"text-gray-600 mb-2",children:[m.jsx("strong",{children:"Date:"})," ",V.date]}),m.jsxs("p",{className:"text-gray-600 mb-4",children:[m.jsx("strong",{children:"Time:"})," ",V.time]}),m.jsx("div",{className:"flex justify-between items-center",children:m.jsx("span",{className:`px-4 py-1 text-white text-sm font-semibold rounded-full ${T(V.status)}`,children:V.status})})]})]});return m.jsxs("div",{className:"p-8 bg-gradient-to-b from-blue-50 to-blue-100 rounded-xl shadow-lg",children:[m.jsx("header",{className:"mb-8 text-center",children:m.jsx("h2",{className:"text-4xl font-extrabold text-gray-800",children:"Your Appointments"})}),m.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:x.length>0?x.map(V=>m.jsx(C,{apt:V},V.id)):m.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"You have no appointments."})}),m.jsxs("div",{className:"mt-12 p-8 bg-white rounded-lg shadow-lg",children:[m.jsx("h3",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Book a New Appointment"}),m.jsxs("form",{onSubmit:_,className:"flex flex-col gap-6",children:[m.jsxs("select",{value:a,onChange:V=>c(V.target.value),className:"p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"",children:"Select a Doctor"}),t&&t.map(V=>m.jsxs("option",{value:V.id,children:[V.name," - ",V.specialization]},V.id))]}),m.jsx("input",{type:"date",value:u,onChange:V=>f(V.target.value),className:"p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),m.jsxs("select",{value:g,onChange:V=>y(V.target.value),disabled:!a,className:"p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200",children:[m.jsx("option",{value:"",children:"Select a Time"}),a&&t.find(V=>V.id===a)?.availability?.map(V=>m.jsx("option",{value:V,children:V},V))]}),m.jsx("button",{type:"submit",className:"p-4 bg-blue-500 text-white font-bold rounded-lg hover:bg-blue-600",children:"Book Now"})]})]})]})},TO=()=>{const[n,e]=I.useState("vitals"),t=[{date:"2024-01-15",type:"Blood Pressure",value:"120/80",unit:"mmHg",status:"normal"},{date:"2024-01-15",type:"Heart Rate",value:"72",unit:"bpm",status:"normal"},{date:"2024-01-15",type:"Temperature",value:"98.6",unit:"F",status:"normal"},{date:"2024-01-14",type:"Weight",value:"70",unit:"kg",status:"normal"},{date:"2024-01-14",type:"Blood Sugar",value:"95",unit:"mg/dL",status:"normal"}],i=[{date:"2024-01-13",symptom:"Headache",severity:"mild",notes:"After long work day"},{date:"2024-01-10",symptom:"Fatigue",severity:"moderate",notes:"Lasted 2 days"},{date:"2024-01-08",symptom:"Cough",severity:"mild",notes:"Dry cough, no fever"}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Health Logs"}),m.jsxs("button",{className:"btn-primary flex items-center space-x-2",children:[m.jsx(sD,{className:"h-5 w-5"}),m.jsx("span",{children:"Add Entry"})]})]}),m.jsx("div",{className:"border-b border-gray-200",children:m.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"vitals",name:"Vital Signs",icon:zb},{id:"symptoms",name:"Symptoms",icon:zb}].map(a=>m.jsxs("button",{onClick:()=>e(a.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors ${n===a.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[m.jsx(a.icon,{className:"h-5 w-5"}),m.jsx("span",{children:a.name})]},a.id))})}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[n==="vitals"&&m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vital Signs History"}),m.jsx("div",{className:"space-y-4",children:t.map((a,c)=>m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:a.type}),m.jsx("p",{className:"text-sm text-gray-600",children:a.date})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-semibold text-gray-900",children:[a.value," ",m.jsx("span",{className:"text-sm font-normal text-gray-600",children:a.unit})]}),m.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${a.status==="normal"?"bg-green-100 text-green-800":a.status==="high"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.status})]})]},c))})]}),n==="symptoms"&&m.jsxs("div",{className:"p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Symptom History"}),m.jsx("div",{className:"space-y-4",children:i.map((a,c)=>m.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"font-medium text-gray-900",children:a.symptom}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a.severity==="mild"?"bg-green-100 text-green-800":a.severity==="moderate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.severity}),m.jsx("span",{className:"text-sm text-gray-600",children:a.date})]})]}),m.jsx("p",{className:"text-sm text-gray-600",children:a.notes})]},c))})]})]})]})},vS=()=>{const[n,e]=I.useState([{id:1,medicine:"Vitamin D3",dosage:"1000 IU",time:"08:00 AM",taken:!1,frequency:"Daily"},{id:2,medicine:"Metformin",dosage:"500mg",time:"12:00 PM",taken:!0,frequency:"Twice daily"},{id:3,medicine:"Lisinopril",dosage:"10mg",time:"08:00 PM",taken:!1,frequency:"Daily"}]),t=i=>{e(n.map(a=>a.id===i?{...a,taken:!a.taken}:a))};return m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Medicine Reminders"}),m.jsx("button",{className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View All"})]}),m.jsx("div",{className:"space-y-3",children:n.map(i=>m.jsx("div",{className:`p-4 rounded-lg border-2 transition-colors ${i.taken?"border-green-200 bg-green-50":"border-gray-200 bg-white hover:border-primary-200"}`,children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("h4",{className:`font-medium ${i.taken?"text-green-800 line-through":"text-gray-900"}`,children:i.medicine}),m.jsxs("span",{className:"text-sm text-gray-500",children:["(",i.dosage,")"]})]}),m.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-600",children:[m.jsx(jo,{className:"h-4 w-4 mr-1"}),m.jsxs("span",{children:[i.time,"  ",i.frequency]})]})]}),m.jsx("button",{onClick:()=>t(i.id),className:`p-2 rounded-full transition-colors ${i.taken?"text-green-600 bg-green-100":"text-gray-400 hover:text-green-600 hover:bg-green-50"}`,children:m.jsx(p0,{className:"h-5 w-5"})})]})},i.id))}),m.jsx("button",{className:"w-full mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Set New Reminder"})]})},rw=({activeTab:n})=>{const{user:e}=os(),{appointments:t}=Xd(),a=t.filter(u=>u.patientId===e?.id).length,c=()=>{switch(n){case"prescriptions":return m.jsx(wO,{});case"appointments":return m.jsx(yS,{});case"health-logs":return m.jsx(TO,{});case"medicine-reminders":return m.jsx(vS,{});default:return m.jsx(EO,{user:e,apptCount:a})}};return m.jsx("div",{className:"p-6 bg-gray-50 min-h-full",children:c()})},EO=({user:n,apptCount:e})=>{const t=[{name:"Active Prescriptions",value:"3",icon:P2,color:"text-blue-600"},{name:"Medicine Reminders",value:"5",icon:jo,color:"text-green-600"},{name:"Health Logs",value:"12",icon:Zr,color:"text-red-600"},{name:"Appointments",value:String(e),icon:jo,color:"text-purple-600"}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",n?.name,"!"]}),m.jsx("p",{className:"text-gray-600",children:"Here's your health overview for today."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(i=>m.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:`p-2 rounded-lg bg-gray-100 ${i.color}`,children:m.jsx(i.icon,{className:"h-6 w-6"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:i.name}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.value})]})]})},i.name))}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(vS,{}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Health Logs"}),m.jsx("div",{className:"space-y-3",children:[{date:"Today",type:"Blood Pressure",value:"120/80 mmHg",status:"normal"},{date:"Yesterday",type:"Weight",value:"70 kg",status:"normal"},{date:"2 days ago",type:"Temperature",value:"98.6F",status:"normal"}].map((i,a)=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:i.type}),m.jsx("p",{className:"text-sm text-gray-600",children:i.date})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"font-medium text-gray-900",children:i.value}),m.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:i.status})]})]},a))})]})]})]})},xS=()=>{const{user:n}=os(),{appointments:e,updateAppointmentStatus:t,cancelAppointment:i}=Xd(),a=I.useMemo(()=>{const f=new Date;return e.filter(g=>g.doctorId===n.id).map(g=>({...g,patient:I2(g.patientId),isUpcoming:new Date(`${g.date}T${g.time.replace(" ","")}`)>=f&&g.status!=="Cancelled"&&g.status!=="Rejected"})).sort((g,y)=>new Date(y.date)-new Date(g.date))},[e,n.id]),c=f=>{switch(f.toLowerCase()){case"confirmed":return"bg-green-500";case"pending":return"bg-yellow-500";case"cancelled":case"rejected":return"bg-red-500";default:return"bg-gray-500"}},u=({apt:f})=>m.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden relative",children:[m.jsx("div",{className:`absolute top-4 right-4 px-3 py-1 text-white text-xs font-bold rounded-full ${f.isUpcoming?"bg-blue-500":"bg-gray-500"}`,children:f.isUpcoming?"Upcoming":"Past"}),m.jsx("div",{className:`h-2 ${c(f.status)}`}),m.jsxs("div",{className:"p-6",children:[m.jsxs("h3",{className:"text-2xl font-bold text-gray-700 mb-4",children:["Patient: ",f.patient?.name||"N/A"]}),m.jsxs("p",{className:"text-gray-600 mb-2",children:[m.jsx("strong",{children:"Date:"})," ",f.date]}),m.jsxs("p",{className:"text-gray-600 mb-4",children:[m.jsx("strong",{children:"Time:"})," ",f.time]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:`px-4 py-1 text-white text-sm font-semibold rounded-full ${c(f.status)}`,children:f.status}),f.status==="Pending"&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>t(f.id,"Confirmed"),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Accept"}),m.jsx("button",{onClick:()=>t(f.id,"Rejected"),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Reject"})]}),f.status==="Confirmed"&&f.isUpcoming&&m.jsx("button",{onClick:()=>i(f.id),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Cancel"})]})]})]});return m.jsxs("div",{className:"p-8 bg-gradient-to-b from-purple-50 to-purple-100 rounded-xl shadow-lg",children:[m.jsx("header",{className:"mb-8 text-center",children:m.jsx("h2",{className:"text-4xl font-extrabold text-gray-800",children:"Your Appointment Schedule"})}),m.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:a.length>0?a.map(f=>m.jsx(u,{apt:f},f.id)):m.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"You have no appointments."})})]})},aw=({activeTab:n})=>{const{user:e}=os(),{appointments:t}=Xd(),i=t.filter(u=>u.doctorId===e.id).map(u=>({...u,patient:I2(u.patientId)})),a=i.filter(u=>u.status==="Pending"),c=()=>{switch(n){case"schedule":return m.jsx(xS,{});default:return m.jsx(SO,{user:e,appointments:i,pendingAppointments:a})}};return m.jsx("div",{className:"p-6 bg-gray-50 min-h-full",children:c()})},SO=({user:n,appointments:e,pendingAppointments:t})=>m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-semibold text-gray-800",children:["Welcome, ",n.name,"!"]}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Here's a quick overview of your dashboard."}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Appointments"}),m.jsxs("p",{className:"text-gray-600 mt-2",children:["You have ",e.length," total appointments."]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Pending Requests"}),m.jsxs("p",{className:"text-gray-600 mt-2",children:[t.length," new appointment requests."]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Open Patient Cases"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"You have 8 open cases."})]})]})]}),ow=()=>{const n=[{name:"Pending Orders",value:"12",icon:jo,color:"text-yellow-600"},{name:"Completed Today",value:"28",icon:p0,color:"text-green-600"},{name:"Total Prescriptions",value:"156",icon:Vc,color:"text-blue-600"},{name:"Out for Delivery",value:"8",icon:aD,color:"text-purple-600"}],e=[{id:"RX001",patient:"John Doe",doctor:"Dr. Smith",medicines:["Metformin 500mg","Lisinopril 10mg"],priority:"high",submittedAt:"2 hours ago"},{id:"RX002",patient:"Sarah Wilson",doctor:"Dr. Johnson",medicines:["Vitamin D3","Calcium tablets"],priority:"normal",submittedAt:"4 hours ago"},{id:"RX003",patient:"Michael Brown",doctor:"Dr. Davis",medicines:["Ibuprofen 400mg"],priority:"low",submittedAt:"6 hours ago"}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pharmacy Dashboard"}),m.jsx("p",{className:"text-gray-600",children:"Manage prescriptions and track orders efficiently."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(t=>m.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:t.name}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.value})]}),m.jsx("div",{className:`p-3 rounded-lg bg-gray-100 ${t.color}`,children:m.jsx(t.icon,{className:"h-6 w-6"})})]})},t.name))}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pending Prescription Orders"}),m.jsx("button",{className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View All Orders"})]}),m.jsx("div",{className:"space-y-4",children:e.map(t=>m.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-200 transition-colors",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:t.id}),m.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t.priority==="high"?"bg-red-100 text-red-800":t.priority==="normal"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[t.priority," priority"]})]}),m.jsx("span",{className:"text-sm text-gray-500",children:t.submittedAt})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Patient"}),m.jsx("p",{className:"text-gray-900",children:t.patient})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prescribed by"}),m.jsx("p",{className:"text-gray-900",children:t.doctor})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Medicines"}),m.jsxs("p",{className:"text-gray-900",children:[t.medicines.length," items"]})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Prescribed Medicines:"}),m.jsx("div",{className:"space-y-1",children:t.medicines.map((i,a)=>m.jsx("span",{className:"inline-block bg-medical-50 text-medical-700 px-2 py-1 rounded-md text-sm mr-2",children:i},a))})]}),m.jsxs("div",{className:"flex justify-end space-x-3",children:[m.jsx("button",{className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Review Details"}),m.jsx("button",{className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Process Order"})]})]},t.id))})]})]})},AO=()=>{const{user:n,loading:e}=os(),[t,i]=I.useState(!1),[a,c]=I.useState({name:"",email:"",contact:"",specialization:"",licenseNumber:"",experience:"",pharmacyName:"",pharmacyAddress:""});I.useEffect(()=>{n&&c({name:n.name||"",email:n.email||"",contact:n.contact||"",specialization:n.specialization||"",licenseNumber:n.licenseNumber||"",experience:n.experience||"",pharmacyName:n.pharmacyName||"",pharmacyAddress:n.pharmacyAddress||""})},[n]);const u=y=>{const{name:x,value:_}=y.target;c(T=>({...T,[x]:_}))},f=()=>{i(!t)},g=y=>{y.preventDefault(),console.log("Updated profile data:",a),i(!1)};return e?m.jsx("div",{className:"flex justify-center items-center h-full",children:m.jsx(tu,{size:"lg"})}):n?m.jsx("div",{className:"container mx-auto p-4 md:p-8",children:m.jsx("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"My Profile"}),m.jsxs("form",{onSubmit:g,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"name",className:"block text-gray-700 font-semibold mb-2",children:"Full Name"}),m.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:u,disabled:!t,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-semibold mb-2",children:"Email Address"}),m.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:u,disabled:!t,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{htmlFor:"contact",className:"block text-gray-700 font-semibold mb-2",children:"Contact Number"}),m.jsx("input",{type:"tel",id:"contact",name:"contact",value:a.contact,onChange:u,disabled:!t,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),n.role==="doctor"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"specialization",className:"block text-gray-700 font-semibold mb-2",children:"Specialization"}),m.jsx("input",{type:"text",id:"specialization",name:"specialization",value:a.specialization,onChange:u,disabled:!t,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"licenseNumber",className:"block text-gray-700 font-semibold mb-2",children:"Medical License Number"}),m.jsx("input",{type:"text",id:"licenseNumber",name:"licenseNumber",value:a.licenseNumber,onChange:u,disabled:!t,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{htmlFor:"experience",className:"block text-gray-700 font-semibold mb-2",children:"Years of Experience"}),m.jsx("input",{type:"number",id:"experience",name:"experience",value:a.experience,onChange:u,disabled:!t,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]})]}),n.role==="pharmacist"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"licenseNumber",className:"block text-gray-700 font-semibold mb-2",children:"Pharmacy License Number"}),m.jsx("input",{type:"text",id:"licenseNumber",name:"licenseNumber",value:a.licenseNumber,onChange:u,disabled:!t,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"pharmacyName",className:"block text-gray-700 font-semibold mb-2",children:"Pharmacy Name"}),m.jsx("input",{type:"text",id:"pharmacyName",name:"pharmacyName",value:a.pharmacyName,onChange:u,disabled:!t,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{htmlFor:"pharmacyAddress",className:"block text-gray-700 font-semibold mb-2",children:"Pharmacy Address"}),m.jsx("textarea",{id:"pharmacyAddress",name:"pharmacyAddress",value:a.pharmacyAddress,onChange:u,disabled:!t,rows:"3",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]})]}),m.jsxs("div",{className:"flex items-center justify-end gap-4",children:[m.jsx("button",{type:"button",onClick:f,className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:t?"Cancel":"Edit Profile"}),t&&m.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})]})})}):m.jsx("div",{className:"text-center mt-8",children:"Please log in to view your profile."})},kh=({children:n})=>{const{user:e,loading:t}=os();return t?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx(tu,{size:"lg"})}):e?n:m.jsx(sc,{to:"/login"})},RO=()=>{const{user:n,loading:e}=os();return e?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:m.jsxs("div",{className:"text-center",children:[m.jsx(tu,{size:"xl"}),m.jsx("p",{className:"mt-4 text-gray-600",children:"Loading CareSync..."})]})}):m.jsxs(YA,{children:[m.jsx(tn,{path:"/",element:m.jsx(dO,{})}),m.jsx(tn,{path:"/contact",element:m.jsx(fO,{})}),m.jsx(tn,{path:"/login",element:n?m.jsx(sc,{to:`/${n.role}`}):m.jsx(xO,{})}),m.jsx(tn,{path:"/register",element:n?m.jsx(sc,{to:`/${n.role}`}):m.jsx(bO,{})}),m.jsxs(tn,{path:"/dashboard",element:m.jsx(kh,{children:m.jsx(Oh,{})}),children:[m.jsx(tn,{index:!0,element:m.jsx(sc,{to:`/${n?.role||"login"}`})}),m.jsx(tn,{path:"patient",element:m.jsx(rw,{})}),m.jsx(tn,{path:"doctor",element:m.jsx(aw,{})}),m.jsx(tn,{path:"pharmacist",element:m.jsx(ow,{})}),m.jsx(tn,{path:"profile",element:m.jsx(AO,{})}),m.jsx(tn,{path:"appointments",element:m.jsx(yS,{})}),m.jsx(tn,{path:"schedule",element:m.jsx(xS,{})})]}),m.jsx(tn,{path:"/patient",element:m.jsx(kh,{children:m.jsx(Oh,{children:m.jsx(rw,{})})})}),m.jsx(tn,{path:"/doctor",element:m.jsx(kh,{children:m.jsx(Oh,{children:m.jsx(aw,{})})})}),m.jsx(tn,{path:"/pharmacist",element:m.jsx(kh,{children:m.jsx(Oh,{children:m.jsx(ow,{})})})}),m.jsx(tn,{path:"*",element:m.jsx(sc,{to:"/"})})]})};function NO(){return m.jsx(V2,{children:m.jsx(gS,{children:m.jsx(KA,{children:m.jsx("div",{className:"App",children:m.jsx(RO,{})})})})})}tR.createRoot(document.getElementById("root")).render(m.jsx(Rp.StrictMode,{children:m.jsx(V2,{children:m.jsx(gS,{children:m.jsx(NO,{})})})}));
